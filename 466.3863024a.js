(self.webpackChunkgeo_draw=self.webpackChunkgeo_draw||[]).push([[466],{726:()=>{},466:(n,e,t)=>{"use strict";var o,a,r,i,l,s,c,d,u,h,p,f,m,v,g,y,b,x=t(861),w=t(168),k=t(942),M=t(671),Z=t(144),_=t(340),P=t(215),C=t(120),E=t(757),R=t.n(E),D=t(392),O=t(959),j=t(458),B=t(845),S=(t(129),t(293)),Y=t(726);function T(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,o)}return t}function L(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?T(Object(t),!0).forEach((function(e){(0,k.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):T(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}(0,S.C)()?t.e(238).then(t.bind(t,964)):t.e(968).then(t.bind(t,971));var I={},X=function(n){(0,_.Z)(E,n);var e,t,k=(e=E,t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}(),function(){var n,o=(0,C.Z)(e);if(t){var a=(0,C.Z)(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return(0,P.Z)(this,n)});function E(){var n;return(0,M.Z)(this,E),(n=k.call(this)).render3d=!1,n.details=!0,n}return(0,Z.Z)(E,[{key:"handleLocationHover",value:function(n){if(this.details){var e=this.shadowRoot.getElementById("info-box-wrapper");if(n.location&&n.position){var t=this.shadowRoot.getElementById("info-box-name"),o=this.shadowRoot.getElementById("map-wrapper");t.innerText=n.location.name.split(",")[0],Array.from(e.getElementsByClassName("info-field-value")).forEach((function(e,t){e.innerText=(Math.round(100*n.location.data[t])/100).toLocaleString()}));var a=o.getBoundingClientRect(),r=n.position[0]-a.x,i=n.position[1]-a.y,l=Math.min(Math.max(l,0),a.height);e.style.setProperty("--anchor-point",r/a.width*90+5+"%"),e.style.setProperty("--anchor-at-bottom",l>1.2*(e.clientHeight+12)?1:0),e.style.left=r+"px",e.style.top=i+"px",e.classList.add("visible");var s=e.getBoundingClientRect();s.x<4?(r=Math.max(r,8.5),i=Math.min(Math.max(i,.1*s.height),a.height-.1*s.height),e.style.setProperty("--anchor-point","0%"),e.style.setProperty("--anchor-at-bottom",i/a.height*.8+.1)):s.x+s.width+4>a.x+a.width?(r=Math.min(r,a.width-8.5),i=Math.min(Math.max(i,.1*s.height),a.height-.1*s.height),e.style.setProperty("--anchor-point","100%"),e.style.setProperty("--anchor-at-bottom",i/a.height*.8+.1)):(i=Math.min(Math.max(i,0),a.height),e.style.setProperty("--anchor-point",r/a.width*90+5+"%"),e.style.setProperty("--anchor-at-bottom",i>1.2*(s.height+12)?1:0)),e.style.left=r+"px",e.style.top=i+"px",e.current_location=location}else{var c=this.shadowRoot.getElementById("info-box-wrapper");c.classList.remove("visible"),c.current_location=null}}}},{key:"handleScroll",value:function(n){if(n.preventDefault(),0!=n.deltaY){var e=this.shadowRoot.getElementById("map-backend"),t=e.scale;n.deltaY<0?t*=Math.pow(1.001,-n.deltaY):t*=Math.pow(.999,n.deltaY);var o=(t=Math.min(Math.max(.5,t),30))/e.scale,a=e.center,r=e.clientPosToMapPos([n.clientX,n.clientY]),i=[(r[0]-a[0])*(1-1/o),(r[1]-a[1])*(1-1/o)],l=[a[0]+i[0],a[1]+i[1]];e.setCenterAndScale(l,t)}}},{key:"handleDragStart",value:function(n){n.preventDefault();var e=this.shadowRoot.getElementById("map-wrapper");this.last_drag_pos=[n.clientX,n.clientY],e.onmouseup=this.handleDragEnd.bind(this),e.onmouseleave=this.handleDragEnd.bind(this),e.onmousemove=this.handleDragMove.bind(this),e.style.cursor="grabbing"}},{key:"handleDragMove",value:function(n){n.preventDefault();var e=this.shadowRoot.getElementById("map-backend"),t=e.clientPosToMapPos(this.last_drag_pos);this.last_drag_pos=[n.clientX,n.clientY];var o=e.clientPosToMapPos([n.clientX,n.clientY]),a=[o[0]-t[0],o[1]-t[1]],r=[e.center[0]-a[0],e.center[1]-a[1]];e.setCenterAndScale(r,e.scale)}},{key:"handleDragEnd",value:function(n){n.preventDefault();var e=this.shadowRoot.getElementById("map-wrapper");e.onmouseup=null,e.onmouseleave=null,e.onmousemove=null,e.style.cursor=null}},{key:"handleTouchStart",value:function(n){if(n.preventDefault(),(2==n.touches.length||1==n.touches.length)&&(this.avg_touch_pos=Array.from(n.touches).map((function(n){return[n.clientX,n.clientY]})).reduce((function(n,e){return[n[0]+e[0],n[1]+e[1]]})).map((function(e){return e/n.touches.length})),2==n.touches.length)){var e=[[n.touches[0].clientX,n.touches[0].clientY],[n.touches[1].clientX,n.touches[1].clientY]],t=[e[0][0]-e[1][0],e[0][1]-e[1][1]];this.touch_dist=t[0]*t[0]+t[1]*t[1]}}},{key:"handleTouchMove",value:function(n){if(n.preventDefault(),2==n.touches.length||1==n.touches.length){var e=this.shadowRoot.getElementById("map-backend"),t=Array.from(n.touches).map((function(n){return[n.clientX,n.clientY]})).reduce((function(n,e){return[n[0]+e[0],n[1]+e[1]]})).map((function(e){return e/n.touches.length})),o=e.clientPosToMapPos(this.avg_touch_pos);this.avg_touch_pos=t;var a=e.clientPosToMapPos([t[0],t[1]]),r=[a[0]-o[0],a[1]-o[1]],i=[e.center[0]-r[0],e.center[1]-r[1]],l=e.scale;if(2==n.touches.length){var s=[[n.touches[0].clientX,n.touches[0].clientY],[n.touches[1].clientX,n.touches[1].clientY]],c=[s[0][0]-s[1][0],s[0][1]-s[1][1]],d=c[0]*c[0]+c[1]*c[1];if(0!==this.touch_dist&&0!==d){l*=d/this.touch_dist,this.touch_dist=d;var u=(l=Math.min(Math.max(.5,l),30))/e.scale,h=e.clientPosToMapPos(t),p=[(h[0]-i[0])*(1-1/u),(h[1]-i[1])*(1-1/u)];i[0]+=p[0],i[1]+=p[1]}}e.setCenterAndScale(i,l)}}},{key:"handleTouchEnd",value:function(n){n.preventDefault(),this.avg_touch_pos=Array.from(n.touches).map((function(n){return[n.clientX,n.clientY]})).reduce((function(n,e){return[n[0]+e[0],n[1]+e[1]]})).map((function(e){return e/n.touches.length}))}},{key:"handleOptionChange",value:function(n){var e=n.target.value;this.data=L(L(L({},this.data),this.data.options[e]),{},{option_selected:e})}},{key:"handleDetailsChange",value:function(n){this.details=n.target.checked}},{key:"handle3dChange",value:function(n){this.render3d=n.target.checked}},{key:"drawMap",value:function(n,e,t){var i=n.filter((function(n){return n})).map((function(n,o){return L(L({},n),{},{color:e[o],data:t.data[o],columns:t.columns})}));return 0==i.length?(0,D.dy)(o||(o=(0,w.Z)(['<div class="no-data">No data</div>']))):(0,B.F)(this.render3d?(0,D.dy)(a||(a=(0,w.Z)(['\n                    <map-backend-3d\n                        id="map-backend"\n                        .locations="','"\n                        @hover="','"\n                    ></map-backend-3d>'])),i,this.handleLocationHover):(0,D.dy)(r||(r=(0,w.Z)(['\n                    <map-backend\n                        id="map-backend"\n                        .locations="','"\n                        @hover="','"\n                    ></map-backend>'])),i,this.handleLocationHover))}},{key:"render",value:function(){var n=this;try{var e,t=this.data;if((null==t||null===(e=t.locations)||void 0===e?void 0:e.length)>0){var o,a;t.title&&(document.title=t.title);var r,b=t.data.map((function(n){return t.color_using?t.color_using.map((function(e){return n[e]})):n})),k=E.parseColor(t.defcolor||"#ffffff");if((null==b||null===(o=b[0])||void 0===o?void 0:o.length)>0){var M=b.reduce((function(n,e){return n.map((function(n,t){return Math.max(n,e[t])}))})),Z=b.reduce((function(n,e){return n.map((function(n,t){return Math.min(n,e[t])}))}));r=b.map((function(n){if(1==n.length){var e=E.parseColor(t.colors[0]),o=E.colorPropScale((0,S.U)(n[0],Z[0],M[0],0,1));return E.blendColors([e,k],[o,1-o])}var a=n.reduce((function(n,e){return n+e})),r=t.colors.map((function(n){return E.parseColor(n)})),i=n.map((function(n){return 0!==a?n/a:1}));return E.blendColors(r,i)}))}else r=t.locations.map((function(){return k}));var _=b.reduce((function(n,e){return n.map((function(n,t){return Math.min(n,e[t])}))})),P=b.reduce((function(n,e){return n.map((function(n,t){return Math.max(n,e[t])}))})),C=E.getCachedLocations(t.locations);return(0,D.dy)(i||(i=(0,w.Z)(['\n                    <div id="map-renderer-root">\n                        <div\n                            id="map-wrapper"\n                            @wheel="','"\n                            @mousedown="','"\n                            @touchstart="','"\n                            @touchmove="','"\n                            @touchend="','"\n                        >\n                            ',"\n                            ",'\n                        </div>\n                        <div class="title">','</div>\n                        <div id="option-box">\n                            <div>\n                                <input type="checkbox" id="details" ?checked='," @change=",'>\n                                <label for="details">Details</label>\n                            </div>\n                            ','\n                        </div>\n                        <div id="map-legend">\n                            <div class="current-legend">\n                            ',"\n                            </div>\n                            ","\n                        </div>\n                    </div>\n                "])),this.handleScroll,this.handleDragStart,this.handleTouchStart,this.handleTouchMove,this.handleTouchEnd,this.details?(0,D.dy)(l||(l=(0,w.Z)(['\n                                    <div id="info-box-wrapper">\n                                        <div id="info-box-background"></div>\n                                        <div id="info-box">\n                                            <div id="info-box-name"></div>\n                                            <hr />\n                                            <div class="info-field">\n                                                ',"\n                                            </div>\n                                        </div>\n                                    </div>"])),t.columns.map((function(n){return(0,D.dy)(s||(s=(0,w.Z)(['\n                                                    <span class="info-field-name">','</span>\n                                                    <span class="info-field-value"></span>\n                                                '])),n)}))):(0,D.dy)(c||(c=(0,w.Z)([""]))),C.includes(null)?(0,j.C)((0,x.Z)(R().mark((function e(){return R().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.next=3,E.getLocations(t.locations);case 3:return e.t1=e.sent,e.t2=r,e.t3=t,e.abrupt("return",e.t0.drawMap.call(e.t0,e.t1,e.t2,e.t3));case 7:case"end":return e.stop()}}),e)})))(),(0,D.dy)(d||(d=(0,w.Z)(["<ui-spinner></ui-spinner>"])))):this.drawMap(C,r,t),t.title,this.details,this.handleDetailsChange,this.data.allow_3d&&(0,S.C)()?(0,D.dy)(u||(u=(0,w.Z)(['\n                                    <div>\n                                        <input type="checkbox" id="render3d" ?checked='," @change=",'>\n                                        <label for="render3d">3D</label>\n                                    </div>'])),this.render3d,this.handle3dChange):(0,D.dy)(h||(h=(0,w.Z)([""]))),(null==b||null===(a=b[0])||void 0===a?void 0:a.length)>1?t.colors.map((function(n,e){return(0,D.dy)(p||(p=(0,w.Z)(['\n                                        <div class="legend-item">\n                                            <span class="color-block" style="','"></span>\n                                            <span class="legend-label">',"</span>\n                                        </div>\n                                    "])),(0,O.V)({background:n}),t.color_using?t.columns[t.color_using[e]]:t.color_using[e])})):t.colors.length>=1?(0,D.dy)(f||(f=(0,w.Z)(['\n                                            <div class="legend-item">\n                                                ','\n                                                <span class="color-gradiant">\n                                                    <span>','</span>\n                                                    <span class="scale" style="','"></span>\n                                                    <span>',"</span>\n                                                </span>\n                                            </div>\n                                        "])),t.options?null:(0,D.dy)(m||(m=(0,w.Z)(['\n                                                            <span class="legend-label">',"</span>\n                                                        "])),t.color_using?t.columns[t.color_using[0]]:t.color_using[0]),(Math.round(100*P[0])/100).toLocaleString(),(0,O.V)({background:"linear-gradient(".concat(t.colors[0],",").concat(t.defcolor,")")}),(Math.round(100*_[0])/100).toLocaleString()):null,t.options?(0,D.dy)(v||(v=(0,w.Z)(['\n                                    <select\n                                        class="select-option"\n                                        @change="','"\n                                    >',"</select>\n                                "])),this.handleOptionChange,t.options.map((function(n,e){return(0,D.dy)(g||(g=(0,w.Z)(['\n                                            <option\n                                                value="','"\n                                                ?selected="','"\n                                            >',"</option>\n                                        "])),e,e==t.option_selected,n.name)}))):null)}throw"No data"}catch(n){return(0,D.dy)(y||(y=(0,w.Z)(['\n                <div id="map-renderer-root">\n                    <div class="no-data">No data</div>\n                </div>\n            '])))}}}],[{key:"properties",get:function(){return{data:{type:Object},render3d:{state:!0},details:{state:!0}}}},{key:"styles",get:function(){return(0,D.iv)(b||(b=(0,w.Z)(["\n            * {\n                box-sizing: border-box;\n            }\n            :host {\n                width: 100%;\n                height: 100%;\n                display: block;\n                overflow: hidden;\n            }\n            div#map-renderer-root {\n                width: 100%;\n                height: 100%;\n                overflow: hidden;\n                position: relative;\n                color: white;\n                --background: var(--background-dark);\n                background: var(--background);\n                display: flex;\n                align-items: center;\n                justify-content: center;\n            }\n            div#map-wrapper {\n                position: relative;\n                width: 100%;\n                height: 100%;\n                max-width: 100%;\n                max-height: 100%;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                will-change: cursor;\n            }\n            div#info-box-wrapper {\n                --anchor-point: 50%;\n                --anchor-at-bottom: 0;\n                position: absolute;\n                top: 0;\n                left: 0;\n                z-index: 100;\n                transform: translate(\n                    calc(var(--anchor-point) * -1),\n                    calc(var(--anchor-at-bottom) * (-100% - 8.5px) + (1 - var(--anchor-at-bottom)) * 8.5px));\n                display: none;\n                pointer-events: none;\n                will-change: transform, top, left;\n            }\n            div#info-box-wrapper.visible {\n                display: block;\n            }\n            div#info-box {\n                padding: 0.5rem;\n                font-size: 0.9rem;\n                font-family: Roboto, sans-serif;\n                color: black;\n                display: block;\n                width: max-content;\n                height: max-content;\n                max-width: 15rem;\n                min-width: 200px;\n                width: 100%;\n            }\n            div#info-box-name {\n                overflow: hidden;\n                text-overflow: ellipsis;\n                white-space: nowrap;\n            }\n            div#info-box-background {\n                display: block;\n                position: absolute;\n                background: var(--background-light);\n                width: 100%;\n                height: 100%;\n                border-radius: 4px;\n                opacity: 0.85;\n                z-index: -1;\n            }\n            div#info-box-background::before {\n                content: '';\n                box-shadow: var(--shadow-small);\n                position: absolute;\n                width: 100%;\n                height: 100%;\n                top: 0;\n                left: 0;\n                border-radius: 4px;\n            }\n            div#info-box-background::after {\n                content: '';\n                position: absolute;\n                width: 12px;\n                height: 12px;\n                top: calc(var(--anchor-at-bottom) * 100%);\n                left: var(--anchor-point);\n                transform: translate(-50%, -50%) rotate(45deg);\n                background: var(--background-light);\n                will-change: top, left\n            }\n            div.info-field {\n                display: grid;\n                grid-template-columns: auto auto;\n            }\n            span.info-field-name {\n                padding-right: 1rem;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                white-space: nowrap;\n            }\n            span.info-field-value {\n                display: flex;\n                align-items: center;\n                justify-content: flex-end;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                white-space: nowrap;\n            }\n            hr {\n                border: 1px solid var(--secondary);\n            }\n            div.title {\n                flex: 0 0 auto;\n                font-size: 1.2rem;\n                padding: 1rem 0 0 1rem;\n                font-family: Roboto, sans-serif;\n                position: absolute;\n                z-index: 10;\n                left: 0;\n                top: 0;\n                pointer-events: none;\n            }\n            div#map-legend {\n                z-index: 9;\n                position: absolute;\n                padding: 0 1rem 1rem 0;\n                bottom: 0;\n                right: 0;\n                font-size: 0.85rem;\n                font-family: Roboto, sans-serif;\n                display: flex;\n                flex-flow: column;\n                pointer-events: none;\n                align-items: flex-end;\n            }\n            div.current-legend {\n                display: flex;\n                flex-flow: column;\n                text-align: right;\n                padding: 0.5rem;\n                text-shadow: black 0px 0px 10px;\n            }\n            div.current-legend .legend-item {\n                display: flex;\n                flex-flow: row;\n                align-items: center;\n                justify-content: flex-start;\n            }\n            div.current-legend .color-block {\n                margin: 0 0.5rem;\n            }\n            div.current-legend .color-gradiant {\n                margin-left: 0.5rem;\n            }\n            select.select-option {\n                pointer-events: all;\n                appearance: none;\n                background: var(--background-darkish);\n                color: white;\n                border: none;\n                padding: 0.35rem;\n                border-radius: 4px;\n                text-align: center;\n                text-align-last: center;\n            }\n            select.select-option:hover {\n                cursor: pointer;\n            }\n            span.color-gradiant {\n                display: flex;\n                flex-flow: column;\n                align-items: center;\n            }\n            span.color-gradiant span.scale {\n                display: block;\n                height: 5rem;\n                width: 0.65rem;\n                box-shadow: var(--shadow-small);\n                margin-top: 0.25rem;\n                margin-bottom: 0.25rem;\n            }\n            span.color-block {\n                display: block;\n                height: 0.5rem;\n                width: 0.5rem;\n                box-shadow: var(--shadow-small);\n            }\n            div.no-data {\n                font-family: Roboto, sans-serif;\n                font-weight: 600;\n                font-size: 2rem; \n                white-space: nowrap;\n                text-transform: uppercase;\n            }\n            #option-box {\n                position: absolute;\n                left: 0.5rem;\n                bottom: 0.5rem;\n                display: flex;\n                flex-flow: column;\n            }\n            #option-box div {\n                padding: 0.25rem;\n                text-shadow: black 0px 0px 10px;\n            }\n        "])))}},{key:"parseColor",value:function(n){var e=n.match(/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i);return e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:[255,255,255]}},{key:"blendColors",value:function(n,e){var t=[0,0,0],o=e.reduce((function(n,e){return n+e}),0);return 0===o?n[0]||t:(n.forEach((function(n,o){return t.forEach((function(a,r){return t[r]+=n[r]*n[r]*e[o]}))})),t.map((function(n){return Math.sqrt(n/o)})))}},{key:"colorPropScale",value:function(n){return Math.log10(99*n+1)/2}},{key:"getCachedLocations",value:function(n){return n.map((function(n){return n in I?I[n]:null}))}},{key:"getLocations",value:function(n){return Promise.all(n.map(function(){var n=(0,x.Z)(R().mark((function n(e){var t,o,a;return R().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=25;break}if(I[e]){n.next=22;break}return n.prev=2,n.next=5,fetch("".concat("./static/data","/").concat(e,".bin"));case 5:if(!(t=n.sent).ok){n.next=16;break}return n.t0=Uint8Array,n.next=10,t.arrayBuffer();case 10:n.t1=n.sent,o=new n.t0(n.t1),a=Y.LocationData.parse_location_data(o),I[e]={id:e,name:a.name,raw:a},n.next=17;break;case 16:I[e]=null;case 17:n.next=22;break;case 19:return n.prev=19,n.t2=n.catch(2),n.abrupt("return",null);case 22:return n.abrupt("return",I[e]);case 25:return n.abrupt("return",null);case 26:case"end":return n.stop()}}),n,null,[[2,19]])})));return function(e){return n.apply(this,arguments)}}()))}}]),E}(D.oi);customElements.define("map-renderer",X)},129:(n,e,t)=>{"use strict";var o,a,r,i,l=t(982),s=t(168),c=t(671),d=t(144),u=t(340),h=t(215),p=t(120),f=t(392);var m=function(n){(0,u.Z)(v,n);var e,t,m=(e=v,t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}(),function(){var n,o=(0,p.Z)(e);if(t){var a=(0,p.Z)(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return(0,h.Z)(this,n)});function v(){return(0,c.Z)(this,v),m.apply(this,arguments)}return(0,d.Z)(v,[{key:"render",value:function(){return(0,f.dy)(o||(o=(0,s.Z)(['\n            <span class="ui-spinner">\n                ',"\n            </span>\n        "])),(0,l.Z)(Array(10).keys()).map((function(){return(0,f.dy)(a||(a=(0,s.Z)(["<span></span>"])))})))}}],[{key:"styles",get:function(){return(0,f.iv)(r||(r=(0,s.Z)(["\n            span.ui-spinner {\n                width: 5rem;\n                height: 5rem;\n                max-width: 100%;\n                max-height: 100%;\n                position: relative;\n                display: block;\n            }\n            span.ui-spinner span {\n                display: block;\n                position: absolute;\n                background: var(--primary);\n                border-radius: 50%;\n            }\n            @keyframes ui-spinner-keyframes {\n                0% {\n                    transform: rotate(0deg);\n                }\n                100% {\n                    transform: rotate(360deg);\n                }\n            }\n            ","\n        "])),(0,f.$m)((0,l.Z)(Array(10).keys()).map((function(n){return(0,f.iv)(i||(i=(0,s.Z)(["\n                span.ui-spinner span:nth-child(",") {\n                    animation: 1s calc(0.02s * ",") ease-in-out infinite ui-spinner-keyframes;\n                    width: calc(25% - 1% * ",");\n                    height: calc(25% - 1% * ",");\n                    top: calc(50% - (25% - 1% * ",") / 2);\n                    left: 0%;\n                    transform-origin: "," 50%;\n                }\n            "])),(0,f.$m)(n+1),(0,f.$m)(n+1),(0,f.$m)(n+1),(0,f.$m)(n+1),(0,f.$m)(n+1),(0,f.$m)(5e3/(25-1*(n+1))+"%"))})).join("")))}}]),v}(f.oi);customElements.define("ui-spinner",m)},293:(n,e,t)=>{"use strict";function o(n,e,t,o,a){return e===t?a:n<e?o:n>t?a:(n-e)/(t-e)*(a-o)+o}function a(){try{var n=document.createElement("canvas"),e=n.getContext("webgl")||n.getContext("experimental-webgl");return e&&e.getExtension("OES_element_index_uint")}catch(n){return!1}}t.d(e,{C:()=>a,U:()=>o})}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YWNrOi8vZ2VvLWRyYXcvLi9zcmMvdWkvc3Bpbm5lci5qcyIsIndlYnBhY2s6Ly9nZW8tZHJhdy8uL3NyYy91dGlsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHsgTGl0RWxlbWVudCwgaHRtbCwgY3NzIH0gZnJvbSAnbGl0JztcbmltcG9ydCB7IHN0eWxlTWFwIH0gZnJvbSAnbGl0L2RpcmVjdGl2ZXMvc3R5bGUtbWFwLmpzJztcbmltcG9ydCB7IHVudGlsIH0gZnJvbSAnbGl0L2RpcmVjdGl2ZXMvdW50aWwuanMnO1xuaW1wb3J0IHsgY2FjaGUgfSBmcm9tICdsaXQvZGlyZWN0aXZlcy9jYWNoZS5qcyc7XG5cbmltcG9ydCAnLi4vdWkvc3Bpbm5lcic7XG5pbXBvcnQgeyBtYXAgYXMgbWFwRnJvbVRvLCBoYXNXZWJHbFN1cHBvcnQgfSBmcm9tICcuLi91dGlsJztcblxuaW1wb3J0IHsgTG9jYXRpb25EYXRhIH0gZnJvbSAnLi4vLi4vcGtnL2luZGV4JztcblxuaWYgKGhhc1dlYkdsU3VwcG9ydCgpKSB7XG4gICAgaW1wb3J0KC8qIHdlYnBhY2tDaHVua05hbWU6IFwibWFwLWJhY2tlbmQtd2ViZ2xcIiAqLyAnLi9tYXAtYmFja2VuZC13ZWJnbCcpO1xufSBlbHNlIHtcbiAgICBpbXBvcnQoLyogd2VicGFja0NodW5rTmFtZTogXCJtYXAtYmFja2VuZC1zdmdcIiAqLyAnLi9tYXAtYmFja2VuZC1zdmcnKTtcbn1cblxuY29uc3QgZGF0YV9sb2NhdGlvbiA9ICcuL3N0YXRpYy9kYXRhJztcbmNvbnN0IGxvY2F0aW9uX2NhY2hlID0ge307XG5cbmNvbnN0IE1JTl9aT09NID0gMC41O1xuY29uc3QgTUFYX1pPT00gPSAzMDtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWFwUmVuZGVyZXIgZXh0ZW5kcyBMaXRFbGVtZW50IHtcblxuICAgIHN0YXRpYyBnZXQgcHJvcGVydGllcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRhdGE6IHsgdHlwZTogT2JqZWN0IH0sXG4gICAgICAgICAgICByZW5kZXIzZDogeyBzdGF0ZTogdHJ1ZSB9LFxuICAgICAgICAgICAgZGV0YWlsczogeyBzdGF0ZTogdHJ1ZSB9LFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgc3R5bGVzKCkge1xuICAgICAgICByZXR1cm4gY3NzYFxuICAgICAgICAgICAgKiB7XG4gICAgICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDpob3N0IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpdiNtYXAtcmVuZGVyZXItcm9vdCB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICAgICAgICAtLWJhY2tncm91bmQ6IHZhcigtLWJhY2tncm91bmQtZGFyayk7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZCk7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGl2I21hcC13cmFwcGVyIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgICBtYXgtaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgICAgICAgICB3aWxsLWNoYW5nZTogY3Vyc29yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGl2I2luZm8tYm94LXdyYXBwZXIge1xuICAgICAgICAgICAgICAgIC0tYW5jaG9yLXBvaW50OiA1MCU7XG4gICAgICAgICAgICAgICAgLS1hbmNob3ItYXQtYm90dG9tOiAwO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICAgICAgICB0b3A6IDA7XG4gICAgICAgICAgICAgICAgbGVmdDogMDtcbiAgICAgICAgICAgICAgICB6LWluZGV4OiAxMDA7XG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoXG4gICAgICAgICAgICAgICAgICAgIGNhbGModmFyKC0tYW5jaG9yLXBvaW50KSAqIC0xKSxcbiAgICAgICAgICAgICAgICAgICAgY2FsYyh2YXIoLS1hbmNob3ItYXQtYm90dG9tKSAqICgtMTAwJSAtIDguNXB4KSArICgxIC0gdmFyKC0tYW5jaG9yLWF0LWJvdHRvbSkpICogOC41cHgpKTtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBub25lO1xuICAgICAgICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgICAgICAgICAgICAgIHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm0sIHRvcCwgbGVmdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpdiNpbmZvLWJveC13cmFwcGVyLnZpc2libGUge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGl2I2luZm8tYm94IHtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLjVyZW07XG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAwLjlyZW07XG4gICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6IFJvYm90bywgc2Fucy1zZXJpZjtcbiAgICAgICAgICAgICAgICBjb2xvcjogYmxhY2s7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgICAgICAgd2lkdGg6IG1heC1jb250ZW50O1xuICAgICAgICAgICAgICAgIGhlaWdodDogbWF4LWNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgbWF4LXdpZHRoOiAxNXJlbTtcbiAgICAgICAgICAgICAgICBtaW4td2lkdGg6IDIwMHB4O1xuICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGl2I2luZm8tYm94LW5hbWUge1xuICAgICAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgICAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgICAgICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpdiNpbmZvLWJveC1iYWNrZ3JvdW5kIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1saWdodCk7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjg1O1xuICAgICAgICAgICAgICAgIHotaW5kZXg6IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGl2I2luZm8tYm94LWJhY2tncm91bmQ6OmJlZm9yZSB7XG4gICAgICAgICAgICAgICAgY29udGVudDogJyc7XG4gICAgICAgICAgICAgICAgYm94LXNoYWRvdzogdmFyKC0tc2hhZG93LXNtYWxsKTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgICAgICAgIHRvcDogMDtcbiAgICAgICAgICAgICAgICBsZWZ0OiAwO1xuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpdiNpbmZvLWJveC1iYWNrZ3JvdW5kOjphZnRlciB7XG4gICAgICAgICAgICAgICAgY29udGVudDogJyc7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgICAgIHdpZHRoOiAxMnB4O1xuICAgICAgICAgICAgICAgIGhlaWdodDogMTJweDtcbiAgICAgICAgICAgICAgICB0b3A6IGNhbGModmFyKC0tYW5jaG9yLWF0LWJvdHRvbSkgKiAxMDAlKTtcbiAgICAgICAgICAgICAgICBsZWZ0OiB2YXIoLS1hbmNob3ItcG9pbnQpO1xuICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpIHJvdGF0ZSg0NWRlZyk7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1saWdodCk7XG4gICAgICAgICAgICAgICAgd2lsbC1jaGFuZ2U6IHRvcCwgbGVmdFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGl2LmluZm8tZmllbGQge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgICAgICAgICAgICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiBhdXRvIGF1dG87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzcGFuLmluZm8tZmllbGQtbmFtZSB7XG4gICAgICAgICAgICAgICAgcGFkZGluZy1yaWdodDogMXJlbTtcbiAgICAgICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgICAgICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzcGFuLmluZm8tZmllbGQtdmFsdWUge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xuICAgICAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgICAgICAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gICAgICAgICAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhyIHtcbiAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1zZWNvbmRhcnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGl2LnRpdGxlIHtcbiAgICAgICAgICAgICAgICBmbGV4OiAwIDAgYXV0bztcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IDEuMnJlbTtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAxcmVtIDAgMCAxcmVtO1xuICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBSb2JvdG8sIHNhbnMtc2VyaWY7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgICAgIHotaW5kZXg6IDEwO1xuICAgICAgICAgICAgICAgIGxlZnQ6IDA7XG4gICAgICAgICAgICAgICAgdG9wOiAwO1xuICAgICAgICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGl2I21hcC1sZWdlbmQge1xuICAgICAgICAgICAgICAgIHotaW5kZXg6IDk7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAgMXJlbSAxcmVtIDA7XG4gICAgICAgICAgICAgICAgYm90dG9tOiAwO1xuICAgICAgICAgICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMC44NXJlbTtcbiAgICAgICAgICAgICAgICBmb250LWZhbWlseTogUm9ib3RvLCBzYW5zLXNlcmlmO1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICAgICAgZmxleC1mbG93OiBjb2x1bW47XG4gICAgICAgICAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGl2LmN1cnJlbnQtbGVnZW5kIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgICAgIGZsZXgtZmxvdzogY29sdW1uO1xuICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IHJpZ2h0O1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAuNXJlbTtcbiAgICAgICAgICAgICAgICB0ZXh0LXNoYWRvdzogYmxhY2sgMHB4IDBweCAxMHB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGl2LmN1cnJlbnQtbGVnZW5kIC5sZWdlbmQtaXRlbSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgICBmbGV4LWZsb3c6IHJvdztcbiAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogZmxleC1zdGFydDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpdi5jdXJyZW50LWxlZ2VuZCAuY29sb3ItYmxvY2sge1xuICAgICAgICAgICAgICAgIG1hcmdpbjogMCAwLjVyZW07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXYuY3VycmVudC1sZWdlbmQgLmNvbG9yLWdyYWRpYW50IHtcbiAgICAgICAgICAgICAgICBtYXJnaW4tbGVmdDogMC41cmVtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZWN0LnNlbGVjdC1vcHRpb24ge1xuICAgICAgICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBhbGw7XG4gICAgICAgICAgICAgICAgYXBwZWFyYW5jZTogbm9uZTtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLWRhcmtpc2gpO1xuICAgICAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICAgICAgICBib3JkZXI6IG5vbmU7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogMC4zNXJlbTtcbiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgICAgICAgIHRleHQtYWxpZ24tbGFzdDogY2VudGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2VsZWN0LnNlbGVjdC1vcHRpb246aG92ZXIge1xuICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNwYW4uY29sb3ItZ3JhZGlhbnQge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICAgICAgZmxleC1mbG93OiBjb2x1bW47XG4gICAgICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNwYW4uY29sb3ItZ3JhZGlhbnQgc3Bhbi5zY2FsZSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiA1cmVtO1xuICAgICAgICAgICAgICAgIHdpZHRoOiAwLjY1cmVtO1xuICAgICAgICAgICAgICAgIGJveC1zaGFkb3c6IHZhcigtLXNoYWRvdy1zbWFsbCk7XG4gICAgICAgICAgICAgICAgbWFyZ2luLXRvcDogMC4yNXJlbTtcbiAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAwLjI1cmVtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Bhbi5jb2xvci1ibG9jayB7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAwLjVyZW07XG4gICAgICAgICAgICAgICAgd2lkdGg6IDAuNXJlbTtcbiAgICAgICAgICAgICAgICBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3ctc21hbGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGl2Lm5vLWRhdGEge1xuICAgICAgICAgICAgICAgIGZvbnQtZmFtaWx5OiBSb2JvdG8sIHNhbnMtc2VyaWY7XG4gICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IDJyZW07IFxuICAgICAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgICAgICAgICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICNvcHRpb24tYm94IHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICAgICAgbGVmdDogMC41cmVtO1xuICAgICAgICAgICAgICAgIGJvdHRvbTogMC41cmVtO1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICAgICAgZmxleC1mbG93OiBjb2x1bW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAjb3B0aW9uLWJveCBkaXYge1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAuMjVyZW07XG4gICAgICAgICAgICAgICAgdGV4dC1zaGFkb3c6IGJsYWNrIDBweCAwcHggMTBweDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgYDtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5yZW5kZXIzZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRldGFpbHMgPSB0cnVlO1xuICAgIH1cblxuICAgIHN0YXRpYyBwYXJzZUNvbG9yKHN0cikge1xuICAgICAgICBjb25zdCBtYXRjaCA9IHN0ci5tYXRjaCgvXiMoWzAtOWEtZl17Mn0pKFswLTlhLWZdezJ9KShbMC05YS1mXXsyfSkkL2kpO1xuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIHJldHVybiBbcGFyc2VJbnQobWF0Y2hbMV0sIDE2KSwgcGFyc2VJbnQobWF0Y2hbMl0sIDE2KSwgcGFyc2VJbnQobWF0Y2hbM10sIDE2KV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gWzI1NSwgMjU1LCAyNTVdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGJsZW5kQ29sb3JzKGNvbG9ycywgcHJvcG9ydGlvbikge1xuICAgICAgICBjb25zdCByZXQgPSBbMCwgMCwgMF07XG4gICAgICAgIGNvbnN0IHN1bSA9IHByb3BvcnRpb24ucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCk7XG4gICAgICAgIGlmIChzdW0gPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBjb2xvcnNbMF0gfHwgcmV0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29sb3JzLmZvckVhY2goKGNvbCwgaSkgPT4gcmV0LmZvckVhY2goKGVsLCBqKSA9PiByZXRbal0gKz0gY29sW2pdICogY29sW2pdICogcHJvcG9ydGlvbltpXSkpO1xuICAgICAgICAgICAgcmV0dXJuIHJldC5tYXAoZWwgPT4gTWF0aC5zcXJ0KGVsIC8gc3VtKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgY29sb3JQcm9wU2NhbGUocHJvcCkge1xuICAgICAgICByZXR1cm4gTWF0aC5sb2cxMCg5OSAqIHByb3AgKyAxKSAvIDI7XG4gICAgfVxuXG4gICAgaGFuZGxlTG9jYXRpb25Ib3ZlcihldmVudCkge1xuICAgICAgICBpZiAodGhpcy5kZXRhaWxzKSB7XG4gICAgICAgICAgICBjb25zdCBpbmZvX2JveCA9IHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgnaW5mby1ib3gtd3JhcHBlcicpO1xuICAgICAgICAgICAgaWYgKGV2ZW50LmxvY2F0aW9uICYmIGV2ZW50LnBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgnaW5mby1ib3gtbmFtZScpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hcF93cmFwcGVyID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCdtYXAtd3JhcHBlcicpO1xuICAgICAgICAgICAgICAgIG5hbWUuaW5uZXJUZXh0ID0gZXZlbnQubG9jYXRpb24ubmFtZS5zcGxpdCgnLCcpWzBdO1xuICAgICAgICAgICAgICAgIEFycmF5LmZyb20oaW5mb19ib3guZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaW5mby1maWVsZC12YWx1ZScpKS5mb3JFYWNoKChlbCwgaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlbC5pbm5lclRleHQgPSAoTWF0aC5yb3VuZChldmVudC5sb2NhdGlvbi5kYXRhW2ldICogMTAwKSAvIDEwMCkudG9Mb2NhbGVTdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBtYXBfd3JhcHBlcl9wb3MgPSBtYXBfd3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICBsZXQgeCA9IGV2ZW50LnBvc2l0aW9uWzBdIC0gbWFwX3dyYXBwZXJfcG9zLng7XG4gICAgICAgICAgICAgICAgbGV0IHkgPSBldmVudC5wb3NpdGlvblsxXSAtIG1hcF93cmFwcGVyX3Bvcy55O1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeSA9IE1hdGgubWluKE1hdGgubWF4KHksIDApLCBtYXBfd3JhcHBlcl9wb3MuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgaW5mb19ib3guc3R5bGUuc2V0UHJvcGVydHkoJy0tYW5jaG9yLXBvaW50JywgKHggLyBtYXBfd3JhcHBlcl9wb3Mud2lkdGggKiA5MCArIDUpICsgJyUnKTtcbiAgICAgICAgICAgICAgICAgICAgaW5mb19ib3guc3R5bGUuc2V0UHJvcGVydHkoJy0tYW5jaG9yLWF0LWJvdHRvbScsICh5ID4gKChpbmZvX2JveC5jbGllbnRIZWlnaHQgKyAxMikgKiAxLjIpKSA/IDEgOiAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaW5mb19ib3guc3R5bGUubGVmdCA9IHggKyAncHgnO1xuICAgICAgICAgICAgICAgIGluZm9fYm94LnN0eWxlLnRvcCA9IHkgKyAncHgnO1xuICAgICAgICAgICAgICAgIGluZm9fYm94LmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmZvX2JveF9wb3MgPSBpbmZvX2JveC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5mb19ib3hfcG9zLnggPCA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHggPSBNYXRoLm1heCh4LCA4LjUpO1xuICAgICAgICAgICAgICAgICAgICB5ID0gTWF0aC5taW4oTWF0aC5tYXgoeSwgaW5mb19ib3hfcG9zLmhlaWdodCAqIDAuMSksIG1hcF93cmFwcGVyX3Bvcy5oZWlnaHQgLSBpbmZvX2JveF9wb3MuaGVpZ2h0ICogMC4xKTtcbiAgICAgICAgICAgICAgICAgICAgaW5mb19ib3guc3R5bGUuc2V0UHJvcGVydHkoJy0tYW5jaG9yLXBvaW50JywgJzAlJyk7XG4gICAgICAgICAgICAgICAgICAgIGluZm9fYm94LnN0eWxlLnNldFByb3BlcnR5KCctLWFuY2hvci1hdC1ib3R0b20nLCAoeSAvIG1hcF93cmFwcGVyX3Bvcy5oZWlnaHQgKiAwLjggKyAwLjEpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGluZm9fYm94X3Bvcy54ICsgaW5mb19ib3hfcG9zLndpZHRoICsgNCA+IG1hcF93cmFwcGVyX3Bvcy54ICsgbWFwX3dyYXBwZXJfcG9zLndpZHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIHggPSBNYXRoLm1pbih4LCBtYXBfd3JhcHBlcl9wb3Mud2lkdGggLSA4LjUpO1xuICAgICAgICAgICAgICAgICAgICB5ID0gTWF0aC5taW4oTWF0aC5tYXgoeSwgaW5mb19ib3hfcG9zLmhlaWdodCAqIDAuMSksIG1hcF93cmFwcGVyX3Bvcy5oZWlnaHQgLSBpbmZvX2JveF9wb3MuaGVpZ2h0ICogMC4xKTtcbiAgICAgICAgICAgICAgICAgICAgaW5mb19ib3guc3R5bGUuc2V0UHJvcGVydHkoJy0tYW5jaG9yLXBvaW50JywgJzEwMCUnKTtcbiAgICAgICAgICAgICAgICAgICAgaW5mb19ib3guc3R5bGUuc2V0UHJvcGVydHkoJy0tYW5jaG9yLWF0LWJvdHRvbScsICh5IC8gbWFwX3dyYXBwZXJfcG9zLmhlaWdodCAqIDAuOCArIDAuMSkpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHkgPSBNYXRoLm1pbihNYXRoLm1heCh5LCAwKSwgbWFwX3dyYXBwZXJfcG9zLmhlaWdodCk7XG4gICAgICAgICAgICAgICAgICAgIGluZm9fYm94LnN0eWxlLnNldFByb3BlcnR5KCctLWFuY2hvci1wb2ludCcsICh4IC8gbWFwX3dyYXBwZXJfcG9zLndpZHRoICogOTAgKyA1KSArICclJyk7XG4gICAgICAgICAgICAgICAgICAgIGluZm9fYm94LnN0eWxlLnNldFByb3BlcnR5KCctLWFuY2hvci1hdC1ib3R0b20nLCAoeSA+ICgoaW5mb19ib3hfcG9zLmhlaWdodCArIDEyKSAqIDEuMikpID8gMSA6IDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpbmZvX2JveC5zdHlsZS5sZWZ0ID0geCArICdweCc7XG4gICAgICAgICAgICAgICAgaW5mb19ib3guc3R5bGUudG9wID0geSArICdweCc7XG4gICAgICAgICAgICAgICAgaW5mb19ib3guY3VycmVudF9sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbmZvX2JveCA9IHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgnaW5mby1ib3gtd3JhcHBlcicpO1xuICAgICAgICAgICAgICAgIGluZm9fYm94LmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcbiAgICAgICAgICAgICAgICBpbmZvX2JveC5jdXJyZW50X2xvY2F0aW9uID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZVNjcm9sbChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoZXZlbnQuZGVsdGFZICE9IDApIHtcbiAgICAgICAgICAgIGNvbnN0IG1hcCA9IHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgnbWFwLWJhY2tlbmQnKTtcbiAgICAgICAgICAgIGxldCBuZXdfc2NhbGUgPSBtYXAuc2NhbGU7XG4gICAgICAgICAgICBpZiAoZXZlbnQuZGVsdGFZIDwgMCkge1xuICAgICAgICAgICAgICAgIG5ld19zY2FsZSAqPSBNYXRoLnBvdygxLjAwMSwgLWV2ZW50LmRlbHRhWSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG5ld19zY2FsZSAqPSBNYXRoLnBvdygwLjk5OSwgZXZlbnQuZGVsdGFZKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld19zY2FsZSA9IE1hdGgubWluKE1hdGgubWF4KE1JTl9aT09NLCBuZXdfc2NhbGUpLCBNQVhfWk9PTSk7XG4gICAgICAgICAgICBjb25zdCBkcyA9IG5ld19zY2FsZSAvIG1hcC5zY2FsZTtcbiAgICAgICAgICAgIGNvbnN0IGNlbnRlciA9IG1hcC5jZW50ZXI7XG4gICAgICAgICAgICBjb25zdCBwb2ludGVyID0gbWFwLmNsaWVudFBvc1RvTWFwUG9zKFtldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZXSk7XG4gICAgICAgICAgICBjb25zdCBkZWx0YSA9IFsocG9pbnRlclswXSAtIGNlbnRlclswXSkgKiAoMSAtIDEgLyBkcyksIChwb2ludGVyWzFdIC0gY2VudGVyWzFdKSAqICgxIC0gMSAvIGRzKV07XG4gICAgICAgICAgICBjb25zdCBuZXdfY2VudGVyID0gW2NlbnRlclswXSArIGRlbHRhWzBdLCBjZW50ZXJbMV0gKyBkZWx0YVsxXV07XG4gICAgICAgICAgICBtYXAuc2V0Q2VudGVyQW5kU2NhbGUobmV3X2NlbnRlciwgbmV3X3NjYWxlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZURyYWdTdGFydChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBlbGVtZW50X3dyYXAgPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoJ21hcC13cmFwcGVyJyk7XG4gICAgICAgIHRoaXMubGFzdF9kcmFnX3BvcyA9IFtldmVudC5jbGllbnRYLCBldmVudC5jbGllbnRZXTtcbiAgICAgICAgZWxlbWVudF93cmFwLm9ubW91c2V1cCA9IHRoaXMuaGFuZGxlRHJhZ0VuZC5iaW5kKHRoaXMpO1xuICAgICAgICBlbGVtZW50X3dyYXAub25tb3VzZWxlYXZlID0gdGhpcy5oYW5kbGVEcmFnRW5kLmJpbmQodGhpcyk7XG4gICAgICAgIGVsZW1lbnRfd3JhcC5vbm1vdXNlbW92ZSA9IHRoaXMuaGFuZGxlRHJhZ01vdmUuYmluZCh0aGlzKTtcbiAgICAgICAgZWxlbWVudF93cmFwLnN0eWxlLmN1cnNvciA9ICdncmFiYmluZyc7XG4gICAgfVxuXG4gICAgaGFuZGxlRHJhZ01vdmUoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgY29uc3QgbWFwID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCdtYXAtYmFja2VuZCcpO1xuICAgICAgICBjb25zdCBsYXN0X21hcF9wb3MgPSBtYXAuY2xpZW50UG9zVG9NYXBQb3ModGhpcy5sYXN0X2RyYWdfcG9zKTtcbiAgICAgICAgdGhpcy5sYXN0X2RyYWdfcG9zID0gW2V2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFldO1xuICAgICAgICBjb25zdCBjdXJyZW50X21hcF9wb3MgPSBtYXAuY2xpZW50UG9zVG9NYXBQb3MoW2V2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFldKTtcbiAgICAgICAgY29uc3QgZGlmZiA9IFtjdXJyZW50X21hcF9wb3NbMF0gLSBsYXN0X21hcF9wb3NbMF0sIGN1cnJlbnRfbWFwX3Bvc1sxXSAtIGxhc3RfbWFwX3Bvc1sxXV07XG4gICAgICAgIGNvbnN0IG5ld19jZW50ZXIgPSBbbWFwLmNlbnRlclswXSAtIGRpZmZbMF0sIG1hcC5jZW50ZXJbMV0gLSBkaWZmWzFdXTtcbiAgICAgICAgbWFwLnNldENlbnRlckFuZFNjYWxlKG5ld19jZW50ZXIsIG1hcC5zY2FsZSk7XG4gICAgfVxuXG4gICAgaGFuZGxlRHJhZ0VuZChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBjb25zdCBlbGVtZW50X3dyYXAgPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoJ21hcC13cmFwcGVyJyk7XG4gICAgICAgIGVsZW1lbnRfd3JhcC5vbm1vdXNldXAgPSBudWxsO1xuICAgICAgICBlbGVtZW50X3dyYXAub25tb3VzZWxlYXZlID0gbnVsbDtcbiAgICAgICAgZWxlbWVudF93cmFwLm9ubW91c2Vtb3ZlID0gbnVsbDtcbiAgICAgICAgZWxlbWVudF93cmFwLnN0eWxlLmN1cnNvciA9IG51bGw7XG4gICAgfVxuXG4gICAgaGFuZGxlVG91Y2hTdGFydChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAoZXZlbnQudG91Y2hlcy5sZW5ndGggPT0gMiB8fCBldmVudC50b3VjaGVzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICB0aGlzLmF2Z190b3VjaF9wb3MgPSBBcnJheS5mcm9tKGV2ZW50LnRvdWNoZXMpXG4gICAgICAgICAgICAgICAgLm1hcCh0b3VjaCA9PiBbdG91Y2guY2xpZW50WCwgdG91Y2guY2xpZW50WV0pXG4gICAgICAgICAgICAgICAgLnJlZHVjZSgoYSwgYikgPT4gW2FbMF0gKyBiWzBdLCBhWzFdICsgYlsxXV0pLm1hcChlbCA9PiBlbCAvIGV2ZW50LnRvdWNoZXMubGVuZ3RoKTtcbiAgICAgICAgICAgIGlmIChldmVudC50b3VjaGVzLmxlbmd0aCA9PSAyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG91Y2hfYXJyYXkgPSBbW2V2ZW50LnRvdWNoZXNbMF0uY2xpZW50WCwgZXZlbnQudG91Y2hlc1swXS5jbGllbnRZXSwgW2V2ZW50LnRvdWNoZXNbMV0uY2xpZW50WCwgZXZlbnQudG91Y2hlc1sxXS5jbGllbnRZXV07XG4gICAgICAgICAgICAgICAgY29uc3QgZGlmZiA9IFt0b3VjaF9hcnJheVswXVswXSAtIHRvdWNoX2FycmF5WzFdWzBdLCB0b3VjaF9hcnJheVswXVsxXSAtIHRvdWNoX2FycmF5WzFdWzFdXTtcbiAgICAgICAgICAgICAgICB0aGlzLnRvdWNoX2Rpc3QgPSAoZGlmZlswXSAqIGRpZmZbMF0gKyBkaWZmWzFdICogZGlmZlsxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVUb3VjaE1vdmUoZXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKGV2ZW50LnRvdWNoZXMubGVuZ3RoID09IDIgfHwgZXZlbnQudG91Y2hlcy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgY29uc3QgbWFwID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCdtYXAtYmFja2VuZCcpO1xuICAgICAgICAgICAgLy8gVHJhbnNsYXRpb25cbiAgICAgICAgICAgIGNvbnN0IG5ld190b3VjaF9wb3MgPSBBcnJheS5mcm9tKGV2ZW50LnRvdWNoZXMpXG4gICAgICAgICAgICAgICAgLm1hcCh0b3VjaCA9PiBbdG91Y2guY2xpZW50WCwgdG91Y2guY2xpZW50WV0pXG4gICAgICAgICAgICAgICAgLnJlZHVjZSgoYSwgYikgPT4gW2FbMF0gKyBiWzBdLCBhWzFdICsgYlsxXV0pLm1hcChlbCA9PiBlbCAvIGV2ZW50LnRvdWNoZXMubGVuZ3RoKTtcbiAgICAgICAgICAgIGNvbnN0IGxhc3RfbWFwX3BvcyA9IG1hcC5jbGllbnRQb3NUb01hcFBvcyh0aGlzLmF2Z190b3VjaF9wb3MpO1xuICAgICAgICAgICAgdGhpcy5hdmdfdG91Y2hfcG9zID0gbmV3X3RvdWNoX3BvcztcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRfbWFwX3BvcyA9IG1hcC5jbGllbnRQb3NUb01hcFBvcyhbbmV3X3RvdWNoX3Bvc1swXSwgbmV3X3RvdWNoX3Bvc1sxXV0pO1xuICAgICAgICAgICAgY29uc3QgZGlmZiA9IFtjdXJyZW50X21hcF9wb3NbMF0gLSBsYXN0X21hcF9wb3NbMF0sIGN1cnJlbnRfbWFwX3Bvc1sxXSAtIGxhc3RfbWFwX3Bvc1sxXV07XG4gICAgICAgICAgICBsZXQgbmV3X2NlbnRlciA9IFttYXAuY2VudGVyWzBdIC0gZGlmZlswXSwgbWFwLmNlbnRlclsxXSAtIGRpZmZbMV1dO1xuICAgICAgICAgICAgbGV0IG5ld19zY2FsZSA9IG1hcC5zY2FsZTtcbiAgICAgICAgICAgIGlmIChldmVudC50b3VjaGVzLmxlbmd0aCA9PSAyKSB7XG4gICAgICAgICAgICAgICAgLy8gU2NhbGluZ1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvdWNoX2FycmF5ID0gW1tldmVudC50b3VjaGVzWzBdLmNsaWVudFgsIGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WV0sIFtldmVudC50b3VjaGVzWzFdLmNsaWVudFgsIGV2ZW50LnRvdWNoZXNbMV0uY2xpZW50WV1dO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvdWNoX2RpZmYgPSBbdG91Y2hfYXJyYXlbMF1bMF0gLSB0b3VjaF9hcnJheVsxXVswXSwgdG91Y2hfYXJyYXlbMF1bMV0gLSB0b3VjaF9hcnJheVsxXVsxXV07XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3X3RvdWNoX2Rpc3QgPSAodG91Y2hfZGlmZlswXSAqIHRvdWNoX2RpZmZbMF0gKyB0b3VjaF9kaWZmWzFdICogdG91Y2hfZGlmZlsxXSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudG91Y2hfZGlzdCAhPT0gMCAmJiBuZXdfdG91Y2hfZGlzdCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBuZXdfc2NhbGUgKj0gbmV3X3RvdWNoX2Rpc3QgLyB0aGlzLnRvdWNoX2Rpc3Q7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG91Y2hfZGlzdCA9IG5ld190b3VjaF9kaXN0O1xuICAgICAgICAgICAgICAgICAgICBuZXdfc2NhbGUgPSBNYXRoLm1pbihNYXRoLm1heChNSU5fWk9PTSwgbmV3X3NjYWxlKSwgTUFYX1pPT00pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkcyA9IG5ld19zY2FsZSAvIG1hcC5zY2FsZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcG9pbnRlciA9IG1hcC5jbGllbnRQb3NUb01hcFBvcyhuZXdfdG91Y2hfcG9zKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVsdGEgPSBbKHBvaW50ZXJbMF0gLSBuZXdfY2VudGVyWzBdKSAqICgxIC0gMSAvIGRzKSwgKHBvaW50ZXJbMV0gLSBuZXdfY2VudGVyWzFdKSAqICgxIC0gMSAvIGRzKV07XG4gICAgICAgICAgICAgICAgICAgIG5ld19jZW50ZXJbMF0gKz0gZGVsdGFbMF07XG4gICAgICAgICAgICAgICAgICAgIG5ld19jZW50ZXJbMV0gKz0gZGVsdGFbMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWFwLnNldENlbnRlckFuZFNjYWxlKG5ld19jZW50ZXIsIG5ld19zY2FsZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBoYW5kbGVUb3VjaEVuZChldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB0aGlzLmF2Z190b3VjaF9wb3MgPSBBcnJheS5mcm9tKGV2ZW50LnRvdWNoZXMpXG4gICAgICAgICAgICAubWFwKHRvdWNoID0+IFt0b3VjaC5jbGllbnRYLCB0b3VjaC5jbGllbnRZXSlcbiAgICAgICAgICAgIC5yZWR1Y2UoKGEsIGIpID0+IFthWzBdICsgYlswXSwgYVsxXSArIGJbMV1dKS5tYXAoZWwgPT4gZWwgLyBldmVudC50b3VjaGVzLmxlbmd0aCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGdldENhY2hlZExvY2F0aW9ucyhsb2NhdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGxvY2F0aW9ucy5tYXAobG9jYXRpb24gPT4ge1xuICAgICAgICAgICAgaWYgKGxvY2F0aW9uIGluIGxvY2F0aW9uX2NhY2hlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxvY2F0aW9uX2NhY2hlW2xvY2F0aW9uXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRMb2NhdGlvbnMobG9jYXRpb25zKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChsb2NhdGlvbnMubWFwKGFzeW5jIGxvY2F0aW9uID0+IHtcbiAgICAgICAgICAgIGlmIChsb2NhdGlvbikge1xuICAgICAgICAgICAgICAgIGlmICghbG9jYXRpb25fY2FjaGVbbG9jYXRpb25dKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChgJHtkYXRhX2xvY2F0aW9ufS8ke2xvY2F0aW9ufS5iaW5gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1aW50OF9hcnJheSA9IG5ldyBVaW50OEFycmF5KGF3YWl0IHJlcy5hcnJheUJ1ZmZlcigpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gTG9jYXRpb25EYXRhLnBhcnNlX2xvY2F0aW9uX2RhdGEodWludDhfYXJyYXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uX2NhY2hlW2xvY2F0aW9uXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGxvY2F0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdzogZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbl9jYWNoZVtsb2NhdGlvbl0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbG9jYXRpb25fY2FjaGVbbG9jYXRpb25dO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH1cblxuICAgIGhhbmRsZU9wdGlvbkNoYW5nZShldmVudCkge1xuICAgICAgICBjb25zdCBvcHRpb24gPSBldmVudC50YXJnZXQudmFsdWU7XG4gICAgICAgIHRoaXMuZGF0YSA9IHsgLi4udGhpcy5kYXRhLCAuLi50aGlzLmRhdGEub3B0aW9uc1tvcHRpb25dLCBvcHRpb25fc2VsZWN0ZWQ6IG9wdGlvbiB9O1xuICAgIH1cblxuICAgIGhhbmRsZURldGFpbHNDaGFuZ2UoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5kZXRhaWxzID0gZXZlbnQudGFyZ2V0LmNoZWNrZWQ7XG4gICAgfVxuXG4gICAgaGFuZGxlM2RDaGFuZ2UoZXZlbnQpIHtcbiAgICAgICAgdGhpcy5yZW5kZXIzZCA9IGV2ZW50LnRhcmdldC5jaGVja2VkO1xuICAgIH1cblxuICAgIGRyYXdNYXAobG9jYXRpb25fZGF0YSwgY29sb3JzLCBkYXRhKSB7XG4gICAgICAgIGNvbnN0IGxvY2F0aW9ucyA9IGxvY2F0aW9uX2RhdGFcbiAgICAgICAgICAgIC5maWx0ZXIobG9jID0+IGxvYylcbiAgICAgICAgICAgIC5tYXAoKGxvYywgaSkgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi5sb2MsXG4gICAgICAgICAgICAgICAgY29sb3I6IGNvbG9yc1tpXSxcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLmRhdGFbaV0sXG4gICAgICAgICAgICAgICAgY29sdW1uczogZGF0YS5jb2x1bW5zLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICBpZiAobG9jYXRpb25zLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gaHRtbGA8ZGl2IGNsYXNzPVwibm8tZGF0YVwiPk5vIGRhdGE8L2Rpdj5gO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGNhY2hlKHRoaXMucmVuZGVyM2RcbiAgICAgICAgICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICAgICAgICAgIDxtYXAtYmFja2VuZC0zZFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJtYXAtYmFja2VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAubG9jYXRpb25zPVwiJHtsb2NhdGlvbnN9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIEBob3Zlcj1cIiR7dGhpcy5oYW5kbGVMb2NhdGlvbkhvdmVyfVwiXG4gICAgICAgICAgICAgICAgICAgID48L21hcC1iYWNrZW5kLTNkPmBcbiAgICAgICAgICAgICAgICA6IGh0bWxgXG4gICAgICAgICAgICAgICAgICAgIDxtYXAtYmFja2VuZFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJtYXAtYmFja2VuZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAubG9jYXRpb25zPVwiJHtsb2NhdGlvbnN9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIEBob3Zlcj1cIiR7dGhpcy5oYW5kbGVMb2NhdGlvbkhvdmVyfVwiXG4gICAgICAgICAgICAgICAgICAgID48L21hcC1iYWNrZW5kPmBcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7XG4gICAgICAgICAgICBpZiAoZGF0YT8ubG9jYXRpb25zPy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRhdGEudGl0bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBkYXRhLnRpdGxlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjb2xvcl9kYXRhID0gZGF0YS5kYXRhLm1hcChyb3cgPT4gZGF0YS5jb2xvcl91c2luZyA/IGRhdGEuY29sb3JfdXNpbmcubWFwKGVsID0+IHJvd1tlbF0pIDogcm93KTtcbiAgICAgICAgICAgICAgICBjb25zdCBkZWZjb2xvciA9IE1hcFJlbmRlcmVyLnBhcnNlQ29sb3IoZGF0YS5kZWZjb2xvciB8fCBcIiNmZmZmZmZcIik7XG4gICAgICAgICAgICAgICAgbGV0IGNvbG9ycztcbiAgICAgICAgICAgICAgICBpZiAoY29sb3JfZGF0YT8uWzBdPy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1heF9kYXRhID0gY29sb3JfZGF0YS5yZWR1Y2UoKGEsIGIpID0+IGEubWFwKChlbCwgaSkgPT4gTWF0aC5tYXgoZWwsIGJbaV0pKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1pbl9kYXRhID0gY29sb3JfZGF0YS5yZWR1Y2UoKGEsIGIpID0+IGEubWFwKChlbCwgaSkgPT4gTWF0aC5taW4oZWwsIGJbaV0pKSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9ycyA9IGNvbG9yX2RhdGEubWFwKGRhdGFfdmVjID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhX3ZlYy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gTWFwUmVuZGVyZXIucGFyc2VDb2xvcihkYXRhLmNvbG9yc1swXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvcCA9IE1hcFJlbmRlcmVyLmNvbG9yUHJvcFNjYWxlKG1hcEZyb21UbyhkYXRhX3ZlY1swXSwgbWluX2RhdGFbMF0sIG1heF9kYXRhWzBdLCAwLCAxKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hcFJlbmRlcmVyLmJsZW5kQ29sb3JzKFtjb2xvciwgZGVmY29sb3JdLCBbcHJvcCwgMSAtIHByb3BdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3VtID0gZGF0YV92ZWMucmVkdWNlKChhLCBiKSA9PiBhICsgYik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY29sb3JzID0gZGF0YS5jb2xvcnMubWFwKGNvbCA9PiBNYXBSZW5kZXJlci5wYXJzZUNvbG9yKGNvbCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb3AgPSBkYXRhX3ZlYy5tYXAoZWwgPT4gKHN1bSAhPT0gMCA/IGVsIC8gc3VtIDogMSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXBSZW5kZXJlci5ibGVuZENvbG9ycyhjb2xvcnMsIHByb3ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb2xvcnMgPSBkYXRhLmxvY2F0aW9ucy5tYXAoKCkgPT4gZGVmY29sb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhX21pbiA9IGNvbG9yX2RhdGEucmVkdWNlKChhLCBiKSA9PiBhLm1hcCgoZWwsIGkpID0+IE1hdGgubWluKGVsLCBiW2ldKSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRhdGFfbWF4ID0gY29sb3JfZGF0YS5yZWR1Y2UoKGEsIGIpID0+IGEubWFwKChlbCwgaSkgPT4gTWF0aC5tYXgoZWwsIGJbaV0pKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FjaGVkID0gTWFwUmVuZGVyZXIuZ2V0Q2FjaGVkTG9jYXRpb25zKGRhdGEubG9jYXRpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaHRtbGBcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cIm1hcC1yZW5kZXJlci1yb290XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJtYXAtd3JhcHBlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQHdoZWVsPVwiJHt0aGlzLmhhbmRsZVNjcm9sbH1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBtb3VzZWRvd249XCIke3RoaXMuaGFuZGxlRHJhZ1N0YXJ0fVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQHRvdWNoc3RhcnQ9XCIke3RoaXMuaGFuZGxlVG91Y2hTdGFydH1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEB0b3VjaG1vdmU9XCIke3RoaXMuaGFuZGxlVG91Y2hNb3ZlfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQHRvdWNoZW5kPVwiJHt0aGlzLmhhbmRsZVRvdWNoRW5kfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLmRldGFpbHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBodG1sYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cImluZm8tYm94LXdyYXBwZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwiaW5mby1ib3gtYmFja2dyb3VuZFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJpbmZvLWJveFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwiaW5mby1ib3gtbmFtZVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aHIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImluZm8tZmllbGRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7ZGF0YS5jb2x1bW5zLm1hcChjb2wgPT4gKGh0bWxgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpbmZvLWZpZWxkLW5hbWVcIj4ke2NvbH08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpbmZvLWZpZWxkLXZhbHVlXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYCkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PmBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBodG1sYGBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtjYWNoZWQuaW5jbHVkZXMobnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB1bnRpbChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChhc3luYyAoKSA9PiB0aGlzLmRyYXdNYXAoYXdhaXQgTWFwUmVuZGVyZXIuZ2V0TG9jYXRpb25zKGRhdGEubG9jYXRpb25zKSwgY29sb3JzLCBkYXRhKSkoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxgPHVpLXNwaW5uZXI+PC91aS1zcGlubmVyPmBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMuZHJhd01hcChjYWNoZWQsIGNvbG9ycywgZGF0YSl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0aXRsZVwiPiR7ZGF0YS50aXRsZX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJvcHRpb24tYm94XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwiZGV0YWlsc1wiID9jaGVja2VkPSR7dGhpcy5kZXRhaWxzfSBAY2hhbmdlPSR7dGhpcy5oYW5kbGVEZXRhaWxzQ2hhbmdlfT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cImRldGFpbHNcIj5EZXRhaWxzPC9sYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke3RoaXMuZGF0YS5hbGxvd18zZCAmJiBoYXNXZWJHbFN1cHBvcnQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cInJlbmRlcjNkXCIgP2NoZWNrZWQ9JHt0aGlzLnJlbmRlcjNkfSBAY2hhbmdlPSR7dGhpcy5oYW5kbGUzZENoYW5nZX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cInJlbmRlcjNkXCI+M0Q8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGh0bWxgYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cIm1hcC1sZWdlbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3VycmVudC1sZWdlbmRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2NvbG9yX2RhdGE/LlswXT8ubGVuZ3RoID4gMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IChkYXRhLmNvbG9ycy5tYXAoKGNvbCwgaSkgPT4gKGh0bWxgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxlZ2VuZC1pdGVtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY29sb3ItYmxvY2tcIiBzdHlsZT1cIiR7c3R5bGVNYXAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogY29sLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibGVnZW5kLWxhYmVsXCI+JHtkYXRhLmNvbG9yX3VzaW5nID8gZGF0YS5jb2x1bW5zW2RhdGEuY29sb3JfdXNpbmdbaV1dIDogZGF0YS5jb2xvcl91c2luZ1tpXX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgICkpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IChkYXRhLmNvbG9ycy5sZW5ndGggPj0gMVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAoaHRtbGBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImxlZ2VuZC1pdGVtXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2RhdGEub3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBodG1sYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJsZWdlbmQtbGFiZWxcIj4ke2RhdGEuY29sb3JfdXNpbmcgPyBkYXRhLmNvbHVtbnNbZGF0YS5jb2xvcl91c2luZ1swXV0gOiBkYXRhLmNvbG9yX3VzaW5nWzBdfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY29sb3ItZ3JhZGlhbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj4keyhNYXRoLnJvdW5kKGRhdGFfbWF4WzBdICogMTAwKSAvIDEwMCkudG9Mb2NhbGVTdHJpbmcoKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzY2FsZVwiIHN0eWxlPVwiJHtzdHlsZU1hcCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQ6IGBsaW5lYXItZ3JhZGllbnQoJHtkYXRhLmNvbG9yc1swXX0sJHtkYXRhLmRlZmNvbG9yfSlgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj4keyhNYXRoLnJvdW5kKGRhdGFfbWluWzBdICogMTAwKSAvIDEwMCkudG9Mb2NhbGVTdHJpbmcoKX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2RhdGEub3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJzZWxlY3Qtb3B0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAY2hhbmdlPVwiJHt0aGlzLmhhbmRsZU9wdGlvbkNoYW5nZX1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPiR7ZGF0YS5vcHRpb25zLm1hcCgob3B0aW9uLCBpKSA9PiBodG1sYFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8b3B0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT1cIiR7aX1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgP3NlbGVjdGVkPVwiJHtpID09IGRhdGEub3B0aW9uX3NlbGVjdGVkfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID4ke29wdGlvbi5uYW1lfTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9PC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIGA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93ICdObyBkYXRhJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGh0bWxgXG4gICAgICAgICAgICAgICAgPGRpdiBpZD1cIm1hcC1yZW5kZXJlci1yb290XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJuby1kYXRhXCI+Tm8gZGF0YTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgYDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdtYXAtcmVuZGVyZXInLCBNYXBSZW5kZXJlcik7XG4iLCJcbmltcG9ydCB7IGNzcywgaHRtbCwgTGl0RWxlbWVudCwgdW5zYWZlQ1NTIH0gZnJvbSAnbGl0J1xuXG5jb25zdCBOVU1fRUxFTSA9IDEwO1xuXG5jbGFzcyBTcGlubmVyIGV4dGVuZHMgTGl0RWxlbWVudCB7XG5cbiAgICBzdGF0aWMgZ2V0IHN0eWxlcygpIHtcbiAgICAgICAgcmV0dXJuIGNzc2BcbiAgICAgICAgICAgIHNwYW4udWktc3Bpbm5lciB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDVyZW07XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiA1cmVtO1xuICAgICAgICAgICAgICAgIG1heC13aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgICBtYXgtaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNwYW4udWktc3Bpbm5lciBzcGFuIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tcHJpbWFyeSk7XG4gICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgQGtleWZyYW1lcyB1aS1zcGlubmVyLWtleWZyYW1lcyB7XG4gICAgICAgICAgICAgICAgMCUge1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgMTAwJSB7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHt1bnNhZmVDU1MoWy4uLkFycmF5KE5VTV9FTEVNKS5rZXlzKCldLm1hcCgoaSkgPT4gKGNzc2BcbiAgICAgICAgICAgICAgICBzcGFuLnVpLXNwaW5uZXIgc3BhbjpudGgtY2hpbGQoJHt1bnNhZmVDU1MoaSArIDEpfSkge1xuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb246IDFzIGNhbGMoMC4wMnMgKiAke3Vuc2FmZUNTUyhpICsgMSl9KSBlYXNlLWluLW91dCBpbmZpbml0ZSB1aS1zcGlubmVyLWtleWZyYW1lcztcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGNhbGMoMjUlIC0gMSUgKiAke3Vuc2FmZUNTUyhpICsgMSl9KTtcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBjYWxjKDI1JSAtIDElICogJHt1bnNhZmVDU1MoaSArIDEpfSk7XG4gICAgICAgICAgICAgICAgICAgIHRvcDogY2FsYyg1MCUgLSAoMjUlIC0gMSUgKiAke3Vuc2FmZUNTUyhpICsgMSl9KSAvIDIpO1xuICAgICAgICAgICAgICAgICAgICBsZWZ0OiAwJTtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjogJHt1bnNhZmVDU1MoKDUwICogMTAwIC8gKDI1IC0gMSAqIChpICsgMSkpKSArICclJyl9IDUwJTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBgKSkuam9pbignJykpfVxuICAgICAgICBgO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIGh0bWxgXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cInVpLXNwaW5uZXJcIj5cbiAgICAgICAgICAgICAgICAke1suLi5BcnJheShOVU1fRUxFTSkua2V5cygpXS5tYXAoKCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICBodG1sYDxzcGFuPjwvc3Bhbj5gXG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIGA7XG4gICAgfVxuXG59XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgndWktc3Bpbm5lcicsIFNwaW5uZXIpO1xuIiwiXG5leHBvcnQgZnVuY3Rpb24gbWFwKHZhbHVlLCBtaW5faW4sIG1heF9pbiwgbWluX291dCwgbWF4X291dCkge1xuICAgIGlmKG1pbl9pbiA9PT0gbWF4X2luKSB7XG4gICAgICAgIHJldHVybiBtYXhfb3V0O1xuICAgIH0gZWxzZSBpZih2YWx1ZSA8IG1pbl9pbikge1xuICAgICAgICByZXR1cm4gbWluX291dDtcbiAgICB9IGVsc2UgaWYodmFsdWUgPiBtYXhfaW4pIHtcbiAgICAgICAgcmV0dXJuIG1heF9vdXQ7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuICh2YWx1ZSAtIG1pbl9pbikgLyAobWF4X2luIC0gbWluX2luKSAqIChtYXhfb3V0IC0gbWluX291dCkgKyBtaW5fb3V0O1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhc1dlYkdsU3VwcG9ydCgpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJykgfHwgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcpO1xuICAgICAgICByZXR1cm4gY3R4ICYmIGN0eC5nZXRFeHRlbnNpb24oXCJPRVNfZWxlbWVudF9pbmRleF91aW50XCIpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJoYXNXZWJHbFN1cHBvcnQiLCJsb2NhdGlvbl9jYWNoZSIsIk1hcFJlbmRlcmVyIiwicmVuZGVyM2QiLCJkZXRhaWxzIiwiZXZlbnQiLCJ0aGlzIiwiaW5mb19ib3giLCJzaGFkb3dSb290IiwiZ2V0RWxlbWVudEJ5SWQiLCJsb2NhdGlvbiIsInBvc2l0aW9uIiwibmFtZSIsIm1hcF93cmFwcGVyIiwiaW5uZXJUZXh0Iiwic3BsaXQiLCJBcnJheSIsImZyb20iLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiZm9yRWFjaCIsImVsIiwiaSIsIk1hdGgiLCJyb3VuZCIsImRhdGEiLCJ0b0xvY2FsZVN0cmluZyIsIm1hcF93cmFwcGVyX3BvcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsIngiLCJ5IiwibWluIiwibWF4IiwiaGVpZ2h0Iiwic3R5bGUiLCJzZXRQcm9wZXJ0eSIsIndpZHRoIiwiY2xpZW50SGVpZ2h0IiwibGVmdCIsInRvcCIsImNsYXNzTGlzdCIsImFkZCIsImluZm9fYm94X3BvcyIsImN1cnJlbnRfbG9jYXRpb24iLCJyZW1vdmUiLCJwcmV2ZW50RGVmYXVsdCIsImRlbHRhWSIsIm1hcCIsIm5ld19zY2FsZSIsInNjYWxlIiwicG93IiwiZHMiLCJjZW50ZXIiLCJwb2ludGVyIiwiY2xpZW50UG9zVG9NYXBQb3MiLCJjbGllbnRYIiwiY2xpZW50WSIsImRlbHRhIiwibmV3X2NlbnRlciIsInNldENlbnRlckFuZFNjYWxlIiwiZWxlbWVudF93cmFwIiwibGFzdF9kcmFnX3BvcyIsIm9ubW91c2V1cCIsImhhbmRsZURyYWdFbmQiLCJiaW5kIiwib25tb3VzZWxlYXZlIiwib25tb3VzZW1vdmUiLCJoYW5kbGVEcmFnTW92ZSIsImN1cnNvciIsImxhc3RfbWFwX3BvcyIsImN1cnJlbnRfbWFwX3BvcyIsImRpZmYiLCJ0b3VjaGVzIiwibGVuZ3RoIiwiYXZnX3RvdWNoX3BvcyIsInRvdWNoIiwicmVkdWNlIiwiYSIsImIiLCJ0b3VjaF9hcnJheSIsInRvdWNoX2Rpc3QiLCJuZXdfdG91Y2hfcG9zIiwidG91Y2hfZGlmZiIsIm5ld190b3VjaF9kaXN0Iiwib3B0aW9uIiwidGFyZ2V0IiwidmFsdWUiLCJvcHRpb25zIiwib3B0aW9uX3NlbGVjdGVkIiwiY2hlY2tlZCIsImxvY2F0aW9uX2RhdGEiLCJjb2xvcnMiLCJsb2NhdGlvbnMiLCJmaWx0ZXIiLCJsb2MiLCJjb2xvciIsImNvbHVtbnMiLCJodG1sIiwiY2FjaGUiLCJoYW5kbGVMb2NhdGlvbkhvdmVyIiwidGl0bGUiLCJkb2N1bWVudCIsImNvbG9yX2RhdGEiLCJyb3ciLCJjb2xvcl91c2luZyIsImRlZmNvbG9yIiwicGFyc2VDb2xvciIsIm1heF9kYXRhIiwibWluX2RhdGEiLCJkYXRhX3ZlYyIsInByb3AiLCJjb2xvclByb3BTY2FsZSIsIm1hcEZyb21UbyIsImJsZW5kQ29sb3JzIiwic3VtIiwiY29sIiwiZGF0YV9taW4iLCJkYXRhX21heCIsImNhY2hlZCIsImdldENhY2hlZExvY2F0aW9ucyIsImhhbmRsZVNjcm9sbCIsImhhbmRsZURyYWdTdGFydCIsImhhbmRsZVRvdWNoU3RhcnQiLCJoYW5kbGVUb3VjaE1vdmUiLCJoYW5kbGVUb3VjaEVuZCIsImluY2x1ZGVzIiwidW50aWwiLCJnZXRMb2NhdGlvbnMiLCJkcmF3TWFwIiwiaGFuZGxlRGV0YWlsc0NoYW5nZSIsImFsbG93XzNkIiwiaGFuZGxlM2RDaGFuZ2UiLCJzdHlsZU1hcCIsImJhY2tncm91bmQiLCJoYW5kbGVPcHRpb25DaGFuZ2UiLCJlIiwidHlwZSIsIk9iamVjdCIsInN0YXRlIiwiY3NzIiwic3RyIiwibWF0Y2giLCJwYXJzZUludCIsInByb3BvcnRpb24iLCJyZXQiLCJqIiwic3FydCIsImxvZzEwIiwiUHJvbWlzZSIsImFsbCIsImZldGNoIiwicmVzIiwib2siLCJVaW50OEFycmF5IiwiYXJyYXlCdWZmZXIiLCJ1aW50OF9hcnJheSIsIkxvY2F0aW9uRGF0YSIsImlkIiwicmF3IiwiTGl0RWxlbWVudCIsImN1c3RvbUVsZW1lbnRzIiwiZGVmaW5lIiwiU3Bpbm5lciIsImtleXMiLCJ1bnNhZmVDU1MiLCJqb2luIiwibWluX2luIiwibWF4X2luIiwibWluX291dCIsIm1heF9vdXQiLCJjYW52YXMiLCJjcmVhdGVFbGVtZW50IiwiY3R4IiwiZ2V0Q29udGV4dCIsImdldEV4dGVuc2lvbiJdLCJzb3VyY2VSb290IjoiIn0=