(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{49:function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(10);\n/* harmony import */ var _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(12);\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(13);\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(18);\n/* harmony import */ var _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(19);\n/* harmony import */ var _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(17);\n/* harmony import */ var _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var lit_element__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(11);\n/* harmony import */ var lit_html_directives_style_map__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(33);\n/* harmony import */ var _util__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(29);\n\n\n\n\n\n\n\nfunction _templateObject4() {\n  var data = _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0___default()(["\\n                    <g\\n                        class=\\"geometry\\"\\n                        style=\\"", "\\"\\n                        .location_data=\\"", "\\"\\n                    >\\n                        ", "\\n                    </g>\\n                "]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0___default()(["\\n            <svg\\n                id=\\"map\\"\\n                viewBox=\\"", "\\"\\n                @mousemove=\\"", "\\"\\n                @wheel=\\"", "\\"\\n                @mouseout=\\"", "\\"\\n                @touchstart=\\"", "\\"\\n                @touchmove=\\"", "\\"\\n            >\\n                ", "\\n            </svg>\\n        "]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0___default()(["<path d=\\"", "\\"/>"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _babel_runtime_helpers_taggedTemplateLiteral__WEBPACK_IMPORTED_MODULE_0___default()(["\\n            :host {\\n                width: 100%;\\n                height: 100%;\\n                position: relative;\\n                display: block;\\n            }\\n            #map {\\n                width: 100%;\\n                height: 100%;\\n                max-width: 100%;\\n                max-height: 100%;\\n                transform: scale(5);\\n                opacity: 0.001;\\n                will-change: transform, opacity;\\n                stroke: var(--background-darkish);\\n                stroke-width: 0.125%;\\n                stroke-linejoin: round;\\n                paint-order: stroke fill;\\n                display: block;\\n                position: absolute;\\n            }\\n            svg#map g:hover {\\n                fill-opacity: 0.75;\\n            }\\n        "]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5___default()(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4___default()(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === "undefined" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === "function") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n\n\n\n\nvar MapBackendSvg = /*#__PURE__*/function (_LitElement) {\n  _babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_3___default()(MapBackendSvg, _LitElement);\n\n  var _super = _createSuper(MapBackendSvg);\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(MapBackendSvg, null, [{\n    key: "properties",\n    get: function get() {\n      return {\n        locations: {\n          type: Array\n        }\n      };\n    }\n  }, {\n    key: "styles",\n    get: function get() {\n      return Object(lit_element__WEBPACK_IMPORTED_MODULE_6__[/* css */ "b"])(_templateObject());\n    }\n  }]);\n\n  function MapBackendSvg() {\n    var _this;\n\n    _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default()(this, MapBackendSvg);\n\n    _this = _super.call(this);\n    _this.zoom_scale = 1;\n    _this.zoom_center = [0, 0];\n    return _this;\n  }\n\n  _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default()(MapBackendSvg, [{\n    key: "setCenterAndScale",\n    value: function setCenterAndScale(center, scale) {\n      this.zoom_center = center;\n      this.zoom_scale = scale;\n      var element = this.shadowRoot.getElementById(\'map\');\n      element.style.transform = "scale(".concat(this.zoom_scale, ") translate(").concat(-this.zoom_center[0], "%,").concat(-this.zoom_center[1], "%)");\n    }\n  }, {\n    key: "clientPosToMapPos",\n    value: function clientPosToMapPos(client_pos) {\n      var map = this.shadowRoot.getElementById(\'map\');\n      var map_pos = map.getBoundingClientRect();\n      return [(client_pos[0] - map_pos.x - map_pos.width / 2) / map_pos.width * 100, (client_pos[1] - map_pos.y - map_pos.height / 2) / map_pos.height * 100];\n    }\n  }, {\n    key: "handleMouseMove",\n    value: function handleMouseMove(event) {\n      var _elem, _elem2;\n\n      var base_elem = event.target;\n      var elem = base_elem;\n\n      if (((_elem = elem) === null || _elem === void 0 ? void 0 : _elem.tagName) === \'path\') {\n        elem = elem.parentNode;\n      }\n\n      if ((_elem2 = elem) === null || _elem2 === void 0 ? void 0 : _elem2.location_data) {\n        var _elem3;\n\n        var location = (_elem3 = elem) === null || _elem3 === void 0 ? void 0 : _elem3.location_data;\n        var elem_pos = base_elem.getBoundingClientRect();\n        var position = [elem_pos.x + elem_pos.width / 2, elem_pos.y + elem_pos.height / 2];\n        var my_event = new Event(\'hover\');\n        my_event.location = location;\n        my_event.position = position;\n        this.dispatchEvent(my_event);\n      } else {\n        var _my_event = new Event(\'hover\');\n\n        _my_event.location = null;\n        _my_event.position = null;\n        this.dispatchEvent(_my_event);\n      }\n    }\n  }, {\n    key: "handleMouseOut",\n    value: function handleMouseOut() {\n      var my_event = new Event(\'hover\');\n      my_event.location = null;\n      my_event.position = null;\n      this.dispatchEvent(my_event);\n    }\n  }, {\n    key: "handleTouchStart",\n    value: function handleTouchStart(event) {\n      if (event.touches.length === 1) {\n        this.handleMouseMove(event);\n      } else {\n        this.handleMouseOut(event);\n      }\n    }\n  }, {\n    key: "updated",\n    value: function updated() {\n      var _this2 = this;\n\n      // This is a stupid trick to get chrome to render at a higher resolution\n      var animationFrameCallback = function animationFrameCallback() {\n        var element = _this2.shadowRoot.getElementById(\'map\');\n\n        if (element) {\n          window.requestAnimationFrame(function () {\n            window.requestAnimationFrame(function () {\n              element.style.transform = "scale(".concat(_this2.zoom_scale, ") translate(").concat(-_this2.zoom_center[0], "%,").concat(-_this2.zoom_center[1], "%)");\n              element.style.opacity = 1;\n            });\n          });\n        } else {\n          window.requestAnimationFrame(animationFrameCallback);\n        }\n      };\n\n      window.requestAnimationFrame(animationFrameCallback);\n    }\n  }, {\n    key: "render",\n    value: function render() {\n      var min = this.locations.filter(function (loc) {\n        return loc;\n      }).map(function (loc) {\n        return loc.min;\n      }).reduce(function (a, b) {\n        return [Math.min(a[0], b[0]), Math.min(a[1], b[1])];\n      });\n      var max = this.locations.filter(function (loc) {\n        return loc;\n      }).map(function (loc) {\n        return loc.max;\n      }).reduce(function (a, b) {\n        return [Math.max(a[0], b[0]), Math.max(a[1], b[1])];\n      });\n      var total_diff = Math.max(max[0] - min[0], max[1] - min[1]);\n      var max_size = Math.max(window.innerWidth, window.innerHeight) * 5;\n      this.locations.forEach(function (loc) {\n        if (loc) {\n          loc.svg = loc.coords.map(function (poly) {\n            return Object(lit_element__WEBPACK_IMPORTED_MODULE_6__[/* svg */ "d"])(_templateObject2(), poly.map(function (part, i) {\n              return (i == 0 ? part : part.reverse()).map(function (coord) {\n                return [Math.round(Object(_util__WEBPACK_IMPORTED_MODULE_8__[/* map */ "b"])(coord[0], min[0], min[0] + total_diff, 0, max_size)), Math.round(Object(_util__WEBPACK_IMPORTED_MODULE_8__[/* map */ "b"])(coord[1], min[1], min[1] + total_diff, 0, max_size))];\n              }).filter(function (coord, i, arr) {\n                var _arr, _arr2;\n\n                return coord[0] !== ((_arr = arr[i + 1]) === null || _arr === void 0 ? void 0 : _arr[0]) || coord[1] !== ((_arr2 = arr[i + 1]) === null || _arr2 === void 0 ? void 0 : _arr2[1]);\n              }).map(function (coord, i) {\n                return i == 0 ? \'M\' + coord[0] + \',\' + coord[1] : \'L\' + coord[0] + \',\' + coord[1];\n              }).join(\' \') + \' z\';\n            }).join(\' \'));\n          });\n        }\n      });\n      return Object(lit_element__WEBPACK_IMPORTED_MODULE_6__[/* html */ "c"])(_templateObject3(), Math.round(Object(_util__WEBPACK_IMPORTED_MODULE_8__[/* map */ "b"])(min[0], min[0], min[0] + total_diff, 0, max_size)) + \' \' + Math.round(Object(_util__WEBPACK_IMPORTED_MODULE_8__[/* map */ "b"])(min[1], min[1], min[1] + total_diff, 0, max_size)) + \' \' + Math.round(Object(_util__WEBPACK_IMPORTED_MODULE_8__[/* map */ "b"])(max[0], min[0], min[0] + total_diff, 0, max_size)) + \' \' + Math.round(Object(_util__WEBPACK_IMPORTED_MODULE_8__[/* map */ "b"])(max[1], min[1], min[1] + total_diff, 0, max_size)), this.handleMouseMove, this.handleMouseMove, this.handleMouseOut, this.handleTouchStart, this.handleTouchStart, this.locations.map(function (loc) {\n        return Object(lit_element__WEBPACK_IMPORTED_MODULE_6__[/* svg */ "d"])(_templateObject4(), Object(lit_html_directives_style_map__WEBPACK_IMPORTED_MODULE_7__[/* styleMap */ "a"])({\n          fill: "rgb(".concat(loc.color[0], ",").concat(loc.color[1], ",").concat(loc.color[2], ")")\n        }), loc, loc === null || loc === void 0 ? void 0 : loc.svg);\n      }));\n    }\n  }, {\n    key: "center",\n    get: function get() {\n      return this.zoom_center;\n    }\n  }, {\n    key: "scale",\n    get: function get() {\n      return this.zoom_scale;\n    }\n  }]);\n\n  return MapBackendSvg;\n}(lit_element__WEBPACK_IMPORTED_MODULE_6__[/* LitElement */ "a"]);\n\ncustomElements.define(\'map-backend\', MapBackendSvg);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvbWFwL21hcC1iYWNrZW5kLXN2Zy5qcz81ZDY3Il0sIm5hbWVzIjpbIk1hcEJhY2tlbmRTdmciLCJsb2NhdGlvbnMiLCJ0eXBlIiwiQXJyYXkiLCJjc3MiLCJ6b29tX3NjYWxlIiwiem9vbV9jZW50ZXIiLCJjZW50ZXIiLCJzY2FsZSIsImVsZW1lbnQiLCJzaGFkb3dSb290IiwiZ2V0RWxlbWVudEJ5SWQiLCJzdHlsZSIsInRyYW5zZm9ybSIsImNsaWVudF9wb3MiLCJtYXAiLCJtYXBfcG9zIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwieCIsIndpZHRoIiwieSIsImhlaWdodCIsImV2ZW50IiwiYmFzZV9lbGVtIiwidGFyZ2V0IiwiZWxlbSIsInRhZ05hbWUiLCJwYXJlbnROb2RlIiwibG9jYXRpb25fZGF0YSIsImxvY2F0aW9uIiwiZWxlbV9wb3MiLCJwb3NpdGlvbiIsIm15X2V2ZW50IiwiRXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwidG91Y2hlcyIsImxlbmd0aCIsImhhbmRsZU1vdXNlTW92ZSIsImhhbmRsZU1vdXNlT3V0IiwiYW5pbWF0aW9uRnJhbWVDYWxsYmFjayIsIndpbmRvdyIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm9wYWNpdHkiLCJtaW4iLCJmaWx0ZXIiLCJsb2MiLCJyZWR1Y2UiLCJhIiwiYiIsIk1hdGgiLCJtYXgiLCJ0b3RhbF9kaWZmIiwibWF4X3NpemUiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJmb3JFYWNoIiwic3ZnIiwiY29vcmRzIiwicG9seSIsInBhcnQiLCJpIiwicmV2ZXJzZSIsImNvb3JkIiwicm91bmQiLCJhcnIiLCJqb2luIiwiaHRtbCIsImhhbmRsZVRvdWNoU3RhcnQiLCJzdHlsZU1hcCIsImZpbGwiLCJjb2xvciIsIkxpdEVsZW1lbnQiLCJjdXN0b21FbGVtZW50cyIsImRlZmluZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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QXNDLENBQXRDLEVBQXlDQyxRQUF6QyxDQUFkLENBRkEsR0FFb0UsR0FGcEUsR0FHQUgsSUFBSSxDQUFDYyxLQUFMLENBQVdoRCx5REFBRyxDQUFDbUMsR0FBRyxDQUFDLENBQUQsQ0FBSixFQUFTUCxHQUFHLENBQUMsQ0FBRCxDQUFaLEVBQWlCQSxHQUFHLENBQUMsQ0FBRCxDQUFILEdBQVNRLFVBQTFCLEVBQXNDLENBQXRDLEVBQXlDQyxRQUF6QyxDQUFkLENBUFosRUFTc0IsS0FBS2YsZUFUM0IsRUFVa0IsS0FBS0EsZUFWdkIsRUFXcUIsS0FBS0MsY0FYMUIsRUFZdUIsS0FBSzZCLGdCQVo1QixFQWFzQixLQUFLQSxnQkFiM0IsRUFlVSxLQUFLbEUsU0FBTCxDQUFlYyxHQUFmLENBQW1CLFVBQUM4QixHQUFEO0FBQUEsZUFBVVcsK0RBQVYscUJBR0pZLHNGQUFRLENBQUM7QUFDZEMsY0FBSSxnQkFBU3hCLEdBQUcsQ0FBQ3lCLEtBQUosQ0FBVSxDQUFWLENBQVQsY0FBeUJ6QixHQUFHLENBQUN5QixLQUFKLENBQVUsQ0FBVixDQUF6QixjQUF5Q3pCLEdBQUcsQ0FBQ3lCLEtBQUosQ0FBVSxDQUFWLENBQXpDO0FBRFUsU0FBRCxDQUhKLEVBTUt6QixHQU5MLEVBUVhBLEdBUlcsYUFRWEEsR0FSVyx1QkFRWEEsR0FBRyxDQUFFVyxHQVJNO0FBQUEsT0FBbkIsQ0FmVjtBQTRCSDs7O3dCQW5JWTtBQUNULGFBQU8sS0FBS2xELFdBQVo7QUFDSDs7O3dCQUVXO0FBQ1IsYUFBTyxLQUFLRCxVQUFaO0FBQ0g7Ozs7RUFqRHVCa0UsOEQ7O0FBa0w1QkMsY0FBYyxDQUFDQyxNQUFmLENBQXNCLGFBQXRCLEVBQXFDekUsYUFBckMiLCJmaWxlIjoiNDkuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCB7IExpdEVsZW1lbnQsIGh0bWwsIHN2ZywgY3NzIH0gZnJvbSAnbGl0LWVsZW1lbnQnO1xuaW1wb3J0IHsgc3R5bGVNYXAgfSBmcm9tICdsaXQtaHRtbC9kaXJlY3RpdmVzL3N0eWxlLW1hcCc7XG5cbmltcG9ydCB7IG1hcCB9IGZyb20gJy4uL3V0aWwnO1xuXG5jbGFzcyBNYXBCYWNrZW5kU3ZnIGV4dGVuZHMgTGl0RWxlbWVudCB7XG5cbiAgICBzdGF0aWMgZ2V0IHByb3BlcnRpZXMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBsb2NhdGlvbnM6IHsgdHlwZTogQXJyYXkgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBzdHlsZXMoKSB7XG4gICAgICAgIHJldHVybiBjc3NgXG4gICAgICAgICAgICA6aG9zdCB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICNtYXAge1xuICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgICAgbWF4LWhlaWdodDogMTAwJTtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDUpO1xuICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuMDAxO1xuICAgICAgICAgICAgICAgIHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm0sIG9wYWNpdHk7XG4gICAgICAgICAgICAgICAgc3Ryb2tlOiB2YXIoLS1iYWNrZ3JvdW5kLWRhcmtpc2gpO1xuICAgICAgICAgICAgICAgIHN0cm9rZS13aWR0aDogMC4xMjUlO1xuICAgICAgICAgICAgICAgIHN0cm9rZS1saW5lam9pbjogcm91bmQ7XG4gICAgICAgICAgICAgICAgcGFpbnQtb3JkZXI6IHN0cm9rZSBmaWxsO1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN2ZyNtYXAgZzpob3ZlciB7XG4gICAgICAgICAgICAgICAgZmlsbC1vcGFjaXR5OiAwLjc1O1xuICAgICAgICAgICAgfVxuICAgICAgICBgO1xuICAgIH1cbiAgICBcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy56b29tX3NjYWxlID0gMTtcbiAgICAgICAgdGhpcy56b29tX2NlbnRlciA9IFswLCAwXTtcbiAgICB9XG4gICAgXG4gICAgZ2V0IGNlbnRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuem9vbV9jZW50ZXI7XG4gICAgfVxuXG4gICAgZ2V0IHNjYWxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy56b29tX3NjYWxlO1xuICAgIH1cblxuICAgIHNldENlbnRlckFuZFNjYWxlKGNlbnRlciwgc2NhbGUpIHtcbiAgICAgICAgdGhpcy56b29tX2NlbnRlciA9IGNlbnRlcjtcbiAgICAgICAgdGhpcy56b29tX3NjYWxlID0gc2NhbGU7XG4gICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoJ21hcCcpO1xuICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IGBzY2FsZSgke3RoaXMuem9vbV9zY2FsZX0pIHRyYW5zbGF0ZSgkey10aGlzLnpvb21fY2VudGVyWzBdfSUsJHstdGhpcy56b29tX2NlbnRlclsxXX0lKWA7XG4gICAgfVxuICAgIFxuICAgIGNsaWVudFBvc1RvTWFwUG9zKGNsaWVudF9wb3MpIHtcbiAgICAgICAgY29uc3QgbWFwID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCdtYXAnKTtcbiAgICAgICAgY29uc3QgbWFwX3BvcyA9IG1hcC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIChjbGllbnRfcG9zWzBdIC0gbWFwX3Bvcy54IC0gbWFwX3Bvcy53aWR0aCAvIDIpIC8gbWFwX3Bvcy53aWR0aCAqIDEwMCxcbiAgICAgICAgICAgIChjbGllbnRfcG9zWzFdIC0gbWFwX3Bvcy55IC0gbWFwX3Bvcy5oZWlnaHQgLyAyKSAvIG1hcF9wb3MuaGVpZ2h0ICogMTAwLFxuICAgICAgICBdO1xuICAgIH1cblxuICAgIGhhbmRsZU1vdXNlTW92ZShldmVudCkge1xuICAgICAgICBjb25zdCBiYXNlX2VsZW0gPSBldmVudC50YXJnZXQ7XG4gICAgICAgIGxldCBlbGVtID0gYmFzZV9lbGVtO1xuICAgICAgICBpZihlbGVtPy50YWdOYW1lID09PSAncGF0aCcpIHtcbiAgICAgICAgICAgIGVsZW0gPSBlbGVtLnBhcmVudE5vZGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYoZWxlbT8ubG9jYXRpb25fZGF0YSkge1xuICAgICAgICAgICAgY29uc3QgbG9jYXRpb24gPSBlbGVtPy5sb2NhdGlvbl9kYXRhO1xuICAgICAgICAgICAgY29uc3QgZWxlbV9wb3MgPSBiYXNlX2VsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IFtlbGVtX3Bvcy54ICsgZWxlbV9wb3Mud2lkdGggLyAyLCBlbGVtX3Bvcy55ICsgZWxlbV9wb3MuaGVpZ2h0IC8gMl07XG4gICAgICAgICAgICBjb25zdCBteV9ldmVudCA9IG5ldyBFdmVudCgnaG92ZXInKTtcbiAgICAgICAgICAgIG15X2V2ZW50LmxvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgICAgICBteV9ldmVudC5wb3NpdGlvbiA9IHBvc2l0aW9uO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG15X2V2ZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG15X2V2ZW50ID0gbmV3IEV2ZW50KCdob3ZlcicpO1xuICAgICAgICAgICAgbXlfZXZlbnQubG9jYXRpb24gPSBudWxsO1xuICAgICAgICAgICAgbXlfZXZlbnQucG9zaXRpb24gPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG15X2V2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZU1vdXNlT3V0KCkge1xuICAgICAgICBjb25zdCBteV9ldmVudCA9IG5ldyBFdmVudCgnaG92ZXInKTtcbiAgICAgICAgbXlfZXZlbnQubG9jYXRpb24gPSBudWxsO1xuICAgICAgICBteV9ldmVudC5wb3NpdGlvbiA9IG51bGw7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChteV9ldmVudCk7XG4gICAgfVxuICAgIFxuICAgIGhhbmRsZVRvdWNoU3RhcnQoZXZlbnQpIHtcbiAgICAgICAgaWYoZXZlbnQudG91Y2hlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlTW91c2VNb3ZlKGV2ZW50KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlTW91c2VPdXQoZXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdXBkYXRlZCgpIHtcbiAgICAgICAgLy8gVGhpcyBpcyBhIHN0dXBpZCB0cmljayB0byBnZXQgY2hyb21lIHRvIHJlbmRlciBhdCBhIGhpZ2hlciByZXNvbHV0aW9uXG4gICAgICAgIGNvbnN0IGFuaW1hdGlvbkZyYW1lQ2FsbGJhY2sgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5zaGFkb3dSb290LmdldEVsZW1lbnRCeUlkKCdtYXAnKTtcbiAgICAgICAgICAgIGlmKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IGBzY2FsZSgke3RoaXMuem9vbV9zY2FsZX0pIHRyYW5zbGF0ZSgkey10aGlzLnpvb21fY2VudGVyWzBdfSUsJHstdGhpcy56b29tX2NlbnRlclsxXX0lKWA7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRpb25GcmFtZUNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShhbmltYXRpb25GcmFtZUNhbGxiYWNrKTtcbiAgICB9XG4gICAgXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBjb25zdCBtaW4gPSB0aGlzLmxvY2F0aW9ucy5maWx0ZXIobG9jID0+IGxvYykubWFwKGxvYyA9PiBsb2MubWluKS5yZWR1Y2UoKGEsIGIpID0+IFtNYXRoLm1pbihhWzBdLCBiWzBdKSwgTWF0aC5taW4oYVsxXSwgYlsxXSldKTtcbiAgICAgICAgY29uc3QgbWF4ID0gdGhpcy5sb2NhdGlvbnMuZmlsdGVyKGxvYyA9PiBsb2MpLm1hcChsb2MgPT4gbG9jLm1heCkucmVkdWNlKChhLCBiKSA9PiBbTWF0aC5tYXgoYVswXSwgYlswXSksIE1hdGgubWF4KGFbMV0sIGJbMV0pXSk7XG4gICAgICAgIGNvbnN0IHRvdGFsX2RpZmYgPSBNYXRoLm1heChtYXhbMF0gLSBtaW5bMF0sIG1heFsxXSAtIG1pblsxXSk7XG4gICAgICAgIGNvbnN0IG1heF9zaXplID0gTWF0aC5tYXgod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCkgKiA1O1xuICAgICAgICB0aGlzLmxvY2F0aW9ucy5mb3JFYWNoKGxvYyA9PiB7XG4gICAgICAgICAgICBpZihsb2MpIHtcbiAgICAgICAgICAgICAgICBsb2Muc3ZnID0gbG9jLmNvb3Jkcy5tYXAocG9seSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIHN2Z2A8cGF0aCBkPVwiJHtwb2x5Lm1hcCgocGFydCwgaSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgKGkgPT0gMCA/IHBhcnQgOiBwYXJ0LnJldmVyc2UoKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKGNvb3JkID0+IChbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgucm91bmQobWFwKGNvb3JkWzBdLCBtaW5bMF0sIG1pblswXSArIHRvdGFsX2RpZmYsIDAsIG1heF9zaXplKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hdGgucm91bmQobWFwKGNvb3JkWzFdLCBtaW5bMV0sIG1pblsxXSArIHRvdGFsX2RpZmYsIDAsIG1heF9zaXplKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdKSkuZmlsdGVyKChjb29yZCwgaSwgYXJyKSA9PiBjb29yZFswXSAhPT0gYXJyW2kgKyAxXT8uWzBdIHx8IGNvb3JkWzFdICE9PSBhcnJbaSArIDFdPy5bMV0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgoY29vcmQsIGkpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9PSAwXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdNJyArIGNvb3JkWzBdICsgJywnICsgY29vcmRbMV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogJ0wnICsgY29vcmRbMF0gKyAnLCcgKyBjb29yZFsxXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkpLmpvaW4oJyAnKSArICcgeidcbiAgICAgICAgICAgICAgICAgICAgICAgICkpLmpvaW4oJyAnKVxuICAgICAgICAgICAgICAgICAgICB9XCIvPmBcbiAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBodG1sYFxuICAgICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgICAgIGlkPVwibWFwXCJcbiAgICAgICAgICAgICAgICB2aWV3Qm94PVwiJHtcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5yb3VuZChtYXAobWluWzBdLCBtaW5bMF0sIG1pblswXSArIHRvdGFsX2RpZmYsIDAsIG1heF9zaXplKSkgKyAnICcgKyBcbiAgICAgICAgICAgICAgICAgICAgTWF0aC5yb3VuZChtYXAobWluWzFdLCBtaW5bMV0sIG1pblsxXSArIHRvdGFsX2RpZmYsIDAsIG1heF9zaXplKSkgKyAnICcgK1xuICAgICAgICAgICAgICAgICAgICBNYXRoLnJvdW5kKG1hcChtYXhbMF0sIG1pblswXSwgbWluWzBdICsgdG90YWxfZGlmZiwgMCwgbWF4X3NpemUpKSArICcgJyArIFxuICAgICAgICAgICAgICAgICAgICBNYXRoLnJvdW5kKG1hcChtYXhbMV0sIG1pblsxXSwgbWluWzFdICsgdG90YWxfZGlmZiwgMCwgbWF4X3NpemUpKVxuICAgICAgICAgICAgICAgIH1cIlxuICAgICAgICAgICAgICAgIEBtb3VzZW1vdmU9XCIke3RoaXMuaGFuZGxlTW91c2VNb3ZlfVwiXG4gICAgICAgICAgICAgICAgQHdoZWVsPVwiJHt0aGlzLmhhbmRsZU1vdXNlTW92ZX1cIlxuICAgICAgICAgICAgICAgIEBtb3VzZW91dD1cIiR7dGhpcy5oYW5kbGVNb3VzZU91dH1cIlxuICAgICAgICAgICAgICAgIEB0b3VjaHN0YXJ0PVwiJHt0aGlzLmhhbmRsZVRvdWNoU3RhcnR9XCJcbiAgICAgICAgICAgICAgICBAdG91Y2htb3ZlPVwiJHt0aGlzLmhhbmRsZVRvdWNoU3RhcnR9XCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAke3RoaXMubG9jYXRpb25zLm1hcCgobG9jKSA9PiAoc3ZnYFxuICAgICAgICAgICAgICAgICAgICA8Z1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJnZW9tZXRyeVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT1cIiR7c3R5bGVNYXAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw6IGByZ2IoJHtsb2MuY29sb3JbMF19LCR7bG9jLmNvbG9yWzFdfSwke2xvYy5jb2xvclsyXX0pYCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAubG9jYXRpb25fZGF0YT1cIiR7bG9jfVwiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICR7bG9jPy5zdmd9XG4gICAgICAgICAgICAgICAgICAgIDwvZz5cbiAgICAgICAgICAgICAgICBgKSl9XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgYDtcbiAgICB9XG5cbn1cblxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKCdtYXAtYmFja2VuZCcsIE1hcEJhY2tlbmRTdmcpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///49\n')}}]);