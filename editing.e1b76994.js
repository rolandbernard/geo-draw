/*! For license information please see editing.e1b76994.js.LICENSE.txt */
(self.webpackChunkgeo_draw=self.webpackChunkgeo_draw||[]).push([[169],{225:(t,n,e)=>{"use strict";e.r(n);var i=e(168),a=e(671),r=e(144),o=e(326),s=e(340),l=e(215),c=e(120),d=e(392),u=e(692),p=e(875);class h extends p.Xe{constructor(t){if(super(t),this.it=u.Ld,t.type!==p.pX.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(t){if(t===u.Ld||null==t)return this.ft=void 0,this.it=t;if(t===u.Jb)return t;if("string"!=typeof t)throw Error(this.constructor.directiveName+"() called with a non-string value");if(t===this.it)return this.ft;this.it=t;const n=[t];return n.raw=n,this.ft={_$litType$:this.constructor.resultType,strings:n,values:[]}}}h.directiveName="unsafeHTML",h.resultType=1;const f=(0,p.XM)(h);e(466);var v=e(885),m=e(942),g=e(861),y=e(757),w=e.n(y),b=e(458);const x=(0,p.XM)(class extends p.Xe{constructor(t){var n;if(super(t),t.type!==p.pX.ATTRIBUTE||"class"!==t.name||(null===(n=t.strings)||void 0===n?void 0:n.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter((n=>t[n])).join(" ")+" "}update(t,[n]){var e,i;if(void 0===this.et){this.et=new Set,void 0!==t.strings&&(this.st=new Set(t.strings.join(" ").split(/\s/).filter((t=>""!==t))));for(const t in n)n[t]&&!(null===(e=this.st)||void 0===e?void 0:e.has(t))&&this.et.add(t);return this.render(n)}const a=t.element.classList;this.et.forEach((t=>{t in n||(a.remove(t),this.et.delete(t))}));for(const t in n){const e=!!n[t];e===this.et.has(t)||(null===(i=this.st)||void 0===i?void 0:i.has(t))||(e?(a.add(t),this.et.add(t)):(a.remove(t),this.et.delete(t)))}return u.Jb}});e(129);var k,O,Z,j=e(752);function _(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=new Array(n);e<n;e++)i[e]=t[e];return i}var C=function(t){(0,s.Z)(u,t);var n,e,o=(n=u,e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,c.Z)(n);if(e){var a=(0,c.Z)(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return(0,l.Z)(this,t)});function u(){var t;return(0,a.Z)(this,u),(t=o.call(this)).selected=0,t.complete=[],t.string_value="",t}return(0,r.Z)(u,[{key:"updateAutocomplete",value:function(){var t=this,n=this.string_value;if(n){var e,i=new Set(n.split(/[\s\d-.'"~:;,\/\\]/).filter((function(t){return t})).map((function(t){return t.toLowerCase()}))),a={},r=function(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return _(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?_(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return o=t.done,t},e:function(t){s=!0,r=t},f:function(){try{o||null==e.return||e.return()}finally{if(s)throw r}}}}(i);try{for(r.s();!(e=r.n()).done;){var o=e.value,s=this.index.fragments[o];if(s)for(var l=0,c=Object.keys(s);l<c.length;l++){var d=c[l];a[d]?a[d]+=s[d]:a[d]=s[d]}}}catch(t){r.e(t)}finally{r.f()}var u=Object.keys(a).map((function(n){return[n,a[n],t.index.names[n]]})).sort((function(t,n){var e=(0,v.Z)(t,3),i=(e[0],e[1]),a=e[2],r=(0,v.Z)(n,3),o=(r[0],r[1]),s=r[2];return i<o||!(o<i)&&a.length>s.length}));this.complete=u.map((function(t){var n=(0,v.Z)(t,3),e=n[0];return n[1],{id:e,name:n[2]}}))}else this.complete=Object.keys(this.index.names).map((function(n){return{id:n,name:t.index.names[n]}})).sort((function(t,n){return t.name>n.name}));this.selected=0}},{key:"onKeypress",value:function(t){if("Enter"!==t.key){var n=t.target.value;n!==this.string_value&&(this.string_value=n,this.updateAutocomplete())}}},{key:"onKeydown",value:function(t){if("ArrowUp"===t.key)this.selected=(this.complete.length+this.selected-1)%this.complete.length,t.preventDefault();else if("ArrowDown"===t.key)this.selected=(this.selected+1)%this.complete.length,t.preventDefault();else if("Enter"===t.key){t.target.blur();var n=this.complete[this.selected].id;if(n){var e=new Event("change");e.location=n,this.value=n,this.dispatchEvent(e)}}}},{key:"updated",value:function(){var t=this.shadowRoot.querySelector("div.autocomplete div.complete.selected");t&&t.scrollIntoView({behavior:"smooth",block:"center"})}},{key:"update",value:function(t){var n,e;t.has("value")&&(this.string_value=null===(n=this.index)||void 0===n||null===(e=n.names)||void 0===e?void 0:e[this.value],void 0===this.string_value&&(this.string_value=""),this.updateAutocomplete()),(0,j.Z)((0,c.Z)(u.prototype),"update",this).call(this,t)}},{key:"render",value:function(){var t=this;return(0,d.dy)(k||(k=(0,i.Z)(['\n            <div class="location-input-root">\n                <input\n                    class="input-element"\n                    .value="','"\n                    @keyup="','"\n                    @keydown="','"\n                    @focusout="','"\n                />\n                <div class="autocomplete">',"</div>\n            </div>\n        "])),this.string_value,this.onKeypress,this.onKeydown,this.onFocus,this.complete.map((function(n,e){return(0,d.dy)(O||(O=(0,i.Z)(['\n                    <div class="','">',"</div>\n                "])),x({complete:!0,selected:e===t.selected}),n.name)})))}}],[{key:"properties",get:function(){return{value:{type:String},index:{type:Object},complete:{type:Array},selected:{type:Number},string_value:{type:String}}}},{key:"styles",get:function(){return(0,d.iv)(Z||(Z=(0,i.Z)(["\n            :host {\n                width: 100%;\n            }\n            div.location-input-root {\n                position: relative;\n                width: 100%;\n            }\n            div.autocomplete {\n                display: none;\n                position: absolute;\n                max-height: 40rem;\n                overflow: auto;\n                width: 100%;\n                border-bottom-left-radius: 4px;\n                border-bottom-right-radius: 4px;\n                box-shadow: var(--shadow-small);\n                scrollbar-width: none;\n                z-index: 1000;\n                pointer-events: none;\n            }\n            input.input-element:focus ~ div.autocomplete {\n                display: block;\n            }\n            input.input-element {\n                display: block;\n                height: calc(1.5rem + 6px);\n                appearance: none;\n                border-radius: 4px;\n                padding: 3px 6px;\n                border: 1px solid var(--secondary);\n                font-weight: 400;\n                font-family: Roboto, sans-serif;\n                font-size: 0.9rem;\n                color: black;\n                box-sizing: border-box;\n                margin: 0;\n                width: 100%;\n            }\n            div.complete {\n                box-sizing: border-box;\n                background: var(--background-light);\n                color: black;\n                overflow: hidden;\n                white-space: nowrap;\n                text-overflow: ellipsis;\n                width: 100%;\n                padding: 0.5rem;\n                text-align: left;\n            }\n            div.complete.selected {\n                background: lightgrey;\n            }\n            div.autocomplete::-webkit-scrollbar {\n                display: none;\n            }\n        "])))}}]),u}(d.oi);customElements.define("location-input",C);var R,z,E,D,S,A,L,M=e(124),I=e.n(M),P=e(728),T=e.n(P);function q(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,i)}return e}function B(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?q(Object(e),!0).forEach((function(n){(0,m.Z)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):q(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var H="./static/data/",U=function(t){(0,s.Z)(p,t);var n,e,o,u=(e=p,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,n=(0,c.Z)(e);if(o){var i=(0,c.Z)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return(0,l.Z)(this,t)});function p(){var t;return(0,a.Z)(this,p),(t=u.call(this)).index=t.loadIndex(),t}return(0,r.Z)(p,[{key:"loadIndex",value:(n=(0,g.Z)(w().mark((function t(){var n,e;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(H,"/index_fragments.json"));case 3:return n=t.sent,t.t0=p,t.next=7,n.json();case 7:return t.t1=t.sent,this.index_fragments=t.t0.multiplyIndex.call(t.t0,t.t1),t.next=11,fetch("".concat(H,"/index_names.json"));case 11:return e=t.sent,t.next=14,e.json();case 14:return this.index_names=t.sent,t.abrupt("return",{fragments:this.index_fragments,names:this.index_names});case 18:t.prev=18,t.t2=t.catch(0),console.error(t.t2);case 21:case"end":return t.stop()}}),t,this,[[0,18]])}))),function(){return n.apply(this,arguments)})},{key:"dispatchOnChange",value:function(t){var n=new Event("change");n.data=t,this.dispatchEvent(n)}},{key:"updateData",value:function(t,n,e){var i=parseFloat(e)||0;this.data.data[t][n]=i,this.dispatchOnChange(B({},this.data))}},{key:"updateLocation",value:function(t,n){this.data.locations[t]=n,this.dispatchOnChange(B({},this.data))}},{key:"updateColumn",value:function(t,n){this.data.columns[t]=n,this.dispatchOnChange(B({},this.data))}},{key:"updateColor",value:function(t,n){var e=this,i=this.data.color_using;if(n){var a=i.findIndex((function(n){return n===t}));-1===a?(this.data.color_using.push(t),this.data.colors.push(n)):(this.data.color_using[a]=t,this.data.colors[a]=n)}else i.forEach((function(n,i){n===t&&(e.data.color_using.splice(i,1),e.data.colors.splice(i,1))}));this.dispatchOnChange(B({},this.data)),this.requestUpdate()}},{key:"addColumn",value:function(){this.data.columns.push(""),this.data.data.forEach((function(t){t.push(0)})),this.dispatchOnChange(B({},this.data)),this.requestUpdate()}},{key:"removeColumn",value:function(t){var n=this;this.data.color_using.forEach((function(e,i){e===t&&(n.data.color_using.splice(i,1),n.data.colors.splice(i,1))})),this.data.color_using=this.data.color_using.map((function(n){return n>t?n-1:n})),this.data.columns.splice(t,1),this.data.data.forEach((function(n){n.splice(t,1)})),this.dispatchOnChange(B({},this.data)),this.requestUpdate()}},{key:"addRow",value:function(){this.data.locations.push(""),this.data.data.push(this.data.columns.map((function(){return 0}))),this.dispatchOnChange(B({},this.data)),this.requestUpdate()}},{key:"removeRow",value:function(t){this.data.locations.splice(t,1),this.data.data.splice(t,1),this.dispatchOnChange(B({},this.data)),this.requestUpdate()}},{key:"updateTitle",value:function(t){this.data.title=t,this.dispatchOnChange(B({},this.data))}},{key:"updateDefaultColor",value:function(t){this.data.defcolor=t,this.dispatchOnChange(B({},this.data))}},{key:"updateAllow3d",value:function(t){this.data.allow_3d=t,this.dispatchOnChange(B({},this.data))}},{key:"render",value:function(){var t=this;return(0,d.dy)(R||(R=(0,i.Z)(['\n            <div class="map-input-root">\n                ',"\n            </div>\n        "])),(0,b.C)((0,g.Z)(w().mark((function n(){var e;return w().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.index;case 2:return e=n.sent,n.abrupt("return",(0,d.dy)(z||(z=(0,i.Z)(['\n                        <div>\n                            <span class="title-input-wrap"><span class="title">Title:</span><input\n                                class="text-field"\n                                value="','"\n                                @change="','"\n                            /></span>\n                            <span class="input-wrap">\n                                <span class="defcolor-input-wrap"><span class="defcolor">Default color:</span><input\n                                    class="color-input"\n                                    type="color"\n                                    value="','"\n                                    @change="','"\n                                /></span>\n                                <span class="a3d-input-wrap"><span class="a3d">Allow 3D:</span><input\n                                    class="a3d-checkbox"\n                                    type="checkbox"\n                                    ?checked="','"\n                                    @change="','"\n                                /></span>\n                            </span>\n                        </div>\n                        <table>\n                            <tr><td class="header"><span class="location-header">Locations</span></td>','<td>\n                                <button\n                                    class="add-button"\n                                    @click="','"\n                                >',"</button>\n                            </td></tr>\n                            ",'\n                            <tr><td>\n                                <button\n                                    class="add-button"\n                                    @click="','"\n                                >',"</button>\n                            </td></tr>\n                        </table>\n                    "])),t.data.title,(function(n){return t.updateTitle(n.target.value)}),t.data.defcolor,(function(n){return t.updateDefaultColor(n.target.value)}),t.data.allow_3d,(function(n){return t.updateAllow3d(n.target.checked)}),t.data.columns.map((function(n,e){var a,r,o,s,l,c;return(0,d.dy)(E||(E=(0,i.Z)(['\n                                <td class="header"><div class="data-input-wrap">\n                                    <button\n                                        class="remove-button"\n                                        @click="','"\n                                    >','</button>\n                                    <input\n                                        class="text-field"\n                                        value="','"\n                                        @change="','"\n                                    />\n                                    <input\n                                        class="','"\n                                        key="','"\n                                        type="color"\n                                        value="','"\n                                        @change="','"\n                                    />  \n                                    <input\n                                        class="color-checkbox"\n                                        type="checkbox"\n                                        ?checked="','"\n                                        @change="','"\n                                    />  \n                                </div></td>\n                            '])),(function(){return t.removeColumn(e)}),f(T()),n,(function(n){return t.updateColumn(e,n.target.value)}),x({"color-input":!0,disabled:-1===(null===(a=t.data.color_using)||void 0===a?void 0:a.findIndex((function(t){return t===e})))}),e,null===(r=t.data.colors)||void 0===r?void 0:r[null===(o=t.data.color_using)||void 0===o||null===(s=o.map((function(t,n){return[t,n]})))||void 0===s||null===(l=s.find((function(t){return(0,v.Z)(t,1)[0]===e})))||void 0===l?void 0:l[1]],(function(n){return t.updateColor(e,n.target.value)}),-1!==(null===(c=t.data.color_using)||void 0===c?void 0:c.findIndex((function(t){return t===e}))),(function(n){if(n.target.checked){var i,a=null===(i=t.shadowRoot.querySelector('input.color-input[key="'.concat(e,'"]')))||void 0===i?void 0:i.value;a&&t.updateColor(e,a)}else t.updateColor(e,null)}))})),t.addColumn,f(I()),t.data.locations.map((function(n,a){var r;return(0,d.dy)(D||(D=(0,i.Z)(['\n                                <tr>\n                                    <td class="cell">\n                                        <div class="location-cell">\n                                            <button\n                                                class="remove-button"\n                                                @click="','"\n                                            >','</button>\n                                            <location-input\n                                                value="','"\n                                                .index="','"\n                                                @change="','"\n                                            ></location-input>\n                                        </div>\n                                    </td>\n                                    ',"\n                                </tr>\n                            "])),(function(){return t.removeRow(a)}),f(T()),n,e,(function(n){return t.updateLocation(a,n.location)}),null===(r=t.data.data[a])||void 0===r?void 0:r.map((function(n,e){return(0,d.dy)(S||(S=(0,i.Z)(['\n                                        <td class="cell">\n                                            <input\n                                                class="text-field"\n                                                value="','"\n                                                type="number"\n                                                step="any"\n                                                @change="','"\n                                            />\n                                        </td>\n                                    '])),n,(function(n){return t.updateData(a,e,n.target.value)}))})))})),t.addRow,f(I())));case 4:case"end":return n.stop()}}),n)})))(),(0,d.dy)(A||(A=(0,i.Z)(['<div class="loading"><ui-spinner></ui-spinner></div>'])))))}}],[{key:"properties",get:function(){return{data:{type:Object,hasChanged:function(t,n){return(null==t?void 0:t.id)!==(null==n?void 0:n.id)}}}}},{key:"styles",get:function(){return(0,d.iv)(L||(L=(0,i.Z)(["\n            table, tr, td {\n                border-collapse: collapse;\n                text-align: center;\n                font-family: Roboto, sans-serif;\n                font-size: 0.9rem;\n                color: black;\n                padding: 0.25rem;\n            }\n            td.cell, td.header {\n                border-bottom: 1px solid var(--background-dark);\n            }\n            td.header span.location-header {\n                font-weight: 500;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                height: 2rem;\n                width: 15rem;\n                margin: 4px;\n            }\n            input {\n                flex: 1 1 auto;\n                box-sizing: border-box;\n                margin: 0;\n                font-family: inherit;\n                font-size: inherit;\n                font-weight: inherit;\n                color: inherit;\n                width: 100%;\n                min-width: 10rem;\n            }\n            div.map-input-root {\n                overflow: auto;\n                width: 100%;\n                height: 100%;\n                background: var(--background-light);\n            }\n            div.loading {\n                width: 100%;\n                height: 100%;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n            }\n            .add-button, .remove-button {\n                flex: 0 0 auto;\n                display: flex;\n                justify-content: center;\n                align-items: center;\n                border: none;\n                box-sizing: border-box;\n                background: var(--secondary);\n                color: white;\n                padding: 3px;\n                border-radius: 4px;\n                appearance: none;\n                user-select: none;\n                box-shadow: var(--shadow-small);\n                cursor: pointer;\n                margin: 4px;\n            }\n            .add-button svg, .remove-button svg {\n                width: 1.5rem;\n                height: 1.5rem;\n                fill: white;\n            }\n            .color-input {\n                flex: 0 0 auto;\n                display: block;\n                width: 1.5rem;\n                height: 1.5rem;\n                border: none;\n                box-sizing: content-box;\n                padding: 3px 3px;\n                border-radius: 4px;\n                appearance: none;\n                user-select: none;\n                background: var(--background-light);\n                box-shadow: var(--shadow-small);\n                cursor: pointer;\n                min-width: 0;\n                min-height: 0;\n                margin: 4px;\n            }\n            .color-input.disabled {\n                filter: blur(1px);\n            }\n            .color-checkbox {\n                flex: 0 0 auto;\n                width: min-content;\n                height: min-content;\n                min-width: 0;\n                min-height: 0;\n                display: block;\n                margin: 4px;\n            }\n            .title-input-wrap, .defcolor-input-wrap, .a3d-input-wrap, .data-input-wrap, .location-cell {\n                display: flex;\n                align-items: center;\n            }\n            .title-input-wrap, .defcolor-input-wrap, .a3d-input-wrap {\n                margin: 0.25rem;\n            }\n            .title-input-wrap {\n                margin-top: 0.5rem;\n            }\n            .title-input-wrap span.title, .defcolor-input-wrap span.defcolor, .a3d-input-wrap span.a3d {\n                margin: 4px;\n            }\n            input.text-field, input.text-field {\n                display: block;\n                height: calc(1.5rem + 6px);\n                appearance: none;\n                border-radius: 4px;\n                padding: 3px 6px;\n                border: 1px solid var(--secondary);\n                font-weight: 400;\n                font-family: Roboto, sans-serif;\n                font-size: 0.9rem;\n                color: black;\n            }\n            .input-wrap {\n                display: flex;\n                flex-flow: row nowrap;\n                justify-content: space-between;\n                max-width: 20rem;\n            }\n            .a3d-input-wrap span.a3d {\n                white-space: nowrap;\n            }\n            .a3d-input-wrap .a3d-checkbox {\n                min-width: 2rem;\n            }\n        "])))}},{key:"multiplyIndex",value:function(t){var n={};return Object.keys(t).map((function(n){return[n.split("").reduce((function(t,n){return t.concat((t[t.length-1]||"")+n)}),[]),t[n]]})).forEach((function(t){var e=(0,v.Z)(t,2),i=e[0],a=e[1];i.forEach((function(t){n[t]?Object.keys(a).forEach((function(e){n[t][e]?n[t][e]+=a[e]:n[t][e]=a[e]})):n[t]=B({},a)}))})),n}}]),p}(d.oi);customElements.define("map-data-input",U);var N,J,V=e(66),X=e.n(V),F=e(894),K=e.n(F);var $=function(t){(0,s.Z)(p,t);var n,e,u=(n=p,e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,i=(0,c.Z)(n);if(e){var a=(0,c.Z)(this).constructor;t=Reflect.construct(i,arguments,a)}else t=i.apply(this,arguments);return(0,l.Z)(this,t)});function p(){var t;return(0,a.Z)(this,p),(t=u.call(this)).data_id=0,t.fetchData(),window.addEventListener("hashchange",t.fetchData.bind((0,o.Z)(t))),t}return(0,r.Z)(p,[{key:"fetchData",value:function(){try{var t=(window.location.hash||"#/").match(new RegExp("#/?(edit(/(.*))?)?"));if(t){var n=null==t?void 0:t[3];if(n){var e=JSON.parse(atob(n));JSON.stringify(this.data)!==JSON.stringify(e)&&(this.data=e)}else this.data={id:this.data_id++,title:"",defcolor:"#f0ffff",columns:[],color_using:[],colors:[],locations:[],data:[]}}}catch(t){this.data={id:this.data_id++,title:"",defcolor:"#f0ffff",columns:[],color_using:[],colors:[],locations:[],data:[]}}}},{key:"onUpdate",value:function(t){this.data=t.data,window.location.hash="#/edit/"+btoa(JSON.stringify(this.data))}},{key:"copyLink",value:function(){var t=JSON.stringify(this.data),n="".concat(window.location.origin,"/").concat(window.location.pathname,"/#/view/").concat(btoa(t));navigator.clipboard.writeText(n)}},{key:"render",value:function(){return(0,d.dy)(N||(N=(0,i.Z)(['\n            <div class="editing-view-root">\n                <header>','<span>Geo-Draw</span></header>\n                <div class="content-root">\n                    <div class="editing">\n                        <map-data-input\n                            .data="','"\n                            @change="',')"\n                        ></map-data-input>\n                    </div>\n                    <div class="renderer">\n                        <div class="link" @click="','">\n                            ','\n                        </div>\n                        <map-renderer\n                            .data="','"\n                        ></map-renderer>\n                    </div>\n                </div>\n            </div>\n        '])),f(X()),this.data,this.onUpdate,this.copyLink,f(K()),this.data)}}],[{key:"properties",get:function(){return{data:{attribute:!1}}}},{key:"styles",get:function(){return(0,d.iv)(J||(J=(0,i.Z)(["\n            header {\n                font-family: Roboto, sans-serif;\n                font-size: 2rem;\n                background: var(--background-dark);\n                color: white;\n                padding: 0.5rem;\n                font-weight: 500;\n                display: flex;\n                align-items: center;\n                justify-content: center;\n                gap: 0.5rem;\n                height: 2.75rem;\n                box-shadow: var(--shadow-large);\n                flex: 0 0 auto;\n                z-index: 100;\n            }\n            header svg {\n                width: 2rem;\n                height: 2rem;\n                pointer-events: none;\n            }\n            div.editing-view-root {\n                height: 100%;\n                width: 100%;\n                display: flex;\n                flex-flow: column;\n            }\n            div.content-root {\n                display: flex;\n                flex: 1 1 100%;\n                flex-flow: row nowrap;\n                overflow: hidden;\n            }\n            @media (max-aspect-ratio: 1) {\n                div.content-root {\n                    flex-flow: column;\n                }\n            }\n            div.editing {\n                flex: 1 1 60%;\n                min-height: 60%;\n                min-width: 60%;\n            }\n            div.renderer {\n                flex: 1 1 40%;\n                min-height: 40%;\n                min-width: 40%;\n                box-shadow: var(--shadow-large);\n                position: relative;\n            }\n            :host {\n                height: 100%;\n                width: 100%;\n                display: block;\n            }\n            .link {\n                position: absolute;\n                top: 0.5rem;\n                right: 0.5rem;\n                fill: var(--primary);\n                width: 1.75rem;\n                height: 1.75rem;\n                padding: 6px;\n                background: var(--background-light);\n                border-radius: 50%;\n                z-index: 100;\n            }\n            .link:hover {\n                cursor: pointer;\n                opacity: 0.75;\n            }\n        "])))}}]),p}(d.oi);customElements.define("editing-view",$)},124:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>'},728:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0V0z"></path><path d="M6 21h12V7H6v14zm2.46-9.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4h-3.5z"></path></svg>'},894:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"></path><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"></path></svg>'},66:t=>{t.exports='<svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 33.866665 33.866668" version="1.1" id="svg8"><defs id="defs2"></defs><metadata id="metadata5"><rdf:RDF><cc:Work rdf:about><dc:format>image/svg+xml</dc:format><dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage"></dc><dc:title></dc:title></cc:Work></rdf:RDF></metadata><g id="layer1"><circle style="font-variation-settings:normal;opacity:1;vector-effect:none;fill:#bedfff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:6.61459;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:0.5;stop-color:#000000;stop-opacity:1" id="path833" cx="16.759304" cy="16.94569" r="15.058922"></circle><path id="rect835" style="font-variation-settings:normal;opacity:1;vector-effect:none;fill:#d89d00;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:25;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:0.5;stop-color:#000000;stop-opacity:1" d="m 101.73047,22.025391 c -1.928634,1.981202 -3.468625,3.481931 -4.119142,3.925781 -2.850138,0.805418 -10.671875,2.125 -10.671875,2.125 -0.431698,-1.45072 1.883574,-1.416391 1.638672,-1.904297 C 87.825602,24.672649 87.33004,25.792787 85.5,27.158203 c -0.803116,0.599213 -4.463325,1.508781 -6.072266,1.115235 -1.471952,-0.360038 -4.974884,-2.230517 -10.03125,1.777343 -0.64913,0.514525 -1.432389,1.065255 -1.935546,1.828125 -0.549022,0.832411 1.821036,2.383757 1.226562,3.257813 -0.410306,0.603275 -1.438572,0.932873 -2.402344,1.554687 -0.720102,0.464599 -1.622094,-3.062121 -2.443359,-2.892578 -1.546855,0.319332 -2.669038,0.607579 -3.861328,1.720703 -1.425124,1.330502 6.851769,4.352115 4.724609,4.748047 -1.994853,0.371301 -3.589816,0.806887 -3.75,2.345703 -0.129071,1.239942 1.116866,3.449773 0.429688,4.96875 -1.079078,2.385253 -5.9241,7.083084 -5.021485,12.960938 0.570365,3.714217 0.450893,8.001166 13.683594,7.671875 1.719572,-0.04278 -0.928346,-0.09515 -0.464844,1.009765 2.248048,5.359049 1.695576,7.778102 1.962891,12.447266 0.545144,3.736649 1.24331,6.465073 1.671875,10.4375 0.248504,2.303562 1.441152,3.915117 2.205078,4.238281 0.704848,0.298167 2.037858,0.309885 3.859375,-1.279297 1.823664,-1.591041 2.990772,-5.734839 4.654297,-8.984375 0.72268,-1.411687 2.559447,-2.369739 2.882812,-3.351562 0.826095,-2.508265 0.357878,-2.893032 -0.0293,-4.359375 -1.384815,-5.244673 5.690943,-7.919898 6.328126,-15.488281 0.06183,-0.734518 -5.002687,1.552768 -4.621094,0.615234 0.727238,-1.78673 3.635102,-2.780557 5.9375,-4.449219 1.690809,-1.225413 1.619338,-3.237904 1.376953,-5.464843 0,0 4.391766,-0.191153 5.996096,2.666015 1.05343,1.876052 2.22501,9.554694 7.40234,11.230469 0,0 -1.56116,-8.320067 2.51954,-11.667969 3.18847,-2.615898 2.86734,-1.851729 7.45312,-2.779297 A 56.915611,56.915611 0 0 0 101.73047,22.025391 Z" transform="scale(0.26458333)"></path><path id="rect883" style="font-variation-settings:normal;opacity:1;vector-effect:none;fill:#f51af2;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:25;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:0.5;stop-color:#000000;stop-opacity:1" d="M 26.685547,20.507812 A 56.915611,56.915611 0 0 0 6.6816406,58.679688 c 1.5878831,-0.152116 3.3681924,0.14888 5.2812504,1.509765 2.398529,1.706234 3.614142,-0.495253 8.267578,5.201172 1.348342,1.65055 2.888804,0.819001 3.863281,2.619141 0.937881,1.732531 -2.131409,3.252855 -1.519531,8.09375 0.932444,7.377071 2.800622,6.759177 5.824219,10.039062 0.455278,0.493871 1.790072,19.496112 4.111328,19.576172 2.824372,0.0974 3.502034,-5.14504 5.818359,-7.847656 2.358187,-2.751466 1.943073,-5.354217 3.697266,-8.183594 0.636306,-1.026319 1.99414,-1.435547 1.99414,-1.435547 0.743834,-0.288605 3.651643,-10.311391 2.6875,-11.773437 -0.282773,-0.428799 -0.59463,-1.041871 -1.349609,-1.363282 -1.156649,-0.492412 -3.93937,-1.126556 -7.552734,-6.214843 -1.650264,-2.323873 -3.769372,-2.866244 -6.835938,-4.613282 -1.205398,-0.686732 -2.801756,-1.06021 -4.005859,-0.628906 -1.67535,0.600106 -2.816295,2.229715 -3.101563,2.042969 -1.951047,-1.277341 -2.56476,-4.383525 -3.248047,-5.837891 0,0 -1.52842,1.487209 -0.800781,0.185547 1.388169,-2.48327 1.84928,-3.640966 0.916016,-3.912109 -1.00512,-0.29201 -1.148535,1.333641 -2.855469,1.789062 -1.212469,0.323475 -2.416016,-0.326172 -2.416016,-0.326172 0.105225,-1.794156 0.07647,-5.086849 2.140625,-5.53125 2.797777,-0.602449 4.779297,-0.611328 4.779297,-0.611328 0.600005,0.43917 0.770768,4.890064 1.777344,2.798828 C 32.21556,37.507982 42.370142,42.413523 41.5,39.71875 c -1.205461,-3.733232 -1.78506,-5.981769 -2.890625,-7.488281 -0.311724,-0.424779 3.302166,-2.126388 3.296875,-2.240235 -0.03262,-0.716677 -3.524006,-2.298801 -3.529297,-3.193359 2.734027,0.394447 4.276659,0.612106 6.525391,0.951172 0.122464,0.01846 -0.876261,1.887712 -0.488282,2.751953 0.487915,1.086851 1.097733,2.830766 1.800782,2.671875 1.593906,-0.360227 8.645505,-3.454481 13.61914,-6.236328 L 59.369141,25.625 c 0,0 -15.912159,-3.543394 -32.683594,-5.117188 z" transform="scale(0.26458333)"></path><path d="m 5.6811543,14.831394 c 0.476158,0.215039 0.807932,0.374782 1.151994,0.516093 0.31027,0.125951 0.626685,0.233471 0.940027,0.350206 0.03994,-0.119807 0.07987,-0.239615 0.119807,-0.359422 -0.771068,0.05222 -1.259513,-0.961531 -2.211828,-0.506877 z" id="path848-6" style="fill:#3f3ff5;fill-opacity:1;stroke-width:0.264583"></path><path d="m 24.718777,20.402137 c -0.201397,0.482087 -0.351631,0.818274 -0.48309,1.166219 -0.117068,0.31373 -0.215537,0.633077 -0.323305,0.949615 0.120896,0.03651 0.241792,0.07302 0.362687,0.109527 -0.07415,-0.769269 0.925287,-1.286374 0.443708,-2.225361 z" id="path940" style="fill:#67f53f;fill-opacity:1;stroke-width:0.264583"></path><path id="path942" style="font-variation-settings:normal;opacity:1;vector-effect:none;fill:#f52d2d;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:25;stroke-linecap:square;stroke-linejoin:miter;stroke-miterlimit:4;stroke-dasharray:none;stroke-dashoffset:0;stroke-opacity:0.5;stop-color:#000000;stop-opacity:1" d="M 112.03516,87.048828 A 9.2088401,17.897347 0 0 0 102.92383,104.94336 56.915611,56.915611 0 0 0 115,87.939453 a 9.2088401,17.897347 0 0 0 -2.86719,-0.890625 9.2088401,17.897347 0 0 0 -0.0977,0 z" transform="scale(0.26458333)"></path></g></svg>'},752:(t,n,e)=>{"use strict";e.d(n,{Z:()=>r});var i=e(120);function a(t,n){for(;!Object.prototype.hasOwnProperty.call(t,n)&&null!==(t=(0,i.Z)(t)););return t}function r(){return r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,e){var i=a(t,n);if(i){var r=Object.getOwnPropertyDescriptor(i,n);return r.get?r.get.call(arguments.length<3?t:e):r.value}},r.apply(this,arguments)}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bGl0LWh0bWwvZGlyZWN0aXZlcy91bnNhZmUtaHRtbC5qcyIsIndlYnBhY2s6Ly9nZW8tZHJhdy8uL25vZGVfbW9kdWxlcy9saXQtaHRtbC9kaXJlY3RpdmVzL2NsYXNzLW1hcC5qcyIsIndlYnBhY2s6Ly9nZW8tZHJhdy8uL3NyYy91aS9sb2NhdGlvbi1pbnB1dC5qcyIsIndlYnBhY2s6Ly9nZW8tZHJhdy8uL3NyYy91aS9tYXAtZGF0YS1pbnB1dC5qcyIsIndlYnBhY2s6Ly9nZW8tZHJhdy8uL3NyYy92aWV3L2VkaXRpbmctdmlldy5qcyIsIndlYnBhY2s6Ly9nZW8tZHJhdy8uL3NyYy9pY29ucy9hZGQuc3ZnIiwid2VicGFjazovL2dlby1kcmF3Ly4vc3JjL2ljb25zL2RlbGV0ZS5zdmciLCJ3ZWJwYWNrOi8vZ2VvLWRyYXcvLi9zcmMvaWNvbnMvbGluay5zdmciLCJ3ZWJwYWNrOi8vZ2VvLWRyYXcvLi9zcmMvaWNvbnMvbG9nby5zdmciLCJ3ZWJwYWNrOi8vZ2VvLWRyYXcvLi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc3VwZXJQcm9wQmFzZS5qcyIsIndlYnBhY2s6Ly9nZW8tZHJhdy8uL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9nZXQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0e25vdGhpbmcgYXMgdCxub0NoYW5nZSBhcyBpfWZyb21cIi4uL2xpdC1odG1sLmpzXCI7aW1wb3J0e0RpcmVjdGl2ZSBhcyByLFBhcnRUeXBlIGFzIHMsZGlyZWN0aXZlIGFzIG59ZnJvbVwiLi4vZGlyZWN0aXZlLmpzXCI7XG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQlNELTMtQ2xhdXNlXG4gKi9jbGFzcyBlIGV4dGVuZHMgcntjb25zdHJ1Y3RvcihpKXtpZihzdXBlcihpKSx0aGlzLml0PXQsaS50eXBlIT09cy5DSElMRCl0aHJvdyBFcnJvcih0aGlzLmNvbnN0cnVjdG9yLmRpcmVjdGl2ZU5hbWUrXCIoKSBjYW4gb25seSBiZSB1c2VkIGluIGNoaWxkIGJpbmRpbmdzXCIpfXJlbmRlcihyKXtpZihyPT09dHx8bnVsbD09cilyZXR1cm4gdGhpcy5mdD12b2lkIDAsdGhpcy5pdD1yO2lmKHI9PT1pKXJldHVybiByO2lmKFwic3RyaW5nXCIhPXR5cGVvZiByKXRocm93IEVycm9yKHRoaXMuY29uc3RydWN0b3IuZGlyZWN0aXZlTmFtZStcIigpIGNhbGxlZCB3aXRoIGEgbm9uLXN0cmluZyB2YWx1ZVwiKTtpZihyPT09dGhpcy5pdClyZXR1cm4gdGhpcy5mdDt0aGlzLml0PXI7Y29uc3Qgcz1bcl07cmV0dXJuIHMucmF3PXMsdGhpcy5mdD17XyRsaXRUeXBlJDp0aGlzLmNvbnN0cnVjdG9yLnJlc3VsdFR5cGUsc3RyaW5nczpzLHZhbHVlczpbXX19fWUuZGlyZWN0aXZlTmFtZT1cInVuc2FmZUhUTUxcIixlLnJlc3VsdFR5cGU9MTtjb25zdCBvPW4oZSk7ZXhwb3J0e2UgYXMgVW5zYWZlSFRNTERpcmVjdGl2ZSxvIGFzIHVuc2FmZUhUTUx9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dW5zYWZlLWh0bWwuanMubWFwXG4iLCJpbXBvcnR7bm9DaGFuZ2UgYXMgdH1mcm9tXCIuLi9saXQtaHRtbC5qc1wiO2ltcG9ydHtkaXJlY3RpdmUgYXMgaSxEaXJlY3RpdmUgYXMgcyxQYXJ0VHlwZSBhcyByfWZyb21cIi4uL2RpcmVjdGl2ZS5qc1wiO1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEJTRC0zLUNsYXVzZVxuICovY29uc3Qgbz1pKGNsYXNzIGV4dGVuZHMgc3tjb25zdHJ1Y3Rvcih0KXt2YXIgaTtpZihzdXBlcih0KSx0LnR5cGUhPT1yLkFUVFJJQlVURXx8XCJjbGFzc1wiIT09dC5uYW1lfHwobnVsbD09PShpPXQuc3RyaW5ncyl8fHZvaWQgMD09PWk/dm9pZCAwOmkubGVuZ3RoKT4yKXRocm93IEVycm9yKFwiYGNsYXNzTWFwKClgIGNhbiBvbmx5IGJlIHVzZWQgaW4gdGhlIGBjbGFzc2AgYXR0cmlidXRlIGFuZCBtdXN0IGJlIHRoZSBvbmx5IHBhcnQgaW4gdGhlIGF0dHJpYnV0ZS5cIil9cmVuZGVyKHQpe3JldHVyblwiIFwiK09iamVjdC5rZXlzKHQpLmZpbHRlcigoaT0+dFtpXSkpLmpvaW4oXCIgXCIpK1wiIFwifXVwZGF0ZShpLFtzXSl7dmFyIHIsbztpZih2b2lkIDA9PT10aGlzLmV0KXt0aGlzLmV0PW5ldyBTZXQsdm9pZCAwIT09aS5zdHJpbmdzJiYodGhpcy5zdD1uZXcgU2V0KGkuc3RyaW5ncy5qb2luKFwiIFwiKS5zcGxpdCgvXFxzLykuZmlsdGVyKCh0PT5cIlwiIT09dCkpKSk7Zm9yKGNvbnN0IHQgaW4gcylzW3RdJiYhKG51bGw9PT0ocj10aGlzLnN0KXx8dm9pZCAwPT09cj92b2lkIDA6ci5oYXModCkpJiZ0aGlzLmV0LmFkZCh0KTtyZXR1cm4gdGhpcy5yZW5kZXIocyl9Y29uc3QgZT1pLmVsZW1lbnQuY2xhc3NMaXN0O3RoaXMuZXQuZm9yRWFjaCgodD0+e3QgaW4gc3x8KGUucmVtb3ZlKHQpLHRoaXMuZXQuZGVsZXRlKHQpKX0pKTtmb3IoY29uc3QgdCBpbiBzKXtjb25zdCBpPSEhc1t0XTtpPT09dGhpcy5ldC5oYXModCl8fChudWxsPT09KG89dGhpcy5zdCl8fHZvaWQgMD09PW8/dm9pZCAwOm8uaGFzKHQpKXx8KGk/KGUuYWRkKHQpLHRoaXMuZXQuYWRkKHQpKTooZS5yZW1vdmUodCksdGhpcy5ldC5kZWxldGUodCkpKX1yZXR1cm4gdH19KTtleHBvcnR7byBhcyBjbGFzc01hcH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jbGFzcy1tYXAuanMubWFwXG4iLCJcbmltcG9ydCB7IGNzcywgaHRtbCwgTGl0RWxlbWVudCB9IGZyb20gJ2xpdCdcbmltcG9ydCB7IGNsYXNzTWFwIH0gZnJvbSAnbGl0L2RpcmVjdGl2ZXMvY2xhc3MtbWFwLmpzJztcblxuY2xhc3MgTG9jYXRpb25JbnB1dCBleHRlbmRzIExpdEVsZW1lbnQge1xuXG4gICAgc3RhdGljIGdldCBwcm9wZXJ0aWVzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdmFsdWU6IHt0eXBlOiBTdHJpbmd9LFxuICAgICAgICAgICAgaW5kZXg6IHt0eXBlOiBPYmplY3R9LFxuICAgICAgICAgICAgY29tcGxldGU6IHt0eXBlOiBBcnJheX0sXG4gICAgICAgICAgICBzZWxlY3RlZDoge3R5cGU6IE51bWJlcn0sXG4gICAgICAgICAgICBzdHJpbmdfdmFsdWU6IHt0eXBlOiBTdHJpbmd9LFxuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIHN0YXRpYyBnZXQgc3R5bGVzKCkge1xuICAgICAgICByZXR1cm4gY3NzYFxuICAgICAgICAgICAgOmhvc3Qge1xuICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGl2LmxvY2F0aW9uLWlucHV0LXJvb3Qge1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpdi5hdXRvY29tcGxldGUge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgICAgIG1heC1oZWlnaHQ6IDQwcmVtO1xuICAgICAgICAgICAgICAgIG92ZXJmbG93OiBhdXRvO1xuICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IDRweDtcbiAgICAgICAgICAgICAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogNHB4O1xuICAgICAgICAgICAgICAgIGJveC1zaGFkb3c6IHZhcigtLXNoYWRvdy1zbWFsbCk7XG4gICAgICAgICAgICAgICAgc2Nyb2xsYmFyLXdpZHRoOiBub25lO1xuICAgICAgICAgICAgICAgIHotaW5kZXg6IDEwMDA7XG4gICAgICAgICAgICAgICAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnB1dC5pbnB1dC1lbGVtZW50OmZvY3VzIH4gZGl2LmF1dG9jb21wbGV0ZSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnB1dC5pbnB1dC1lbGVtZW50IHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGNhbGMoMS41cmVtICsgNnB4KTtcbiAgICAgICAgICAgICAgICBhcHBlYXJhbmNlOiBub25lO1xuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAzcHggNnB4O1xuICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLXNlY29uZGFyeSk7XG4gICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDQwMDtcbiAgICAgICAgICAgICAgICBmb250LWZhbWlseTogUm9ib3RvLCBzYW5zLXNlcmlmO1xuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMC45cmVtO1xuICAgICAgICAgICAgICAgIGNvbG9yOiBibGFjaztcbiAgICAgICAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpdi5jb21wbGV0ZSB7XG4gICAgICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLWxpZ2h0KTtcbiAgICAgICAgICAgICAgICBjb2xvcjogYmxhY2s7XG4gICAgICAgICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgICAgICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDAuNXJlbTtcbiAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGl2LmNvbXBsZXRlLnNlbGVjdGVkIHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBsaWdodGdyZXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXYuYXV0b2NvbXBsZXRlOjotd2Via2l0LXNjcm9sbGJhciB7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgYDtcbiAgICB9XG4gICAgXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWQgPSAwO1xuICAgICAgICB0aGlzLmNvbXBsZXRlID0gW107XG4gICAgICAgIHRoaXMuc3RyaW5nX3ZhbHVlID0gJyc7XG4gICAgfVxuICAgXG4gICAgdXBkYXRlQXV0b2NvbXBsZXRlKCkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuc3RyaW5nX3ZhbHVlO1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlYXJjaF9mYXJnbWVudHMgPSBuZXcgU2V0KHZhbHVlLnNwbGl0KC9bXFxzXFxkLS4nXCJ+OjssXFwvXFxcXF0vKS5maWx0ZXIoZWwgPT4gZWwpLm1hcChlbCA9PiBlbC50b0xvd2VyQ2FzZSgpKSk7XG4gICAgICAgICAgICBjb25zdCBmcmFnbWVudF9tYXAgPSB7fTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZnJhZ21lbnQgb2Ygc2VhcmNoX2ZhcmdtZW50cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kX2luID0gdGhpcy5pbmRleC5mcmFnbWVudHNbZnJhZ21lbnRdO1xuICAgICAgICAgICAgICAgIGlmIChmb3VuZF9pbikge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGlkIG9mIE9iamVjdC5rZXlzKGZvdW5kX2luKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZyYWdtZW50X21hcFtpZF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcmFnbWVudF9tYXBbaWRdICs9IGZvdW5kX2luW2lkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJhZ21lbnRfbWFwW2lkXSA9IGZvdW5kX2luW2lkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNvcnRlZCA9IE9iamVjdC5rZXlzKGZyYWdtZW50X21hcCkubWFwKGlkID0+IFtpZCwgZnJhZ21lbnRfbWFwW2lkXSwgdGhpcy5pbmRleC5uYW1lc1tpZF1dKVxuICAgICAgICAgICAgICAgIC5zb3J0KChbXywgYSwgbmFdLCBbX18sIGIsIG5iXSkgPT4gYSA8IGIgPyB0cnVlIDogYiA8IGEgPyBmYWxzZSA6IG5hLmxlbmd0aCA+IG5iLmxlbmd0aCk7XG4gICAgICAgICAgICB0aGlzLmNvbXBsZXRlID0gc29ydGVkLm1hcCgoW2lkLCBfLCBuYW1lXSkgPT4gKHsgaWQsIG5hbWUgfSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jb21wbGV0ZSA9IE9iamVjdC5rZXlzKHRoaXMuaW5kZXgubmFtZXMpLm1hcChpZCA9PiAoeyBpZCwgbmFtZTogdGhpcy5pbmRleC5uYW1lc1tpZF0gfSkpLnNvcnQoKGEsIGIpID0+IGEubmFtZSA+IGIubmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZWxlY3RlZCA9IDA7XG4gICAgfVxuICAgIFxuICAgIG9uS2V5cHJlc3MoZXZlbnQpIHtcbiAgICAgICAgaWYoZXZlbnQua2V5ICE9PSAnRW50ZXInKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGV2ZW50LnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgIGlmKHZhbHVlICE9PSB0aGlzLnN0cmluZ192YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc3RyaW5nX3ZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVBdXRvY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBvbktleWRvd24oZXZlbnQpIHtcbiAgICAgICAgaWYoZXZlbnQua2V5ID09PSAnQXJyb3dVcCcpIHtcbiAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWQgPSAodGhpcy5jb21wbGV0ZS5sZW5ndGggKyB0aGlzLnNlbGVjdGVkIC0gMSkgJSB0aGlzLmNvbXBsZXRlLmxlbmd0aDtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0gZWxzZSBpZihldmVudC5rZXkgPT09ICdBcnJvd0Rvd24nKSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkID0gKHRoaXMuc2VsZWN0ZWQgKyAxKSAlIHRoaXMuY29tcGxldGUubGVuZ3RoO1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfSBlbHNlIGlmKGV2ZW50LmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgICAgICAgZXZlbnQudGFyZ2V0LmJsdXIoKTtcbiAgICAgICAgICAgIGNvbnN0IGxvY2F0aW9uID0gdGhpcy5jb21wbGV0ZVt0aGlzLnNlbGVjdGVkXS5pZDtcbiAgICAgICAgICAgIGlmKGxvY2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgRXZlbnQoJ2NoYW5nZScpO1xuICAgICAgICAgICAgICAgIGV2ZW50LmxvY2F0aW9uID0gbG9jYXRpb247XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IGxvY2F0aW9uO1xuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGVkKCkge1xuICAgICAgICBjb25zdCBzZWxlY3RlZCA9IHRoaXMuc2hhZG93Um9vdC5xdWVyeVNlbGVjdG9yKCdkaXYuYXV0b2NvbXBsZXRlIGRpdi5jb21wbGV0ZS5zZWxlY3RlZCcpO1xuICAgICAgICBpZihzZWxlY3RlZCkge1xuICAgICAgICAgICAgc2VsZWN0ZWQuc2Nyb2xsSW50b1ZpZXcoeyBiZWhhdmlvcjogJ3Ntb290aCcsIGJsb2NrOiAnY2VudGVyJyB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICB1cGRhdGUocHJvcHMpIHtcbiAgICAgICAgaWYocHJvcHMuaGFzKCd2YWx1ZScpKSB7XG4gICAgICAgICAgICB0aGlzLnN0cmluZ192YWx1ZSA9IHRoaXMuaW5kZXg/Lm5hbWVzPy5bdGhpcy52YWx1ZV07XG4gICAgICAgICAgICBpZih0aGlzLnN0cmluZ192YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHJpbmdfdmFsdWUgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudXBkYXRlQXV0b2NvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIudXBkYXRlKHByb3BzKVxuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIGh0bWxgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibG9jYXRpb24taW5wdXQtcm9vdFwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImlucHV0LWVsZW1lbnRcIlxuICAgICAgICAgICAgICAgICAgICAudmFsdWU9XCIke3RoaXMuc3RyaW5nX3ZhbHVlfVwiXG4gICAgICAgICAgICAgICAgICAgIEBrZXl1cD1cIiR7dGhpcy5vbktleXByZXNzfVwiXG4gICAgICAgICAgICAgICAgICAgIEBrZXlkb3duPVwiJHt0aGlzLm9uS2V5ZG93bn1cIlxuICAgICAgICAgICAgICAgICAgICBAZm9jdXNvdXQ9XCIke3RoaXMub25Gb2N1c31cIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImF1dG9jb21wbGV0ZVwiPiR7dGhpcy5jb21wbGV0ZS5tYXAoKGNvbSwgaSkgPT4gKGh0bWxgXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCIke2NsYXNzTWFwKHtjb21wbGV0ZTogdHJ1ZSwgc2VsZWN0ZWQ6IGkgPT09IHRoaXMuc2VsZWN0ZWR9KX1cIj4ke2NvbS5uYW1lfTwvZGl2PlxuICAgICAgICAgICAgICAgIGApKX08L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuICAgIH1cblxufVxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ2xvY2F0aW9uLWlucHV0JywgTG9jYXRpb25JbnB1dCk7XG4iLCJcbmltcG9ydCB7IGNzcywgaHRtbCwgTGl0RWxlbWVudCB9IGZyb20gJ2xpdCdcbmltcG9ydCB7IHVudGlsIH0gZnJvbSAnbGl0L2RpcmVjdGl2ZXMvdW50aWwuanMnO1xuaW1wb3J0IHsgdW5zYWZlSFRNTCB9IGZyb20gJ2xpdC9kaXJlY3RpdmVzL3Vuc2FmZS1odG1sLmpzJztcbmltcG9ydCB7IGNsYXNzTWFwIH0gZnJvbSAnbGl0L2RpcmVjdGl2ZXMvY2xhc3MtbWFwLmpzJztcblxuaW1wb3J0ICcuL3NwaW5uZXInO1xuaW1wb3J0ICcuL2xvY2F0aW9uLWlucHV0JztcbmltcG9ydCBBZGRJY29uIGZyb20gJy4uL2ljb25zL2FkZC5zdmcnO1xuaW1wb3J0IERlbGV0ZUljb24gZnJvbSAnLi4vaWNvbnMvZGVsZXRlLnN2Zyc7XG5cbmNvbnN0IGRhdGFfbG9jYXRpb24gPSAnLi9zdGF0aWMvZGF0YS8nO1xuXG5jbGFzcyBNYXBEYXRhSW5wdXQgZXh0ZW5kcyBMaXRFbGVtZW50IHtcblxuICAgIHN0YXRpYyBnZXQgcHJvcGVydGllcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRhdGE6IHt0eXBlOiBPYmplY3QsIGhhc0NoYW5nZWQ6IChuLCBvKSA9PiBuPy5pZCAhPT0gbz8uaWR9LFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgc3R5bGVzKCkge1xuICAgICAgICByZXR1cm4gY3NzYFxuICAgICAgICAgICAgdGFibGUsIHRyLCB0ZCB7XG4gICAgICAgICAgICAgICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcbiAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6IFJvYm90bywgc2Fucy1zZXJpZjtcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IDAuOXJlbTtcbiAgICAgICAgICAgICAgICBjb2xvcjogYmxhY2s7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogMC4yNXJlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRkLmNlbGwsIHRkLmhlYWRlciB7XG4gICAgICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJhY2tncm91bmQtZGFyayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0ZC5oZWFkZXIgc3Bhbi5sb2NhdGlvbi1oZWFkZXIge1xuICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA1MDA7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICAgICAgICAgIGhlaWdodDogMnJlbTtcbiAgICAgICAgICAgICAgICB3aWR0aDogMTVyZW07XG4gICAgICAgICAgICAgICAgbWFyZ2luOiA0cHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpbnB1dCB7XG4gICAgICAgICAgICAgICAgZmxleDogMSAxIGF1dG87XG4gICAgICAgICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICAgICAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6IGluaGVyaXQ7XG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiBpbmhlcml0O1xuICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBpbmhlcml0O1xuICAgICAgICAgICAgICAgIGNvbG9yOiBpbmhlcml0O1xuICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgIG1pbi13aWR0aDogMTByZW07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaXYubWFwLWlucHV0LXJvb3Qge1xuICAgICAgICAgICAgICAgIG92ZXJmbG93OiBhdXRvO1xuICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLWxpZ2h0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpdi5sb2FkaW5nIHtcbiAgICAgICAgICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLmFkZC1idXR0b24sIC5yZW1vdmUtYnV0dG9uIHtcbiAgICAgICAgICAgICAgICBmbGV4OiAwIDAgYXV0bztcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tc2Vjb25kYXJ5KTtcbiAgICAgICAgICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogM3B4O1xuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgICAgICAgICBhcHBlYXJhbmNlOiBub25lO1xuICAgICAgICAgICAgICAgIHVzZXItc2VsZWN0OiBub25lO1xuICAgICAgICAgICAgICAgIGJveC1zaGFkb3c6IHZhcigtLXNoYWRvdy1zbWFsbCk7XG4gICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgICAgICAgICAgICAgIG1hcmdpbjogNHB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLmFkZC1idXR0b24gc3ZnLCAucmVtb3ZlLWJ1dHRvbiBzdmcge1xuICAgICAgICAgICAgICAgIHdpZHRoOiAxLjVyZW07XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAxLjVyZW07XG4gICAgICAgICAgICAgICAgZmlsbDogd2hpdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuY29sb3ItaW5wdXQge1xuICAgICAgICAgICAgICAgIGZsZXg6IDAgMCBhdXRvO1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICAgICAgICAgIHdpZHRoOiAxLjVyZW07XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAxLjVyZW07XG4gICAgICAgICAgICAgICAgYm9yZGVyOiBub25lO1xuICAgICAgICAgICAgICAgIGJveC1zaXppbmc6IGNvbnRlbnQtYm94O1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDNweCAzcHg7XG4gICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICAgICAgICAgIGFwcGVhcmFuY2U6IG5vbmU7XG4gICAgICAgICAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tYmFja2dyb3VuZC1saWdodCk7XG4gICAgICAgICAgICAgICAgYm94LXNoYWRvdzogdmFyKC0tc2hhZG93LXNtYWxsKTtcbiAgICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgICAgICAgbWluLXdpZHRoOiAwO1xuICAgICAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDA7XG4gICAgICAgICAgICAgICAgbWFyZ2luOiA0cHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuY29sb3ItaW5wdXQuZGlzYWJsZWQge1xuICAgICAgICAgICAgICAgIGZpbHRlcjogYmx1cigxcHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLmNvbG9yLWNoZWNrYm94IHtcbiAgICAgICAgICAgICAgICBmbGV4OiAwIDAgYXV0bztcbiAgICAgICAgICAgICAgICB3aWR0aDogbWluLWNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBtaW4tY29udGVudDtcbiAgICAgICAgICAgICAgICBtaW4td2lkdGg6IDA7XG4gICAgICAgICAgICAgICAgbWluLWhlaWdodDogMDtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgICAgICBtYXJnaW46IDRweDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC50aXRsZS1pbnB1dC13cmFwLCAuZGVmY29sb3ItaW5wdXQtd3JhcCwgLmEzZC1pbnB1dC13cmFwLCAuZGF0YS1pbnB1dC13cmFwLCAubG9jYXRpb24tY2VsbCB7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLnRpdGxlLWlucHV0LXdyYXAsIC5kZWZjb2xvci1pbnB1dC13cmFwLCAuYTNkLWlucHV0LXdyYXAge1xuICAgICAgICAgICAgICAgIG1hcmdpbjogMC4yNXJlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC50aXRsZS1pbnB1dC13cmFwIHtcbiAgICAgICAgICAgICAgICBtYXJnaW4tdG9wOiAwLjVyZW07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAudGl0bGUtaW5wdXQtd3JhcCBzcGFuLnRpdGxlLCAuZGVmY29sb3ItaW5wdXQtd3JhcCBzcGFuLmRlZmNvbG9yLCAuYTNkLWlucHV0LXdyYXAgc3Bhbi5hM2Qge1xuICAgICAgICAgICAgICAgIG1hcmdpbjogNHB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5wdXQudGV4dC1maWVsZCwgaW5wdXQudGV4dC1maWVsZCB7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBjYWxjKDEuNXJlbSArIDZweCk7XG4gICAgICAgICAgICAgICAgYXBwZWFyYW5jZTogbm9uZTtcbiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgICAgICAgICAgcGFkZGluZzogM3B4IDZweDtcbiAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1zZWNvbmRhcnkpO1xuICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA0MDA7XG4gICAgICAgICAgICAgICAgZm9udC1mYW1pbHk6IFJvYm90bywgc2Fucy1zZXJpZjtcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IDAuOXJlbTtcbiAgICAgICAgICAgICAgICBjb2xvcjogYmxhY2s7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuaW5wdXQtd3JhcCB7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgICBmbGV4LWZsb3c6IHJvdyBub3dyYXA7XG4gICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xuICAgICAgICAgICAgICAgIG1heC13aWR0aDogMjByZW07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuYTNkLWlucHV0LXdyYXAgc3Bhbi5hM2Qge1xuICAgICAgICAgICAgICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuYTNkLWlucHV0LXdyYXAgLmEzZC1jaGVja2JveCB7XG4gICAgICAgICAgICAgICAgbWluLXdpZHRoOiAycmVtO1xuICAgICAgICAgICAgfVxuICAgICAgICBgO1xuICAgIH1cblxuICAgIHN0YXRpYyBtdWx0aXBseUluZGV4KGZyYWdzKSB7XG4gICAgICAgIGNvbnN0IHJldCA9IHt9O1xuICAgICAgICBPYmplY3Qua2V5cyhmcmFncykubWFwKG5hbWUgPT4gKFxuICAgICAgICAgICAgW25hbWUuc3BsaXQoJycpLnJlZHVjZSgoYSwgYykgPT4gYS5jb25jYXQoKGFbYS5sZW5ndGggLSAxXSB8fCAnJykgKyBjKSxbXSksIGZyYWdzW25hbWVdXVxuICAgICAgICApKS5mb3JFYWNoKChbZnJhZ3MsIGlkc10pID0+IHtcbiAgICAgICAgICAgIGZyYWdzLmZvckVhY2goZnJhZ21lbnQgPT4ge1xuICAgICAgICAgICAgICAgIGlmKHJldFtmcmFnbWVudF0pIHtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMoaWRzKS5mb3JFYWNoKGlkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJldFtmcmFnbWVudF1baWRdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0W2ZyYWdtZW50XVtpZF0gKz0gaWRzW2lkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0W2ZyYWdtZW50XVtpZF0gPSBpZHNbaWRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXRbZnJhZ21lbnRdID0gey4uLmlkc307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH1cblxuICAgIGFzeW5jIGxvYWRJbmRleCgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IGZyYWdtZW50cyA9IGF3YWl0IGZldGNoKGAke2RhdGFfbG9jYXRpb259L2luZGV4X2ZyYWdtZW50cy5qc29uYCk7XG4gICAgICAgICAgICB0aGlzLmluZGV4X2ZyYWdtZW50cyA9IE1hcERhdGFJbnB1dC5tdWx0aXBseUluZGV4KGF3YWl0IGZyYWdtZW50cy5qc29uKCkpO1xuICAgICAgICAgICAgY29uc3QgbmFtZXMgPSBhd2FpdCBmZXRjaChgJHtkYXRhX2xvY2F0aW9ufS9pbmRleF9uYW1lcy5qc29uYCk7XG4gICAgICAgICAgICB0aGlzLmluZGV4X25hbWVzID0gYXdhaXQgbmFtZXMuanNvbigpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBmcmFnbWVudHM6IHRoaXMuaW5kZXhfZnJhZ21lbnRzLFxuICAgICAgICAgICAgICAgIG5hbWVzOiB0aGlzLmluZGV4X25hbWVzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBjYXRjaChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICB9IFxuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmluZGV4ID0gdGhpcy5sb2FkSW5kZXgoKTtcbiAgICB9XG5cbiAgICBkaXNwYXRjaE9uQ2hhbmdlKGRhdGEpIHtcbiAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgRXZlbnQoJ2NoYW5nZScpO1xuICAgICAgICBldmVudC5kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICB9XG5cbiAgICB1cGRhdGVEYXRhKGxvY19pbmRleCwgY29sX2luZGV4LCB2YWx1ZSkge1xuICAgICAgICBjb25zdCB2YWwgPSBwYXJzZUZsb2F0KHZhbHVlKSB8fCAwO1xuICAgICAgICB0aGlzLmRhdGEuZGF0YVtsb2NfaW5kZXhdW2NvbF9pbmRleF0gPSB2YWw7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hPbkNoYW5nZSh7XG4gICAgICAgICAgICAuLi50aGlzLmRhdGEsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHVwZGF0ZUxvY2F0aW9uKGxvY19pbmRleCwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5kYXRhLmxvY2F0aW9uc1tsb2NfaW5kZXhdID0gdmFsdWU7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hPbkNoYW5nZSh7XG4gICAgICAgICAgICAuLi50aGlzLmRhdGEsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHVwZGF0ZUNvbHVtbihjb2xfaW5kZXgsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuZGF0YS5jb2x1bW5zW2NvbF9pbmRleF0gPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaE9uQ2hhbmdlKHtcbiAgICAgICAgICAgIC4uLnRoaXMuZGF0YSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdXBkYXRlQ29sb3IoY29sX2luZGV4LCB2YWx1ZSkge1xuICAgICAgICBjb25zdCBjb2xvcl93aXRoID0gdGhpcy5kYXRhLmNvbG9yX3VzaW5nO1xuICAgICAgICBpZih2YWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgZW50cnkgPSBjb2xvcl93aXRoLmZpbmRJbmRleChlbCA9PiBlbCA9PT0gY29sX2luZGV4KTtcbiAgICAgICAgICAgIGlmKGVudHJ5ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YS5jb2xvcl91c2luZy5wdXNoKGNvbF9pbmRleCk7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLmNvbG9ycy5wdXNoKHZhbHVlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLmNvbG9yX3VzaW5nW2VudHJ5XSA9IGNvbF9pbmRleDtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEuY29sb3JzW2VudHJ5XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29sb3Jfd2l0aC5mb3JFYWNoKChpbmRleCwgaSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmKGluZGV4ID09PSBjb2xfaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhLmNvbG9yX3VzaW5nLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhLmNvbG9ycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaXNwYXRjaE9uQ2hhbmdlKHtcbiAgICAgICAgICAgIC4uLnRoaXMuZGF0YSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgpO1xuICAgIH1cbiAgIFxuICAgIGFkZENvbHVtbigpIHtcbiAgICAgICAgdGhpcy5kYXRhLmNvbHVtbnMucHVzaCgnJyk7XG4gICAgICAgIHRoaXMuZGF0YS5kYXRhLmZvckVhY2gocm93ID0+IHtcbiAgICAgICAgICAgIHJvdy5wdXNoKDApO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5kaXNwYXRjaE9uQ2hhbmdlKHtcbiAgICAgICAgICAgIC4uLnRoaXMuZGF0YSxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMucmVxdWVzdFVwZGF0ZSgpO1xuICAgIH1cbiAgICBcbiAgICByZW1vdmVDb2x1bW4oaW5kZXgpIHtcbiAgICAgICAgY29uc3QgY29sb3Jfd2l0aCA9IHRoaXMuZGF0YS5jb2xvcl91c2luZztcbiAgICAgICAgY29sb3Jfd2l0aC5mb3JFYWNoKChlbCwgaSkgPT4ge1xuICAgICAgICAgICAgaWYoZWwgPT09IGluZGV4KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhLmNvbG9yX3VzaW5nLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGEuY29sb3JzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZGF0YS5jb2xvcl91c2luZyA9IHRoaXMuZGF0YS5jb2xvcl91c2luZy5tYXAoZWwgPT4gZWwgPiBpbmRleCA/IGVsIC0gMSA6IGVsKTtcbiAgICAgICAgdGhpcy5kYXRhLmNvbHVtbnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgdGhpcy5kYXRhLmRhdGEuZm9yRWFjaChyb3cgPT4ge1xuICAgICAgICAgICAgcm93LnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRpc3BhdGNoT25DaGFuZ2Uoe1xuICAgICAgICAgICAgLi4udGhpcy5kYXRhLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0VXBkYXRlKCk7XG4gICAgfVxuXG4gICAgYWRkUm93KCkge1xuICAgICAgICB0aGlzLmRhdGEubG9jYXRpb25zLnB1c2goJycpO1xuICAgICAgICB0aGlzLmRhdGEuZGF0YS5wdXNoKHRoaXMuZGF0YS5jb2x1bW5zLm1hcCgoKSA9PiAwKSk7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hPbkNoYW5nZSh7XG4gICAgICAgICAgICAuLi50aGlzLmRhdGEsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJlcXVlc3RVcGRhdGUoKTtcbiAgICB9XG5cbiAgICByZW1vdmVSb3coaW5kZXgpIHtcbiAgICAgICAgdGhpcy5kYXRhLmxvY2F0aW9ucy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB0aGlzLmRhdGEuZGF0YS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB0aGlzLmRpc3BhdGNoT25DaGFuZ2Uoe1xuICAgICAgICAgICAgLi4udGhpcy5kYXRhLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5yZXF1ZXN0VXBkYXRlKCk7XG4gICAgfVxuXG4gICAgdXBkYXRlVGl0bGUodGl0bGUpIHtcbiAgICAgICAgdGhpcy5kYXRhLnRpdGxlID0gdGl0bGU7XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hPbkNoYW5nZSh7XG4gICAgICAgICAgICAuLi50aGlzLmRhdGEsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHVwZGF0ZURlZmF1bHRDb2xvcihjb2xvcikge1xuICAgICAgICB0aGlzLmRhdGEuZGVmY29sb3IgPSBjb2xvcjtcbiAgICAgICAgdGhpcy5kaXNwYXRjaE9uQ2hhbmdlKHtcbiAgICAgICAgICAgIC4uLnRoaXMuZGF0YSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdXBkYXRlQWxsb3czZChhbGxvd18zZCkge1xuICAgICAgICB0aGlzLmRhdGEuYWxsb3dfM2QgPSBhbGxvd18zZDtcbiAgICAgICAgdGhpcy5kaXNwYXRjaE9uQ2hhbmdlKHtcbiAgICAgICAgICAgIC4uLnRoaXMuZGF0YSxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gaHRtbGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtYXAtaW5wdXQtcm9vdFwiPlxuICAgICAgICAgICAgICAgICR7dW50aWwoKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBhd2FpdCB0aGlzLmluZGV4O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaHRtbGBcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0aXRsZS1pbnB1dC13cmFwXCI+PHNwYW4gY2xhc3M9XCJ0aXRsZVwiPlRpdGxlOjwvc3Bhbj48aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJ0ZXh0LWZpZWxkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCIke3RoaXMuZGF0YS50aXRsZX1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAY2hhbmdlPVwiJHtlID0+IHRoaXMudXBkYXRlVGl0bGUoZS50YXJnZXQudmFsdWUpfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLz48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJpbnB1dC13cmFwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZGVmY29sb3ItaW5wdXQtd3JhcFwiPjxzcGFuIGNsYXNzPVwiZGVmY29sb3JcIj5EZWZhdWx0IGNvbG9yOjwvc3Bhbj48aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiY29sb3ItaW5wdXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cImNvbG9yXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPVwiJHt0aGlzLmRhdGEuZGVmY29sb3J9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBjaGFuZ2U9XCIke2UgPT4gdGhpcy51cGRhdGVEZWZhdWx0Q29sb3IoZS50YXJnZXQudmFsdWUpfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImEzZC1pbnB1dC13cmFwXCI+PHNwYW4gY2xhc3M9XCJhM2RcIj5BbGxvdyAzRDo8L3NwYW4+PGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImEzZC1jaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgP2NoZWNrZWQ9XCIke3RoaXMuZGF0YS5hbGxvd18zZH1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQGNoYW5nZT1cIiR7ZSA9PiB0aGlzLnVwZGF0ZUFsbG93M2QoZS50YXJnZXQuY2hlY2tlZCl9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz48L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dGFibGU+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPjx0ZCBjbGFzcz1cImhlYWRlclwiPjxzcGFuIGNsYXNzPVwibG9jYXRpb24taGVhZGVyXCI+TG9jYXRpb25zPC9zcGFuPjwvdGQ+JHt0aGlzLmRhdGEuY29sdW1ucy5tYXAoKGNvbCwgaSkgPT4gKGh0bWxgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cImhlYWRlclwiPjxkaXYgY2xhc3M9XCJkYXRhLWlucHV0LXdyYXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInJlbW92ZS1idXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBjbGljaz1cIiR7KCkgPT4gdGhpcy5yZW1vdmVDb2x1bW4oaSl9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID4ke3Vuc2FmZUhUTUwoRGVsZXRlSWNvbil9PC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInRleHQtZmllbGRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPVwiJHtjb2x9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAY2hhbmdlPVwiJHtlID0+IHRoaXMudXBkYXRlQ29sdW1uKGksIGUudGFyZ2V0LnZhbHVlKX1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiJHtjbGFzc01hcCh7J2NvbG9yLWlucHV0JzogdHJ1ZSwgJ2Rpc2FibGVkJzogdGhpcy5kYXRhLmNvbG9yX3VzaW5nPy5maW5kSW5kZXgodSA9PiB1ID09PSBpKSAhPT0gLTEgPyBmYWxzZSA6IHRydWV9KX1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT1cIiR7aX1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjb2xvclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCIke3RoaXMuZGF0YS5jb2xvcnM/Llt0aGlzLmRhdGEuY29sb3JfdXNpbmc/Lm1hcCgodSwgaSkgPT4gW3UsIGldKT8uZmluZCgoW3VdKSA9PiB1ID09PSBpKT8uWzFdXX1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBjaGFuZ2U9XCIke2UgPT4gdGhpcy51cGRhdGVDb2xvcihpLCBlLnRhcmdldC52YWx1ZSl9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+ICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiY29sb3ItY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgP2NoZWNrZWQ9XCIke3RoaXMuZGF0YS5jb2xvcl91c2luZz8uZmluZEluZGV4KHUgPT4gdSA9PT0gaSkgIT09IC0xID8gdHJ1ZSA6IGZhbHNlfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQGNoYW5nZT1cIiR7ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKGUudGFyZ2V0LmNoZWNrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gdGhpcy5zaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoYGlucHV0LmNvbG9yLWlucHV0W2tleT1cIiR7aX1cIl1gKT8udmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihjb2xvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ29sb3IoaSwgY29sb3IpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNvbG9yKGksIG51bGwpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPiAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PjwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYCkpfTx0ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJhZGQtYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBjbGljaz1cIiR7dGhpcy5hZGRDb2x1bW59XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPiR7dW5zYWZlSFRNTChBZGRJY29uKX08L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPjwvdHI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLmRhdGEubG9jYXRpb25zLm1hcCgobG9jLCBpKSA9PiAoaHRtbGBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwiY2VsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsb2NhdGlvbi1jZWxsXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwicmVtb3ZlLWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAY2xpY2s9XCIkeygpID0+IHRoaXMucmVtb3ZlUm93KGkpfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID4ke3Vuc2FmZUhUTUwoRGVsZXRlSWNvbil9PC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsb2NhdGlvbi1pbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCIke2xvY31cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmluZGV4PVwiJHtpbmRleH1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQGNoYW5nZT1cIiR7ZSA9PiB0aGlzLnVwZGF0ZUxvY2F0aW9uKGksIGUubG9jYXRpb24pfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID48L2xvY2F0aW9uLWlucHV0PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7dGhpcy5kYXRhLmRhdGFbaV0/Lm1hcCgoZGF0YSwgaikgPT4gKGh0bWxgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwiY2VsbFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwidGV4dC1maWVsZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT1cIiR7ZGF0YX1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGVwPVwiYW55XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEBjaGFuZ2U9XCIke2UgPT4gdGhpcy51cGRhdGVEYXRhKGksIGosIGUudGFyZ2V0LnZhbHVlKX1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYCkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0cj48dGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYWRkLWJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBAY2xpY2s9XCIke3RoaXMuYWRkUm93fVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID4ke3Vuc2FmZUhUTUwoQWRkSWNvbil9PC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD48L3RyPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC90YWJsZT5cbiAgICAgICAgICAgICAgICAgICAgYDtcbiAgICAgICAgICAgICAgICB9KSgpLCBodG1sYDxkaXYgY2xhc3M9XCJsb2FkaW5nXCI+PHVpLXNwaW5uZXI+PC91aS1zcGlubmVyPjwvZGl2PmApfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgfVxuXG59XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbWFwLWRhdGEtaW5wdXQnLCBNYXBEYXRhSW5wdXQpO1xuIiwiXG5pbXBvcnQgeyBjc3MsIGh0bWwsIExpdEVsZW1lbnQgfSBmcm9tICdsaXQnXG5pbXBvcnQgeyB1bnNhZmVIVE1MIH0gZnJvbSAnbGl0L2RpcmVjdGl2ZXMvdW5zYWZlLWh0bWwuanMnO1xuXG5pbXBvcnQgJy4uL21hcC9tYXAtcmVuZGVyZXInO1xuaW1wb3J0ICcuLi91aS9tYXAtZGF0YS1pbnB1dCc7XG5pbXBvcnQgSWNvbiBmcm9tICcuLi9pY29ucy9sb2dvLnN2Zyc7XG5pbXBvcnQgTGlua0ljb24gZnJvbSAnLi4vaWNvbnMvbGluay5zdmcnO1xuXG5jbGFzcyBFZGl0aW5nVmlldyBleHRlbmRzIExpdEVsZW1lbnQge1xuXG4gICAgc3RhdGljIGdldCBwcm9wZXJ0aWVzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGF0YToge2F0dHJpYnV0ZTogZmFsc2V9LFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXQgc3R5bGVzKCkge1xuICAgICAgICByZXR1cm4gY3NzYFxuICAgICAgICAgICAgaGVhZGVyIHtcbiAgICAgICAgICAgICAgICBmb250LWZhbWlseTogUm9ib3RvLCBzYW5zLXNlcmlmO1xuICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMnJlbTtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLWRhcmspO1xuICAgICAgICAgICAgICAgIGNvbG9yOiB3aGl0ZTtcbiAgICAgICAgICAgICAgICBwYWRkaW5nOiAwLjVyZW07XG4gICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gICAgICAgICAgICAgICAgZ2FwOiAwLjVyZW07XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAyLjc1cmVtO1xuICAgICAgICAgICAgICAgIGJveC1zaGFkb3c6IHZhcigtLXNoYWRvdy1sYXJnZSk7XG4gICAgICAgICAgICAgICAgZmxleDogMCAwIGF1dG87XG4gICAgICAgICAgICAgICAgei1pbmRleDogMTAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGVhZGVyIHN2ZyB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDJyZW07XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAycmVtO1xuICAgICAgICAgICAgICAgIHBvaW50ZXItZXZlbnRzOiBub25lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGl2LmVkaXRpbmctdmlldy1yb290IHtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgICAgICBmbGV4LWZsb3c6IGNvbHVtbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpdi5jb250ZW50LXJvb3Qge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICAgICAgZmxleDogMSAxIDEwMCU7XG4gICAgICAgICAgICAgICAgZmxleC1mbG93OiByb3cgbm93cmFwO1xuICAgICAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBAbWVkaWEgKG1heC1hc3BlY3QtcmF0aW86IDEpIHtcbiAgICAgICAgICAgICAgICBkaXYuY29udGVudC1yb290IHtcbiAgICAgICAgICAgICAgICAgICAgZmxleC1mbG93OiBjb2x1bW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGl2LmVkaXRpbmcge1xuICAgICAgICAgICAgICAgIGZsZXg6IDEgMSA2MCU7XG4gICAgICAgICAgICAgICAgbWluLWhlaWdodDogNjAlO1xuICAgICAgICAgICAgICAgIG1pbi13aWR0aDogNjAlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGl2LnJlbmRlcmVyIHtcbiAgICAgICAgICAgICAgICBmbGV4OiAxIDEgNDAlO1xuICAgICAgICAgICAgICAgIG1pbi1oZWlnaHQ6IDQwJTtcbiAgICAgICAgICAgICAgICBtaW4td2lkdGg6IDQwJTtcbiAgICAgICAgICAgICAgICBib3gtc2hhZG93OiB2YXIoLS1zaGFkb3ctbGFyZ2UpO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDpob3N0IHtcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAubGluayB7XG4gICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgICAgIHRvcDogMC41cmVtO1xuICAgICAgICAgICAgICAgIHJpZ2h0OiAwLjVyZW07XG4gICAgICAgICAgICAgICAgZmlsbDogdmFyKC0tcHJpbWFyeSk7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDEuNzVyZW07XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAxLjc1cmVtO1xuICAgICAgICAgICAgICAgIHBhZGRpbmc6IDZweDtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWNrZ3JvdW5kLWxpZ2h0KTtcbiAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgICAgICAgICAgICAgei1pbmRleDogMTAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLmxpbms6aG92ZXIge1xuICAgICAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjc1O1xuICAgICAgICAgICAgfVxuICAgICAgICBgO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmRhdGFfaWQgPSAwO1xuICAgICAgICB0aGlzLmZldGNoRGF0YSgpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignaGFzaGNoYW5nZScsIHRoaXMuZmV0Y2hEYXRhLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIGZldGNoRGF0YSgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGggPSB3aW5kb3cubG9jYXRpb24uaGFzaCB8fCAnIy8nO1xuICAgICAgICAgICAgY29uc3QgZGF0YV9tYXRjaCA9IHBhdGgubWF0Y2gobmV3IFJlZ0V4cCgnIy8/KGVkaXQoLyguKikpPyk/JykpO1xuICAgICAgICAgICAgaWYgKGRhdGFfbWF0Y2gpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBkYXRhID0gZGF0YV9tYXRjaD8uWzNdO1xuICAgICAgICAgICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogdGhpcy5kYXRhX2lkKyssXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZjb2xvcjogJyNmMGZmZmYnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uczogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcl91c2luZzogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xvcnM6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25zOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IFtdLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld19kYXRhID0gSlNPTi5wYXJzZShhdG9iKGRhdGEpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYoSlNPTi5zdHJpbmdpZnkodGhpcy5kYXRhKSAhPT0gSlNPTi5zdHJpbmdpZnkobmV3X2RhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSBuZXdfZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhpcy5kYXRhID0ge1xuICAgICAgICAgICAgICAgIGlkOiB0aGlzLmRhdGFfaWQrKyxcbiAgICAgICAgICAgICAgICB0aXRsZTogJycsXG4gICAgICAgICAgICAgICAgZGVmY29sb3I6ICcjZjBmZmZmJyxcbiAgICAgICAgICAgICAgICBjb2x1bW5zOiBbXSxcbiAgICAgICAgICAgICAgICBjb2xvcl91c2luZzogW10sXG4gICAgICAgICAgICAgICAgY29sb3JzOiBbXSxcbiAgICAgICAgICAgICAgICBsb2NhdGlvbnM6IFtdLFxuICAgICAgICAgICAgICAgIGRhdGE6IFtdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uVXBkYXRlKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IGV2ZW50LmRhdGE7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gJyMvZWRpdC8nICsgYnRvYShKU09OLnN0cmluZ2lmeSh0aGlzLmRhdGEpKTtcbiAgICB9XG5cbiAgICBjb3B5TGluaygpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IEpTT04uc3RyaW5naWZ5KHRoaXMuZGF0YSk7XG4gICAgICAgIGNvbnN0IHVybCA9IGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59LyR7d2luZG93LmxvY2F0aW9uLnBhdGhuYW1lfS8jL3ZpZXcvJHtidG9hKGRhdGEpfWA7XG4gICAgICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHVybCk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gaHRtbGBcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJlZGl0aW5nLXZpZXctcm9vdFwiPlxuICAgICAgICAgICAgICAgIDxoZWFkZXI+JHt1bnNhZmVIVE1MKEljb24pfTxzcGFuPkdlby1EcmF3PC9zcGFuPjwvaGVhZGVyPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50LXJvb3RcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImVkaXRpbmdcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxtYXAtZGF0YS1pbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5kYXRhPVwiJHt0aGlzLmRhdGF9XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBAY2hhbmdlPVwiJHt0aGlzLm9uVXBkYXRlfSlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPjwvbWFwLWRhdGEtaW5wdXQ+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmVuZGVyZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJsaW5rXCIgQGNsaWNrPVwiJHt0aGlzLmNvcHlMaW5rfVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7dW5zYWZlSFRNTChMaW5rSWNvbil9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxtYXAtcmVuZGVyZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZGF0YT1cIiR7dGhpcy5kYXRhfVwiXG4gICAgICAgICAgICAgICAgICAgICAgICA+PC9tYXAtcmVuZGVyZXI+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIGA7XG4gICAgfVxuXG59XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnZWRpdGluZy12aWV3JywgRWRpdGluZ1ZpZXcpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMjQgMjRcXFwiPjxwYXRoIGQ9XFxcIk0wIDBoMjR2MjRIMHpcXFwiIGZpbGw9XFxcIm5vbmVcXFwiPjwvcGF0aD48cGF0aCBkPVxcXCJNMTkgMTNoLTZ2NmgtMnYtNkg1di0yaDZWNWgydjZoNnYyelxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMjQgMjRcXFwiPjxwYXRoIGZpbGw9XFxcIm5vbmVcXFwiIGQ9XFxcIk0wIDBoMjR2MjRIMFYwelxcXCI+PC9wYXRoPjxwYXRoIGQ9XFxcIk02IDIxaDEyVjdINnYxNHptMi40Ni05LjEybDEuNDEtMS40MUwxMiAxMi41OWwyLjEyLTIuMTIgMS40MSAxLjQxTDEzLjQxIDE0bDIuMTIgMi4xMi0xLjQxIDEuNDFMMTIgMTUuNDFsLTIuMTIgMi4xMi0xLjQxLTEuNDFMMTAuNTkgMTRsLTIuMTMtMi4xMnpNMTUuNSA0bC0xLTFoLTVsLTEgMUg1djJoMTRWNGgtMy41elxcXCI+PC9wYXRoPjwvc3ZnPlwiIiwibW9kdWxlLmV4cG9ydHMgPSBcIjxzdmcgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMjQgMjRcXFwiPjxwYXRoIGQ9XFxcIk0wIDBoMjR2MjRIMHpcXFwiIGZpbGw9XFxcIm5vbmVcXFwiPjwvcGF0aD48cGF0aCBkPVxcXCJNMy45IDEyYzAtMS43MSAxLjM5LTMuMSAzLjEtMy4xaDRWN0g3Yy0yLjc2IDAtNSAyLjI0LTUgNXMyLjI0IDUgNSA1aDR2LTEuOUg3Yy0xLjcxIDAtMy4xLTEuMzktMy4xLTMuMXpNOCAxM2g4di0ySDh2MnptOS02aC00djEuOWg0YzEuNzEgMCAzLjEgMS4zOSAzLjEgMy4xcy0xLjM5IDMuMS0zLjEgMy4xaC00VjE3aDRjMi43NiAwIDUtMi4yNCA1LTVzLTIuMjQtNS01LTV6XFxcIj48L3BhdGg+PC9zdmc+XCIiLCJtb2R1bGUuZXhwb3J0cyA9IFwiPHN2ZyB4bWxuczpkYz1cXFwiaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS9cXFwiIHhtbG5zOmNjPVxcXCJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyNcXFwiIHhtbG5zOnJkZj1cXFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zI1xcXCIgeG1sbnM6c3ZnPVxcXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1xcXCIgeG1sbnM9XFxcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXFxcIiB2aWV3Qm94PVxcXCIwIDAgMzMuODY2NjY1IDMzLjg2NjY2OFxcXCIgdmVyc2lvbj1cXFwiMS4xXFxcIiBpZD1cXFwic3ZnOFxcXCI+PGRlZnMgaWQ9XFxcImRlZnMyXFxcIj48L2RlZnM+PG1ldGFkYXRhIGlkPVxcXCJtZXRhZGF0YTVcXFwiPjxyZGY6UkRGPjxjYzpXb3JrIHJkZjphYm91dD48ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD48ZGM6dHlwZSByZGY6cmVzb3VyY2U9XFxcImh0dHA6Ly9wdXJsLm9yZy9kYy9kY21pdHlwZS9TdGlsbEltYWdlXFxcIj48L2RjPjxkYzp0aXRsZT48L2RjOnRpdGxlPjwvY2M6V29yaz48L3JkZjpSREY+PC9tZXRhZGF0YT48ZyBpZD1cXFwibGF5ZXIxXFxcIj48Y2lyY2xlIHN0eWxlPVxcXCJmb250LXZhcmlhdGlvbi1zZXR0aW5nczpub3JtYWw7b3BhY2l0eToxO3ZlY3Rvci1lZmZlY3Q6bm9uZTtmaWxsOiNiZWRmZmY7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjYuNjE0NTk7c3Ryb2tlLWxpbmVjYXA6c3F1YXJlO3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2UtZGFzaG9mZnNldDowO3N0cm9rZS1vcGFjaXR5OjAuNTtzdG9wLWNvbG9yOiMwMDAwMDA7c3RvcC1vcGFjaXR5OjFcXFwiIGlkPVxcXCJwYXRoODMzXFxcIiBjeD1cXFwiMTYuNzU5MzA0XFxcIiBjeT1cXFwiMTYuOTQ1NjlcXFwiIHI9XFxcIjE1LjA1ODkyMlxcXCI+PC9jaXJjbGU+PHBhdGggaWQ9XFxcInJlY3Q4MzVcXFwiIHN0eWxlPVxcXCJmb250LXZhcmlhdGlvbi1zZXR0aW5nczpub3JtYWw7b3BhY2l0eToxO3ZlY3Rvci1lZmZlY3Q6bm9uZTtmaWxsOiNkODlkMDA7ZmlsbC1vcGFjaXR5OjE7ZmlsbC1ydWxlOmV2ZW5vZGQ7c3Ryb2tlOm5vbmU7c3Ryb2tlLXdpZHRoOjI1O3N0cm9rZS1saW5lY2FwOnNxdWFyZTtzdHJva2UtbGluZWpvaW46bWl0ZXI7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLWRhc2hvZmZzZXQ6MDtzdHJva2Utb3BhY2l0eTowLjU7c3RvcC1jb2xvcjojMDAwMDAwO3N0b3Atb3BhY2l0eToxXFxcIiBkPVxcXCJtIDEwMS43MzA0NywyMi4wMjUzOTEgYyAtMS45Mjg2MzQsMS45ODEyMDIgLTMuNDY4NjI1LDMuNDgxOTMxIC00LjExOTE0MiwzLjkyNTc4MSAtMi44NTAxMzgsMC44MDU0MTggLTEwLjY3MTg3NSwyLjEyNSAtMTAuNjcxODc1LDIuMTI1IC0wLjQzMTY5OCwtMS40NTA3MiAxLjg4MzU3NCwtMS40MTYzOTEgMS42Mzg2NzIsLTEuOTA0Mjk3IEMgODcuODI1NjAyLDI0LjY3MjY0OSA4Ny4zMzAwNCwyNS43OTI3ODcgODUuNSwyNy4xNTgyMDMgYyAtMC44MDMxMTYsMC41OTkyMTMgLTQuNDYzMzI1LDEuNTA4NzgxIC02LjA3MjI2NiwxLjExNTIzNSAtMS40NzE5NTIsLTAuMzYwMDM4IC00Ljk3NDg4NCwtMi4yMzA1MTcgLTEwLjAzMTI1LDEuNzc3MzQzIC0wLjY0OTEzLDAuNTE0NTI1IC0xLjQzMjM4OSwxLjA2NTI1NSAtMS45MzU1NDYsMS44MjgxMjUgLTAuNTQ5MDIyLDAuODMyNDExIDEuODIxMDM2LDIuMzgzNzU3IDEuMjI2NTYyLDMuMjU3ODEzIC0wLjQxMDMwNiwwLjYwMzI3NSAtMS40Mzg1NzIsMC45MzI4NzMgLTIuNDAyMzQ0LDEuNTU0Njg3IC0wLjcyMDEwMiwwLjQ2NDU5OSAtMS42MjIwOTQsLTMuMDYyMTIxIC0yLjQ0MzM1OSwtMi44OTI1NzggLTEuNTQ2ODU1LDAuMzE5MzMyIC0yLjY2OTAzOCwwLjYwNzU3OSAtMy44NjEzMjgsMS43MjA3MDMgLTEuNDI1MTI0LDEuMzMwNTAyIDYuODUxNzY5LDQuMzUyMTE1IDQuNzI0NjA5LDQuNzQ4MDQ3IC0xLjk5NDg1MywwLjM3MTMwMSAtMy41ODk4MTYsMC44MDY4ODcgLTMuNzUsMi4zNDU3MDMgLTAuMTI5MDcxLDEuMjM5OTQyIDEuMTE2ODY2LDMuNDQ5NzczIDAuNDI5Njg4LDQuOTY4NzUgLTEuMDc5MDc4LDIuMzg1MjUzIC01LjkyNDEsNy4wODMwODQgLTUuMDIxNDg1LDEyLjk2MDkzOCAwLjU3MDM2NSwzLjcxNDIxNyAwLjQ1MDg5Myw4LjAwMTE2NiAxMy42ODM1OTQsNy42NzE4NzUgMS43MTk1NzIsLTAuMDQyNzggLTAuOTI4MzQ2LC0wLjA5NTE1IC0wLjQ2NDg0NCwxLjAwOTc2NSAyLjI0ODA0OCw1LjM1OTA0OSAxLjY5NTU3Niw3Ljc3ODEwMiAxLjk2Mjg5MSwxMi40NDcyNjYgMC41NDUxNDQsMy43MzY2NDkgMS4yNDMzMSw2LjQ2NTA3MyAxLjY3MTg3NSwxMC40Mzc1IDAuMjQ4NTA0LDIuMzAzNTYyIDEuNDQxMTUyLDMuOTE1MTE3IDIuMjA1MDc4LDQuMjM4MjgxIDAuNzA0ODQ4LDAuMjk4MTY3IDIuMDM3ODU4LDAuMzA5ODg1IDMuODU5Mzc1LC0xLjI3OTI5NyAxLjgyMzY2NCwtMS41OTEwNDEgMi45OTA3NzIsLTUuNzM0ODM5IDQuNjU0Mjk3LC04Ljk4NDM3NSAwLjcyMjY4LC0xLjQxMTY4NyAyLjU1OTQ0NywtMi4zNjk3MzkgMi44ODI4MTIsLTMuMzUxNTYyIDAuODI2MDk1LC0yLjUwODI2NSAwLjM1Nzg3OCwtMi44OTMwMzIgLTAuMDI5MywtNC4zNTkzNzUgLTEuMzg0ODE1LC01LjI0NDY3MyA1LjY5MDk0MywtNy45MTk4OTggNi4zMjgxMjYsLTE1LjQ4ODI4MSAwLjA2MTgzLC0wLjczNDUxOCAtNS4wMDI2ODcsMS41NTI3NjggLTQuNjIxMDk0LDAuNjE1MjM0IDAuNzI3MjM4LC0xLjc4NjczIDMuNjM1MTAyLC0yLjc4MDU1NyA1LjkzNzUsLTQuNDQ5MjE5IDEuNjkwODA5LC0xLjIyNTQxMyAxLjYxOTMzOCwtMy4yMzc5MDQgMS4zNzY5NTMsLTUuNDY0ODQzIDAsMCA0LjM5MTc2NiwtMC4xOTExNTMgNS45OTYwOTYsMi42NjYwMTUgMS4wNTM0MywxLjg3NjA1MiAyLjIyNTAxLDkuNTU0Njk0IDcuNDAyMzQsMTEuMjMwNDY5IDAsMCAtMS41NjExNiwtOC4zMjAwNjcgMi41MTk1NCwtMTEuNjY3OTY5IDMuMTg4NDcsLTIuNjE1ODk4IDIuODY3MzQsLTEuODUxNzI5IDcuNDUzMTIsLTIuNzc5Mjk3IEEgNTYuOTE1NjExLDU2LjkxNTYxMSAwIDAgMCAxMDEuNzMwNDcsMjIuMDI1MzkxIFpcXFwiIHRyYW5zZm9ybT1cXFwic2NhbGUoMC4yNjQ1ODMzMylcXFwiPjwvcGF0aD48cGF0aCBpZD1cXFwicmVjdDg4M1xcXCIgc3R5bGU9XFxcImZvbnQtdmFyaWF0aW9uLXNldHRpbmdzOm5vcm1hbDtvcGFjaXR5OjE7dmVjdG9yLWVmZmVjdDpub25lO2ZpbGw6I2Y1MWFmMjtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MjU7c3Ryb2tlLWxpbmVjYXA6c3F1YXJlO3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2UtZGFzaG9mZnNldDowO3N0cm9rZS1vcGFjaXR5OjAuNTtzdG9wLWNvbG9yOiMwMDAwMDA7c3RvcC1vcGFjaXR5OjFcXFwiIGQ9XFxcIk0gMjYuNjg1NTQ3LDIwLjUwNzgxMiBBIDU2LjkxNTYxMSw1Ni45MTU2MTEgMCAwIDAgNi42ODE2NDA2LDU4LjY3OTY4OCBjIDEuNTg3ODgzMSwtMC4xNTIxMTYgMy4zNjgxOTI0LDAuMTQ4ODggNS4yODEyNTA0LDEuNTA5NzY1IDIuMzk4NTI5LDEuNzA2MjM0IDMuNjE0MTQyLC0wLjQ5NTI1MyA4LjI2NzU3OCw1LjIwMTE3MiAxLjM0ODM0MiwxLjY1MDU1IDIuODg4ODA0LDAuODE5MDAxIDMuODYzMjgxLDIuNjE5MTQxIDAuOTM3ODgxLDEuNzMyNTMxIC0yLjEzMTQwOSwzLjI1Mjg1NSAtMS41MTk1MzEsOC4wOTM3NSAwLjkzMjQ0NCw3LjM3NzA3MSAyLjgwMDYyMiw2Ljc1OTE3NyA1LjgyNDIxOSwxMC4wMzkwNjIgMC40NTUyNzgsMC40OTM4NzEgMS43OTAwNzIsMTkuNDk2MTEyIDQuMTExMzI4LDE5LjU3NjE3MiAyLjgyNDM3MiwwLjA5NzQgMy41MDIwMzQsLTUuMTQ1MDQgNS44MTgzNTksLTcuODQ3NjU2IDIuMzU4MTg3LC0yLjc1MTQ2NiAxLjk0MzA3MywtNS4zNTQyMTcgMy42OTcyNjYsLTguMTgzNTk0IDAuNjM2MzA2LC0xLjAyNjMxOSAxLjk5NDE0LC0xLjQzNTU0NyAxLjk5NDE0LC0xLjQzNTU0NyAwLjc0MzgzNCwtMC4yODg2MDUgMy42NTE2NDMsLTEwLjMxMTM5MSAyLjY4NzUsLTExLjc3MzQzNyAtMC4yODI3NzMsLTAuNDI4Nzk5IC0wLjU5NDYzLC0xLjA0MTg3MSAtMS4zNDk2MDksLTEuMzYzMjgyIC0xLjE1NjY0OSwtMC40OTI0MTIgLTMuOTM5MzcsLTEuMTI2NTU2IC03LjU1MjczNCwtNi4yMTQ4NDMgLTEuNjUwMjY0LC0yLjMyMzg3MyAtMy43NjkzNzIsLTIuODY2MjQ0IC02LjgzNTkzOCwtNC42MTMyODIgLTEuMjA1Mzk4LC0wLjY4NjczMiAtMi44MDE3NTYsLTEuMDYwMjEgLTQuMDA1ODU5LC0wLjYyODkwNiAtMS42NzUzNSwwLjYwMDEwNiAtMi44MTYyOTUsMi4yMjk3MTUgLTMuMTAxNTYzLDIuMDQyOTY5IC0xLjk1MTA0NywtMS4yNzczNDEgLTIuNTY0NzYsLTQuMzgzNTI1IC0zLjI0ODA0NywtNS44Mzc4OTEgMCwwIC0xLjUyODQyLDEuNDg3MjA5IC0wLjgwMDc4MSwwLjE4NTU0NyAxLjM4ODE2OSwtMi40ODMyNyAxLjg0OTI4LC0zLjY0MDk2NiAwLjkxNjAxNiwtMy45MTIxMDkgLTEuMDA1MTIsLTAuMjkyMDEgLTEuMTQ4NTM1LDEuMzMzNjQxIC0yLjg1NTQ2OSwxLjc4OTA2MiAtMS4yMTI0NjksMC4zMjM0NzUgLTIuNDE2MDE2LC0wLjMyNjE3MiAtMi40MTYwMTYsLTAuMzI2MTcyIDAuMTA1MjI1LC0xLjc5NDE1NiAwLjA3NjQ3LC01LjA4Njg0OSAyLjE0MDYyNSwtNS41MzEyNSAyLjc5Nzc3NywtMC42MDI0NDkgNC43NzkyOTcsLTAuNjExMzI4IDQuNzc5Mjk3LC0wLjYxMTMyOCAwLjYwMDAwNSwwLjQzOTE3IDAuNzcwNzY4LDQuODkwMDY0IDEuNzc3MzQ0LDIuNzk4ODI4IEMgMzIuMjE1NTYsMzcuNTA3OTgyIDQyLjM3MDE0Miw0Mi40MTM1MjMgNDEuNSwzOS43MTg3NSBjIC0xLjIwNTQ2MSwtMy43MzMyMzIgLTEuNzg1MDYsLTUuOTgxNzY5IC0yLjg5MDYyNSwtNy40ODgyODEgLTAuMzExNzI0LC0wLjQyNDc3OSAzLjMwMjE2NiwtMi4xMjYzODggMy4yOTY4NzUsLTIuMjQwMjM1IC0wLjAzMjYyLC0wLjcxNjY3NyAtMy41MjQwMDYsLTIuMjk4ODAxIC0zLjUyOTI5NywtMy4xOTMzNTkgMi43MzQwMjcsMC4zOTQ0NDcgNC4yNzY2NTksMC42MTIxMDYgNi41MjUzOTEsMC45NTExNzIgMC4xMjI0NjQsMC4wMTg0NiAtMC44NzYyNjEsMS44ODc3MTIgLTAuNDg4MjgyLDIuNzUxOTUzIDAuNDg3OTE1LDEuMDg2ODUxIDEuMDk3NzMzLDIuODMwNzY2IDEuODAwNzgyLDIuNjcxODc1IDEuNTkzOTA2LC0wLjM2MDIyNyA4LjY0NTUwNSwtMy40NTQ0ODEgMTMuNjE5MTQsLTYuMjM2MzI4IEwgNTkuMzY5MTQxLDI1LjYyNSBjIDAsMCAtMTUuOTEyMTU5LC0zLjU0MzM5NCAtMzIuNjgzNTk0LC01LjExNzE4OCB6XFxcIiB0cmFuc2Zvcm09XFxcInNjYWxlKDAuMjY0NTgzMzMpXFxcIj48L3BhdGg+PHBhdGggZD1cXFwibSA1LjY4MTE1NDMsMTQuODMxMzk0IGMgMC40NzYxNTgsMC4yMTUwMzkgMC44MDc5MzIsMC4zNzQ3ODIgMS4xNTE5OTQsMC41MTYwOTMgMC4zMTAyNywwLjEyNTk1MSAwLjYyNjY4NSwwLjIzMzQ3MSAwLjk0MDAyNywwLjM1MDIwNiAwLjAzOTk0LC0wLjExOTgwNyAwLjA3OTg3LC0wLjIzOTYxNSAwLjExOTgwNywtMC4zNTk0MjIgLTAuNzcxMDY4LDAuMDUyMjIgLTEuMjU5NTEzLC0wLjk2MTUzMSAtMi4yMTE4MjgsLTAuNTA2ODc3IHpcXFwiIGlkPVxcXCJwYXRoODQ4LTZcXFwiIHN0eWxlPVxcXCJmaWxsOiMzZjNmZjU7ZmlsbC1vcGFjaXR5OjE7c3Ryb2tlLXdpZHRoOjAuMjY0NTgzXFxcIj48L3BhdGg+PHBhdGggZD1cXFwibSAyNC43MTg3NzcsMjAuNDAyMTM3IGMgLTAuMjAxMzk3LDAuNDgyMDg3IC0wLjM1MTYzMSwwLjgxODI3NCAtMC40ODMwOSwxLjE2NjIxOSAtMC4xMTcwNjgsMC4zMTM3MyAtMC4yMTU1MzcsMC42MzMwNzcgLTAuMzIzMzA1LDAuOTQ5NjE1IDAuMTIwODk2LDAuMDM2NTEgMC4yNDE3OTIsMC4wNzMwMiAwLjM2MjY4NywwLjEwOTUyNyAtMC4wNzQxNSwtMC43NjkyNjkgMC45MjUyODcsLTEuMjg2Mzc0IDAuNDQzNzA4LC0yLjIyNTM2MSB6XFxcIiBpZD1cXFwicGF0aDk0MFxcXCIgc3R5bGU9XFxcImZpbGw6IzY3ZjUzZjtmaWxsLW9wYWNpdHk6MTtzdHJva2Utd2lkdGg6MC4yNjQ1ODNcXFwiPjwvcGF0aD48cGF0aCBpZD1cXFwicGF0aDk0MlxcXCIgc3R5bGU9XFxcImZvbnQtdmFyaWF0aW9uLXNldHRpbmdzOm5vcm1hbDtvcGFjaXR5OjE7dmVjdG9yLWVmZmVjdDpub25lO2ZpbGw6I2Y1MmQyZDtmaWxsLW9wYWNpdHk6MTtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MjU7c3Ryb2tlLWxpbmVjYXA6c3F1YXJlO3N0cm9rZS1saW5lam9pbjptaXRlcjtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2UtZGFzaG9mZnNldDowO3N0cm9rZS1vcGFjaXR5OjAuNTtzdG9wLWNvbG9yOiMwMDAwMDA7c3RvcC1vcGFjaXR5OjFcXFwiIGQ9XFxcIk0gMTEyLjAzNTE2LDg3LjA0ODgyOCBBIDkuMjA4ODQwMSwxNy44OTczNDcgMCAwIDAgMTAyLjkyMzgzLDEwNC45NDMzNiA1Ni45MTU2MTEsNTYuOTE1NjExIDAgMCAwIDExNSw4Ny45Mzk0NTMgYSA5LjIwODg0MDEsMTcuODk3MzQ3IDAgMCAwIC0yLjg2NzE5LC0wLjg5MDYyNSA5LjIwODg0MDEsMTcuODk3MzQ3IDAgMCAwIC0wLjA5NzcsMCB6XFxcIiB0cmFuc2Zvcm09XFxcInNjYWxlKDAuMjY0NTgzMzMpXFxcIj48L3BhdGg+PC9nPjwvc3ZnPlwiIiwiaW1wb3J0IGdldFByb3RvdHlwZU9mIGZyb20gXCIuL2dldFByb3RvdHlwZU9mLmpzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBfc3VwZXJQcm9wQmFzZShvYmplY3QsIHByb3BlcnR5KSB7XG4gIHdoaWxlICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpKSB7XG4gICAgb2JqZWN0ID0gZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTtcbiAgICBpZiAob2JqZWN0ID09PSBudWxsKSBicmVhaztcbiAgfVxuXG4gIHJldHVybiBvYmplY3Q7XG59IiwiaW1wb3J0IHN1cGVyUHJvcEJhc2UgZnJvbSBcIi4vc3VwZXJQcm9wQmFzZS5qc1wiO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gX2dldCgpIHtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ICE9PSBcInVuZGVmaW5lZFwiICYmIFJlZmxlY3QuZ2V0KSB7XG4gICAgX2dldCA9IFJlZmxlY3QuZ2V0O1xuICB9IGVsc2Uge1xuICAgIF9nZXQgPSBmdW5jdGlvbiBfZ2V0KHRhcmdldCwgcHJvcGVydHksIHJlY2VpdmVyKSB7XG4gICAgICB2YXIgYmFzZSA9IHN1cGVyUHJvcEJhc2UodGFyZ2V0LCBwcm9wZXJ0eSk7XG4gICAgICBpZiAoIWJhc2UpIHJldHVybjtcbiAgICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihiYXNlLCBwcm9wZXJ0eSk7XG5cbiAgICAgIGlmIChkZXNjLmdldCkge1xuICAgICAgICByZXR1cm4gZGVzYy5nZXQuY2FsbChhcmd1bWVudHMubGVuZ3RoIDwgMyA/IHRhcmdldCA6IHJlY2VpdmVyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRlc2MudmFsdWU7XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBfZ2V0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59Il0sIm5hbWVzIjpbImUiLCJjb25zdHJ1Y3RvciIsImkiLCJzdXBlciIsInRoaXMiLCJpdCIsInR5cGUiLCJFcnJvciIsImRpcmVjdGl2ZU5hbWUiLCJyZW5kZXIiLCJyIiwiZnQiLCJzIiwicmF3IiwiXyRsaXRUeXBlJCIsInJlc3VsdFR5cGUiLCJzdHJpbmdzIiwidmFsdWVzIiwibyIsInQiLCJuYW1lIiwibGVuZ3RoIiwiT2JqZWN0Iiwia2V5cyIsImZpbHRlciIsImpvaW4iLCJ1cGRhdGUiLCJldCIsIlNldCIsInN0Iiwic3BsaXQiLCJoYXMiLCJhZGQiLCJlbGVtZW50IiwiY2xhc3NMaXN0IiwiZm9yRWFjaCIsInJlbW92ZSIsImRlbGV0ZSIsIkxvY2F0aW9uSW5wdXQiLCJzZWxlY3RlZCIsImNvbXBsZXRlIiwic3RyaW5nX3ZhbHVlIiwidmFsdWUiLCJzZWFyY2hfZmFyZ21lbnRzIiwiZWwiLCJtYXAiLCJ0b0xvd2VyQ2FzZSIsImZyYWdtZW50X21hcCIsImZyYWdtZW50IiwiZm91bmRfaW4iLCJpbmRleCIsImZyYWdtZW50cyIsImlkIiwic29ydGVkIiwibmFtZXMiLCJzb3J0IiwiYSIsIm5hIiwiYiIsIm5iIiwiZXZlbnQiLCJrZXkiLCJ0YXJnZXQiLCJ1cGRhdGVBdXRvY29tcGxldGUiLCJwcmV2ZW50RGVmYXVsdCIsImJsdXIiLCJsb2NhdGlvbiIsIkV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsInNoYWRvd1Jvb3QiLCJxdWVyeVNlbGVjdG9yIiwic2Nyb2xsSW50b1ZpZXciLCJiZWhhdmlvciIsImJsb2NrIiwicHJvcHMiLCJ1bmRlZmluZWQiLCJodG1sIiwib25LZXlwcmVzcyIsIm9uS2V5ZG93biIsIm9uRm9jdXMiLCJjb20iLCJjbGFzc01hcCIsIlN0cmluZyIsIkFycmF5IiwiTnVtYmVyIiwiY3NzIiwiTGl0RWxlbWVudCIsImN1c3RvbUVsZW1lbnRzIiwiZGVmaW5lIiwiZGF0YV9sb2NhdGlvbiIsIk1hcERhdGFJbnB1dCIsImxvYWRJbmRleCIsImZldGNoIiwianNvbiIsImluZGV4X2ZyYWdtZW50cyIsIm11bHRpcGx5SW5kZXgiLCJpbmRleF9uYW1lcyIsImNvbnNvbGUiLCJlcnJvciIsImRhdGEiLCJsb2NfaW5kZXgiLCJjb2xfaW5kZXgiLCJ2YWwiLCJwYXJzZUZsb2F0IiwiZGlzcGF0Y2hPbkNoYW5nZSIsImxvY2F0aW9ucyIsImNvbHVtbnMiLCJjb2xvcl93aXRoIiwiY29sb3JfdXNpbmciLCJlbnRyeSIsImZpbmRJbmRleCIsInB1c2giLCJjb2xvcnMiLCJzcGxpY2UiLCJyZXF1ZXN0VXBkYXRlIiwicm93IiwidGl0bGUiLCJjb2xvciIsImRlZmNvbG9yIiwiYWxsb3dfM2QiLCJ1bnRpbCIsInVwZGF0ZVRpdGxlIiwidXBkYXRlRGVmYXVsdENvbG9yIiwidXBkYXRlQWxsb3czZCIsImNoZWNrZWQiLCJjb2wiLCJyZW1vdmVDb2x1bW4iLCJ1bnNhZmVIVE1MIiwiRGVsZXRlSWNvbiIsInVwZGF0ZUNvbHVtbiIsInUiLCJmaW5kIiwidXBkYXRlQ29sb3IiLCJhZGRDb2x1bW4iLCJBZGRJY29uIiwibG9jIiwicmVtb3ZlUm93IiwidXBkYXRlTG9jYXRpb24iLCJqIiwidXBkYXRlRGF0YSIsImFkZFJvdyIsImhhc0NoYW5nZWQiLCJuIiwiZnJhZ3MiLCJyZXQiLCJyZWR1Y2UiLCJjIiwiY29uY2F0IiwiaWRzIiwiRWRpdGluZ1ZpZXciLCJkYXRhX2lkIiwiZmV0Y2hEYXRhIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImJpbmQiLCJkYXRhX21hdGNoIiwiaGFzaCIsIm1hdGNoIiwiUmVnRXhwIiwibmV3X2RhdGEiLCJKU09OIiwicGFyc2UiLCJhdG9iIiwic3RyaW5naWZ5IiwiYnRvYSIsInVybCIsIm9yaWdpbiIsInBhdGhuYW1lIiwibmF2aWdhdG9yIiwiY2xpcGJvYXJkIiwid3JpdGVUZXh0IiwiSWNvbiIsIm9uVXBkYXRlIiwiY29weUxpbmsiLCJMaW5rSWNvbiIsImF0dHJpYnV0ZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJfc3VwZXJQcm9wQmFzZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiZ2V0UHJvdG90eXBlT2YiLCJfZ2V0IiwiUmVmbGVjdCIsImdldCIsInJlY2VpdmVyIiwiYmFzZSIsImRlc2MiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJhcmd1bWVudHMiLCJhcHBseSJdLCJzb3VyY2VSb290IjoiIn0=