(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{49:function(n,t,e){"use strict";e.r(t);var o=e(10),i=e.n(o),r=e(12),a=e.n(r),c=e(13),u=e.n(c),s=e(18),l=e.n(s),h=e(19),d=e.n(h),f=e(17),v=e.n(f),m=e(11),p=e(33),y=e(29);function g(){var n=i()(['\n                    <g\n                        class="geometry"\n                        style="','"\n                        .location_data="','"\n                    >\n                        ',"\n                    </g>\n                "]);return g=function(){return n},n}function w(){var n=i()(['\n            <svg\n                id="map"\n                viewBox="','"\n                @mousemove="','"\n                @wheel="','"\n                @mouseout="','"\n                @touchstart="','"\n            >\n                ',"\n            </svg>\n        "]);return w=function(){return n},n}function b(){var n=i()(['<path d="','"/>']);return b=function(){return n},n}function M(){var n=i()(["\n            :host {\n                width: 100%;\n                height: 100%;\n                position: relative;\n                display: block;\n            }\n            #map {\n                width: 100%;\n                height: 100%;\n                max-width: 100%;\n                max-height: 100%;\n                transform: scale(5);\n                opacity: 0.001;\n                will-change: transform, opacity;\n                stroke: var(--background-darkish);\n                stroke-width: 0.125%;\n                stroke-linejoin: round;\n                paint-order: stroke fill;\n                display: block;\n                position: absolute;\n            }\n            svg#map g:hover {\n                fill-opacity: 0.75;\n            }\n        "]);return M=function(){return n},n}function k(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var e,o=v()(n);if(t){var i=v()(this).constructor;e=Reflect.construct(o,arguments,i)}else e=o.apply(this,arguments);return d()(this,e)}}var _=function(n){l()(e,n);var t=k(e);function e(){var n;return a()(this,e),(n=t.call(this)).zoom_scale=1,n.zoom_center=[0,0],n}return u()(e,null,[{key:"properties",get:function(){return{locations:{type:Array}}}},{key:"styles",get:function(){return Object(m.b)(M())}}]),u()(e,[{key:"setCenterAndScale",value:function(n,t){this.zoom_center=n,this.zoom_scale=t,this.shadowRoot.getElementById("map").style.transform="scale(".concat(this.zoom_scale,") translate(").concat(-this.zoom_center[0],"%,").concat(-this.zoom_center[1],"%)")}},{key:"clientPosToMapPos",value:function(n){var t=this.shadowRoot.getElementById("map").getBoundingClientRect();return[(n[0]-t.x-t.width/2)/t.width*100,(n[1]-t.y-t.height/2)/t.height*100]}},{key:"handleMouseMove",value:function(n){var t,e,o=n.target,i=o;if("path"===(null===(t=i)||void 0===t?void 0:t.tagName)&&(i=i.parentNode),null===(e=i)||void 0===e?void 0:e.location_data){var r,a=null===(r=i)||void 0===r?void 0:r.location_data,c=o.getBoundingClientRect(),u=[c.x+c.width/2,c.y+c.height/2],s=new Event("hover");s.location=a,s.position=u,this.dispatchEvent(s)}else{var l=new Event("hover");l.location=null,l.position=null,this.dispatchEvent(l)}}},{key:"handleMouseOut",value:function(){var n=new Event("hover");n.location=null,n.position=null,this.dispatchEvent(n)}},{key:"handleTouchStart",value:function(n){1===n.touches.length?this.handleMouseMove(n):this.handleMouseOut(n)}},{key:"updated",value:function(){var n=this;window.requestAnimationFrame((function t(){var e=n.shadowRoot.getElementById("map");e?window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){e.style.transform="scale(".concat(n.zoom_scale,") translate(").concat(-n.zoom_center[0],"%,").concat(-n.zoom_center[1],"%)"),e.style.opacity=1}))})):window.requestAnimationFrame(t)}))}},{key:"render",value:function(){var n=this.locations.filter((function(n){return n})).map((function(n){return n.min})).reduce((function(n,t){return[Math.min(n[0],t[0]),Math.min(n[1],t[1])]})),t=this.locations.filter((function(n){return n})).map((function(n){return n.max})).reduce((function(n,t){return[Math.max(n[0],t[0]),Math.max(n[1],t[1])]})),e=Math.max(t[0]-n[0],t[1]-n[1]),o=5*Math.max(window.innerWidth,window.innerHeight);return this.locations.forEach((function(t){t&&(t.svg=t.coords.map((function(t){return Object(m.d)(b(),t.map((function(t,i){return(0==i?t:t.reverse()).map((function(t){return[Math.round(Object(y.b)(t[0],n[0],n[0]+e,0,o)),Math.round(Object(y.b)(t[1],n[1],n[1]+e,0,o))]})).filter((function(n,t,e){var o,i;return n[0]!==(null===(o=e[t+1])||void 0===o?void 0:o[0])||n[1]!==(null===(i=e[t+1])||void 0===i?void 0:i[1])})).map((function(n,t){return 0==t?"M"+n[0]+","+n[1]:"L"+n[0]+","+n[1]})).join(" ")+" z"})).join(" "))})))})),Object(m.c)(w(),Math.round(Object(y.b)(n[0],n[0],n[0]+e,0,o))+" "+Math.round(Object(y.b)(n[1],n[1],n[1]+e,0,o))+" "+Math.round(Object(y.b)(t[0],n[0],n[0]+e,0,o))+" "+Math.round(Object(y.b)(t[1],n[1],n[1]+e,0,o)),this.handleMouseMove,this.handleMouseMove,this.handleMouseOut,this.handleTouchStart,this.locations.map((function(n){return Object(m.d)(g(),Object(p.a)({fill:"rgb(".concat(n.color[0],",").concat(n.color[1],",").concat(n.color[2],")")}),n,null==n?void 0:n.svg)})))}},{key:"center",get:function(){return this.zoom_center}},{key:"scale",get:function(){return this.zoom_scale}}]),e}(m.a);customElements.define("map-backend",_)}}]);