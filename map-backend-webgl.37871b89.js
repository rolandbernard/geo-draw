"use strict";(self.webpackChunkgeo_draw=self.webpackChunkgeo_draw||[]).push([[238],{964:(e,t,n)=>{n.r(t);var r=n(168),a=n(942),o=n(671),i=n(144),s=n(340),l=n(215),u=n(120),f=n(392),c=n(187),h=n.n(c),d=n(885),v=n(466);function m(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g=function(){function e(){(0,o.Z)(this,e)}return(0,i.Z)(e,[{key:"projection",value:function(e){return v.Z.project(e)}},{key:"applyProjection",value:function(e){for(var t=0;t<e.length;t+=2){var n=this.projection([e[t],e[t+1]]),r=(0,d.Z)(n,2);e[t]=r[0],e[t+1]=r[1]}}},{key:"clientPosToMapPos",value:function(e,t,n){var r=this.generateTranslateAndScale(n),a=(0,d.Z)(r,2),o=(a[0],a[1]),i=[2*(e[0]-t.x)/t.width-1,1-2*(e[1]-t.y)/t.height];return[i[0]/o[0]+n.center[0],i[1]/o[1]+n.center[1]]}},{key:"clientPosToProjPos",value:function(e,t,n){var r=this.generateTranslateAndScale(n),a=(0,d.Z)(r,2),o=a[0],i=a[1],s=[2*(e[0]-t.x)/t.width-1,1-2*(e[1]-t.y)/t.height];return[s[0]/i[0]-o[0],s[1]/i[1]-o[1]]}},{key:"projPosToClientPos",value:function(e,t,n){var r=this.generateTranslateAndScale(n),a=(0,d.Z)(r,2),o=a[0],i=a[1],s=[(e[0]+o[0])*i[0],(e[1]+o[1])*i[1]];return[(s[0]+1)/2*t.width+t.x,(1-s[1])/2*t.height+t.y]}},{key:"generateTranslateAndScale",value:function(e){var t=e.min,n=e.max,r=e.size,a=e.center,o=e.scale,i=n[0]-t[0],s=n[1]-t[1];return i/r[0]>s/r[1]?[[-t[0]-i/2-a[0],-t[1]-s/2-a[1]],[2/i*o,r[0]/r[1]*-2/i*o],[1,-r[0]/r[1]]]:[[-t[0]-i/2-a[0],-t[1]-s/2-a[1]],[r[1]/r[0]*2/s*o,-2/s*o],[r[1]/r[0],-1]]}},{key:"createShaderProgram",value:function(e,t,n){var r=e.createShader(e.VERTEX_SHADER);e.shaderSource(r,t),e.compileShader(r);var a=e.createShader(e.FRAGMENT_SHADER);e.shaderSource(a,n),e.compileShader(a);var o=e.createProgram();return e.attachShader(o,r),e.attachShader(o,a),e.linkProgram(o),o}},{key:"initForContext",value:function(e,t,n,r){var a,o=this.createShaderProgram(t,"\nattribute vec2 aVertexPosition;\n\nuniform vec2 uTranslate;\nuniform vec2 uScale;\n\nvoid main() {\n    gl_Position = vec4((aVertexPosition + uTranslate) * uScale, 0.0, 1.0);\n}\n","\n#ifdef GL_ES\n    precision highp float;\n#endif\n    \nuniform vec3 uFillColor;\n\nvoid main() {\n    gl_FragColor = vec4(uFillColor, 1.0);\n}\n"),i=t.getAttribLocation(o,"aVertexPosition"),s=t.getUniformLocation(o,"uTranslate"),l=t.getUniformLocation(o,"uScale"),u=t.getUniformLocation(o,"uFillColor"),f=this.createShaderProgram(t,"\nattribute vec2 aVertexPosition;\nattribute vec2 aVertexNormal;\n\nuniform vec2 uTranslate;\nuniform vec2 uScale;\nuniform vec2 uStrokeScale;\nuniform float uWidth;\n\nvoid main() {\n    gl_Position = vec4(\n        (aVertexPosition + uTranslate) * uScale + normalize(aVertexNormal) * uWidth * uStrokeScale,\n        0.0, 1.0);\n}\n","\n#ifdef GL_ES\n    precision highp float;\n#endif\n\nuniform vec3 uStrokeColor;\n\nvoid main() {\n    gl_FragColor = vec4(uStrokeColor, 1.0);\n}\n"),c=t.getAttribLocation(f,"aVertexPosition"),h=t.getAttribLocation(f,"aVertexNormal"),d=t.getUniformLocation(f,"uTranslate"),v=t.getUniformLocation(f,"uScale"),_=t.getUniformLocation(f,"uStrokeScale"),g=t.getUniformLocation(f,"uWidth"),p=t.getUniformLocation(f,"uStrokeColor"),x=m(n);try{for(x.s();!(a=x.n()).done;){var P=r[a.value.id],y=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,y),t.bufferData(t.ARRAY_BUFFER,P.vertices,t.STATIC_DRAW);var b=t.createBuffer();t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,b),t.bufferData(t.ELEMENT_ARRAY_BUFFER,P.triangles,t.STATIC_DRAW);var M=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,M),t.bufferData(t.ARRAY_BUFFER,P.outline_triangles,t.STATIC_DRAW);var R=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,R),t.bufferData(t.ARRAY_BUFFER,P.outline_normals,t.STATIC_DRAW),P.gl_position_buffer=y,P.gl_index_buffer=b,P.gl_outline_position_buffer=M,P.gl_outline_normal_buffer=R}}catch(e){x.e(e)}finally{x.f()}this.webgl_data={canvas:e,context:t,fill_data:{shader_program:o,position_attribute:i,translate_uniform:s,scale_uniform:l,color_uniform:u},stroke_data:{shader_program:f,position_attribute:c,normal_attribute:h,translate_uniform:d,scale_uniform:v,scale2_uniform:_,width_uniform:g,color_uniform:p}}}},{key:"deinitResources",value:function(e,t){var n;if(null!==(n=this.webgl_data)&&void 0!==n&&n.context){var r,a=this.webgl_data.context,o=m(e);try{for(o.s();!(r=o.n()).done;){var i=t[r.value.id];a.deleteBuffer(i.gl_position_buffer),a.deleteBuffer(i.gl_index_buffer),a.deleteBuffer(i.gl_outline_position_buffer),a.deleteBuffer(i.gl_outline_normal_buffer)}}catch(e){o.e(e)}finally{o.f()}a.getAttachedShaders(this.webgl_data.fill_data.shader_program).forEach((function(e){a.deleteShader(e)})),a.deleteProgram(this.webgl_data.fill_data.shader_program),a.getAttachedShaders(this.webgl_data.stroke_data.shader_program).forEach((function(e){a.deleteShader(e)})),a.deleteProgram(this.webgl_data.stroke_data.shader_program)}}},{key:"renderMapInContext",value:function(e,t,n){var r=this.webgl_data.context,a=this.webgl_data.fill_data,o=this.webgl_data.stroke_data,i=this.generateTranslateAndScale(n),s=(0,d.Z)(i,3),l=s[0],u=s[1],f=s[2];r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT);for(var c=0;c<e.length;c++){var h=e[c],v=t[h.id];r.useProgram(o.shader_program),r.uniform2fv(o.translate_uniform,l),r.uniform2fv(o.scale_uniform,u),r.uniform2fv(o.scale2_uniform,f),r.uniform1f(o.width_uniform,.005),r.uniform3fv(o.color_uniform,[.271,.302,.38]),r.bindBuffer(r.ARRAY_BUFFER,v.gl_outline_normal_buffer),r.vertexAttribPointer(o.normal_attribute,2,r.FLOAT,!1,0,0),r.enableVertexAttribArray(o.normal_attribute),r.bindBuffer(r.ARRAY_BUFFER,v.gl_outline_position_buffer),r.vertexAttribPointer(o.position_attribute,2,r.FLOAT,!1,0,0),r.enableVertexAttribArray(o.position_attribute),r.drawArrays(r.TRIANGLES,0,v.outline_triangles.length/2),r.useProgram(a.shader_program),r.uniform2fv(a.translate_uniform,l),r.uniform2fv(a.scale_uniform,u),h.id===n.hover?r.uniform3fv(a.color_uniform,h.color.map((function(e){return.8*e}))):r.uniform3fv(a.color_uniform,h.color),r.bindBuffer(r.ARRAY_BUFFER,v.gl_position_buffer),r.vertexAttribPointer(a.position_attribute,2,r.FLOAT,!1,0,0),r.enableVertexAttribArray(a.position_attribute),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,v.gl_index_buffer),r.drawElements(r.TRIANGLES,v.triangles.length,r.UNSIGNED_SHORT,0)}}}]),e}(),p=n(982),x=n(752);var P,y,b=function(e){(0,s.Z)(a,e);var t,n,r=(t=a,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=(0,u.Z)(t);if(n){var a=(0,u.Z)(this).constructor;e=Reflect.construct(r,arguments,a)}else e=r.apply(this,arguments);return(0,l.Z)(this,e)});function a(){return(0,o.Z)(this,a),r.apply(this,arguments)}return(0,i.Z)(a,[{key:"projection",value:function(e){return(0,p.Z)(e)}},{key:"applyProjection",value:function(e){}},{key:"clientPosToSpherePos",value:function(e,t,n){var r=this.generateScale(n),a=[(2*(e[0]-t.x)/t.width-1)/r[0],(1-2*(e[1]-t.y)/t.height)/r[1],0];if(a[2]=1-a[0]*a[0]-a[1]*a[1],a[2]<0){var o=Math.sqrt(a[0]*a[0]+a[1]*a[1]);a[0]/=o,a[1]/=o,a[2]=0}else a[2]=Math.sqrt(a[2]);return a}},{key:"clientPosToSomePos",value:function(e,t,n){var r=this.clientPosToSpherePos(e,t,n),a=this.mat3VecMul(this.generateTransform(n),r);return[Math.atan2(a[0],a[2]),Math.atan2(a[1],Math.sqrt(a[0]*a[0]+a[2]*a[2]))]}},{key:"normalizeAround",value:function(e,t){return e<t-Math.PI?e+2*Math.PI*Math.floor((t+Math.PI-e)/(2*Math.PI)):e>t+Math.PI?e-2*Math.PI*Math.floor((e+Math.PI-t)/(2*Math.PI)):e}},{key:"clientPosToMapPos",value:function(e,t,n){var r=n.center,a=this.clientPosToSpherePos(e,t,n),o=r[1]+Math.atan2(a[1],Math.sqrt(a[0]*a[0]+a[2]*a[2])),i=this.clientPosToSomePos(e,t,n);return[this.normalizeAround(i[0],r[0]),o]}},{key:"clientPosToProjPos",value:function(e,t,n){return this.normalizePosition(this.clientPosToSomePos(e,t,n))}},{key:"projPosToClientPos",value:function(e,t,n){var r=[Math.cos(e[1])*Math.sin(e[0]),Math.sin(e[1]),Math.cos(e[1])*Math.cos(e[0])],a=this.mat3VecMul(this.generateInverseTransform(n),r);if(a[2]<0){var o=Math.sqrt(a[0]*a[0]+a[1]*a[1]);a[0]/=o,a[1]/=o,a[2]=0}var i=this.generateScale(n);return[(a[0]*i[0]+1)/2*t.width+t.x,(1-a[1]*i[1])/2*t.height+t.y]}},{key:"generateScale",value:function(e){var t=e.size,n=e.scale;return t[0]<t[1]?[n,t[0]/t[1]*n]:[t[1]/t[0]*n,n]}},{key:"mat3Mul",value:function(e,t){for(var n=[0,0,0,0,0,0,0,0,0],r=0;r<3;r++)for(var a=0;a<3;a++)for(var o=0;o<3;o++)n[3*r+a]+=e[3*r+o]*t[3*o+a];return n}},{key:"mat3VecMul",value:function(e,t){for(var n=[0,0,0],r=0;r<3;r++)for(var a=0;a<3;a++)n[r]+=e[3*a+r]*t[a];return n}},{key:"mat3Rotation",value:function(e,t){var n=[0,0,0,0,0,0,0,0,0];return n[3*e+e]=1,n[(e+1)%3*3+(e+1)%3]=Math.cos(t),n[(e+2)%3*3+(e+1)%3]=Math.sin(t),n[(e+1)%3*3+(e+2)%3]=-Math.sin(t),n[(e+2)%3*3+(e+2)%3]=Math.cos(t),n}},{key:"generateTransform",value:function(e){var t=e.center;return this.mat3Mul(this.mat3Rotation(0,t[1]),this.mat3Rotation(1,-t[0]))}},{key:"generateInverseTransform",value:function(e){var t=e.center;return this.mat3Mul(this.mat3Rotation(1,t[0]),this.mat3Rotation(0,-t[1]))}},{key:"normalizePosition",value:function(e){var t=(0,d.Z)(e,2),n=t[0],r=t[1];return r=(r+Math.PI)%(2*Math.PI),(r=(2*Math.PI+r)%(2*Math.PI)-Math.PI)<-Math.PI/2?(n+=Math.PI,r=Math.abs(-Math.PI/2-r)-Math.PI/2):r>Math.PI/2&&(n+=Math.PI,r=Math.PI/2-Math.abs(r-Math.PI/2)),n=(n+Math.PI)%(2*Math.PI),[(n=(2*Math.PI+n)%(2*Math.PI))-Math.PI,r]}},{key:"generateTexMinMax",value:function(e){var t,n=e.center,r=this.generateScale(e),a=this.normalizePosition(n),o=(0,d.Z)(a,2),i=o[0],s=o[1];if(1/(r[0]*r[0])+1/(r[1]*r[1])>1)t=Math.abs(s)<.1?[[.5+i/Math.PI/2-.26,0],[.5+i/Math.PI/2+.26,1]]:s<0?[[0,0],[1,1+s/Math.PI]]:[[0,s/Math.PI],[1,1]];else if(.5-Math.abs(s)/Math.PI<Math.max(.05,.5/r[1]))t=s<0?[[0,0],[1,1+s/Math.PI]]:[[0,s/Math.PI],[1,1]];else{var l=Math.min(.25,.25*(1+(Math.abs(s)/Math.PI>.4?3:1)*Math.abs(s))/r[0]),u=Math.min(.25,.25*(1+Math.abs(s))/r[1]);t=[[.5+i/Math.PI/2-l,.5+s/Math.PI-2*u],[.5+i/Math.PI/2+l,.5+s/Math.PI+2*u]]}return t[0][0]=(1+t[0][0]%1)%1,t[1][0]=(1+t[1][0]%1)%1,t[1][0]<=t[0][0]&&(t[1][0]+=1),t[0][1]=Math.min(1,Math.max(0,t[0][1])),t[1][1]=Math.min(1,Math.max(0,t[1][1])),t}},{key:"initForContext",value:function(e,t,n,r){(0,x.Z)((0,u.Z)(a.prototype),"initForContext",this).call(this,e,t,n,r);var o=t.createTexture();t.bindTexture(t.TEXTURE_2D,o),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,4096,2048,0,t.RGBA,t.UNSIGNED_BYTE,null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE);var i=this.createShaderProgram(t,"\nattribute vec2 aVertexPosition;\n\nuniform vec2 uScale;\n\nvarying vec2 vPixelPos;\n\nvoid main() {\n    vPixelPos = aVertexPosition;\n    gl_Position = vec4(uScale * aVertexPosition, 0.0, 1.0);\n}\n\n","\n#ifdef GL_ES\n    precision highp float;\n#endif\n\n#define PI 3.1415926538\n\nuniform sampler2D uSampler;\nuniform vec2 uTexMin;\nuniform vec2 uTexMax;\nuniform mat3 uTransform;\nuniform float uScaleZ;\n\nvarying vec2 vPixelPos;\n\nfloat fmod(float a, float b) {\n    return a - (b * floor(a / b));\n}\n\nvec2 normalizePosition(vec2 pos) {\n    pos.y = fmod(pos.y + PI, 2.0 * PI);\n    pos.y = fmod(2.0 * PI + pos.y, 2.0 * PI) - PI;\n    if (pos.y < -PI / 2.0) {\n        pos.x += PI;\n        pos.y = abs(-PI / 2.0 - pos.y) - PI / 2.0;\n    } else if (pos.y > PI / 2.0) {\n        pos.x += PI;\n        pos.y = PI / 2.0 - abs(pos.y - PI / 2.0);\n    }\n    pos.x = fmod(pos.x + PI, 2.0 * PI);\n    pos.x = fmod(2.0 * PI + pos.x, 2.0 * PI);\n    return vec2(pos.x - PI, pos.y);\n}\n\nvec3 spherePosition() {\n    vec3 pos = vec3(vPixelPos, 0.0);\n    pos.z = 1.0 - pos.x*pos.x - pos.y*pos.y;\n    if (pos.z < 0.0) {\n        float dist = sqrt(pos.x*pos.x + pos.y*pos.y);\n        pos.x /= dist;\n        pos.y /= dist;\n        pos.z = 0.0;\n    } else {\n        pos.z = sqrt(pos.z);\n    }\n    return pos;\n}\n\nvec2 texPosition(vec3 pos) {\n    pos = uTransform * pos;\n    vec2 coord = vec2(\n        atan(pos.x, pos.z),\n        atan(pos.y, sqrt(pos.x*pos.x + pos.z*pos.z))\n    );\n    vec2 lonlat = normalizePosition(coord);\n    return vec2((lonlat.x + PI) / (2.0 * PI), (lonlat.y + PI / 2.0) / PI);\n}\n\nfloat computeLight(vec3 pos, bool water) {\n    vec3 light = normalize(vec3(-1.0, 1.0, 3.0));\n    float c = max(0.0, dot(light, pos));\n    float a = max(0.0, dot(vec3(0.0, 0.0, 1.0), reflect(-light, pos)));\n    a *= a;\n    if (water) {\n        return c * 0.7 + a * 0.1 + 0.2;\n    } else {\n        return c * 0.5 + a * 0.3 + 0.2;\n    }\n}\n\nvec3 waterColor(vec3 pos) {\n    return vec3(0.0, 0.2, 0.4);\n}\n\nvoid main() {\n    bool water = false;\n    vec3 pos = spherePosition();\n    float dist = vPixelPos.x * vPixelPos.x + vPixelPos.y * vPixelPos.y;\n    float edge = (dist - 1.0) * (dist - 1.0);\n    vec2 texCoord = texPosition(pos);\n    if (uTexMin.x <= 1.0 + texCoord.x && uTexMax.x >= 1.0 + texCoord.x) {\n        vec2 texPos = vec2(\n            (texCoord.x + 1.0 - uTexMin.x) / (uTexMax.x - uTexMin.x),\n            (texCoord.y - uTexMin.y) / (uTexMax.y - uTexMin.y)\n        );\n        gl_FragColor = texture2D(uSampler, texPos);\n    } else {\n        vec2 texPos = vec2(\n            (texCoord.x - uTexMin.x) / (uTexMax.x - uTexMin.x),\n            (texCoord.y - uTexMin.y) / (uTexMax.y - uTexMin.y)\n        );\n        gl_FragColor = texture2D(uSampler, texPos);\n    }\n    if (length(gl_FragColor) == 0.0) {\n        gl_FragColor = vec4(waterColor(pos), 1.0);\n        water = true;\n    }\n    if (dist >= 1.0) {\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\n    }\n    float f = 0.75 * exp(-1.0e4 * edge);\n    gl_FragColor = (1.0 - f) * gl_FragColor + f * vec4(0.5, 0.75, 1.0, 1.0);\n    if (dist < 1.0) {\n        float f = 0.2 * exp(-1.0 / (2.0 - pos.z) * uScaleZ) + 0.2 * (1.0 - pos.z);\n        gl_FragColor = (1.0 - f) * gl_FragColor + f * vec4(0.0, 0.75, 1.0, 1.0);\n    }\n    gl_FragColor.xyz = computeLight(pos, water) * gl_FragColor.xyz;\n}\n\n"),s=t.getAttribLocation(i,"aVertexPosition"),l=t.getUniformLocation(i,"uScale"),f=t.getUniformLocation(i,"uScaleZ"),c=t.getUniformLocation(i,"uSampler"),h=t.getUniformLocation(i,"uTexMin"),d=t.getUniformLocation(i,"uTexMax"),v=t.getUniformLocation(i,"uTransform"),m=new Float32Array(8);m[0]=-2,m[1]=2,m[2]=2,m[3]=2,m[4]=2,m[5]=-2,m[6]=-2,m[7]=-2;var _=new Uint16Array(6);_[0]=0,_[1]=1,_[2]=2,_[3]=2,_[4]=3,_[5]=0;var g=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,g),t.bufferData(t.ARRAY_BUFFER,m,t.STATIC_DRAW);var p=t.createBuffer();t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,p),t.bufferData(t.ELEMENT_ARRAY_BUFFER,_,t.STATIC_DRAW),this.webgl_data.texture=o,this.webgl_data.earth_data={shader_program:i,position_attribute:s,scale_uniform:l,scale2_uniform:f,sampler_uniform:c,texmin_uniform:h,texmax_uniform:d,transform_uniform:v,vertices:m,triangles:_,gl_position_buffer:g,gl_index_buffer:p}}},{key:"deinitResources",value:function(e,t){var n;if(null!==(n=this.webgl_data)&&void 0!==n&&n.context){var r=this.webgl_data.context;r.deleteTexture(this.webgl_data.texture),r.deleteBuffer(this.webgl_data.earth_data.gl_position_buffer),r.deleteBuffer(this.webgl_data.earth_data.gl_index_buffer),r.getAttachedShaders(this.webgl_data.earth_data.shader_program).forEach((function(e){r.deleteShader(e)})),r.deleteProgram(this.webgl_data.earth_data.shader_program)}(0,x.Z)((0,u.Z)(a.prototype),"deinitResources",this).call(this,e,t)}},{key:"renderToTexture",value:function(e,t,n,r,a){var o=this.webgl_data.context,i=this.webgl_data.fill_data,s=this.webgl_data.stroke_data,l=o.createFramebuffer();o.bindFramebuffer(o.FRAMEBUFFER,l);var u=o.COLOR_ATTACHMENT0;o.framebufferTexture2D(o.FRAMEBUFFER,u,o.TEXTURE_2D,this.webgl_data.texture,0),o.viewport(0,0,4096,2048);var f=[2*Math.PI*(.5-(r[0]+a[0])/2),Math.PI*(.5-(r[1]+a[1])/2)],c=[1/(a[0]-r[0])/Math.PI,2/(a[1]-r[1])/Math.PI],h=[.5/(a[0]-r[0])/n.scale,.5/(a[1]-r[1])/n.scale];o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT);for(var d=0;d<=1;d++){for(var v=0;v<e.length;v++){var m=e[v],_=t[m.id];(_.min[0]+f[0])*c[0]<=1&&(_.max[0]+f[0])*c[0]>=-1&&(_.min[1]+f[1])*c[1]<=1&&(_.max[1]+f[1])*c[1]>=-1&&(o.useProgram(s.shader_program),o.uniform2fv(s.translate_uniform,f),o.uniform2fv(s.scale_uniform,c),o.uniform2fv(s.scale2_uniform,h),o.uniform1f(s.width_uniform,.005),o.uniform3fv(s.color_uniform,[.271,.302,.38]),o.bindBuffer(o.ARRAY_BUFFER,_.gl_outline_normal_buffer),o.vertexAttribPointer(s.normal_attribute,2,o.FLOAT,!1,0,0),o.enableVertexAttribArray(s.normal_attribute),o.bindBuffer(o.ARRAY_BUFFER,_.gl_outline_position_buffer),o.vertexAttribPointer(s.position_attribute,2,o.FLOAT,!1,0,0),o.enableVertexAttribArray(s.position_attribute),o.drawArrays(o.TRIANGLES,0,_.outline_triangles.length/2),o.useProgram(i.shader_program),o.uniform2fv(i.translate_uniform,f),o.uniform2fv(i.scale_uniform,c),m.id===n.hover?o.uniform3fv(i.color_uniform,m.color.map((function(e){return.8*e}))):o.uniform3fv(i.color_uniform,m.color),o.bindBuffer(o.ARRAY_BUFFER,_.gl_position_buffer),o.vertexAttribPointer(i.position_attribute,2,o.FLOAT,!1,0,0),o.enableVertexAttribArray(i.position_attribute),o.bindBuffer(o.ELEMENT_ARRAY_BUFFER,_.gl_index_buffer),o.drawElements(o.TRIANGLES,_.triangles.length,o.UNSIGNED_SHORT,0))}f[0]+=2*Math.PI}o.viewport(0,0,this.webgl_data.canvas.clientWidth,this.webgl_data.canvas.clientHeight),o.bindFramebuffer(o.FRAMEBUFFER,null)}},{key:"renderMapInContext",value:function(e,t,n){var r=this.webgl_data.context,a=this.webgl_data.earth_data,o=this.generateTexMinMax(n),i=(0,d.Z)(o,2),s=i[0],l=i[1];this.renderToTexture(e,t,n,s,l),r.clearColor(0,0,0,0),r.clearDepth(1),r.clear(r.COLOR_BUFFER_BIT),r.useProgram(a.shader_program),r.uniform2fv(a.scale_uniform,this.generateScale(n)),r.uniform2fv(a.scale_uniform,this.generateScale(n)),r.uniform1fv(a.scale2_uniform,[n.scale]),r.uniform1i(a.sampler_uniform,0),r.uniform2fv(a.texmin_uniform,s),r.uniform2fv(a.texmax_uniform,l),r.uniformMatrix3fv(a.transform_uniform,!1,this.generateTransform(n)),r.bindBuffer(r.ARRAY_BUFFER,a.gl_position_buffer),r.vertexAttribPointer(a.position_attribute,2,r.FLOAT,!1,0,0),r.enableVertexAttribArray(a.position_attribute),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,a.gl_index_buffer),r.drawElements(r.TRIANGLES,a.triangles.length,r.UNSIGNED_SHORT,0)}}]),a}(g);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw o}}}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=(0,u.Z)(e);if(t){var a=(0,u.Z)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,l.Z)(this,n)}}var E=function(e){(0,s.Z)(n,e);var t=T(n);function n(){var e;return(0,o.Z)(this,n),(e=t.call(this)).location_data={},e.renderer=e.newRenderer(),e.state={center:[0,0],scale:1,min:[0,0],max:[0,0],size:[0,0],hover:null},e}return(0,i.Z)(n,[{key:"newRenderer",value:function(){return new g}},{key:"center",get:function(){return this.state.center}},{key:"scale",get:function(){return this.state.scale}},{key:"setCenterAndScale",value:function(e,t){this.state.center=e,this.state.scale=t}},{key:"clientPosToMapPos",value:function(e){var t=this.shadowRoot.getElementById("map").getBoundingClientRect();return this.renderer.clientPosToMapPos(e,t,this.state)}},{key:"clientPosToProjPos",value:function(e){var t=this.shadowRoot.getElementById("map").getBoundingClientRect();return this.renderer.clientPosToProjPos(e,t,this.state)}},{key:"projPosToClientPos",value:function(e){var t=this.shadowRoot.getElementById("map").getBoundingClientRect();return this.renderer.projPosToClientPos(e,t,this.state)}},{key:"handleMouseMove",value:function(e){var t,n=this.clientPosToProjPos([e.clientX,e.clientY]),r=R(this.locations);try{for(r.s();!(t=r.n()).done;){var a=t.value,o=this.location_data[a.id];if(o.min[0]<=n[0]&&o.min[1]<=n[1]&&o.max[0]>=n[0]&&o.max[1]>=n[1]){var i,s=R(o.polygons);try{for(s.s();!(i=s.n()).done;){var l=i.value;if(l.min[0]<=n[0]&&l.min[1]<=n[1]&&l.max[0]>=n[0]&&l.max[1]>=n[1])for(var u=0;u<l.triangles.length;u+=3){var f=[l.vertices[2*l.triangles[u]],l.vertices[2*l.triangles[u]+1]],c=[l.vertices[2*l.triangles[u+1]],l.vertices[2*l.triangles[u+1]+1]],h=[l.vertices[2*l.triangles[u+2]],l.vertices[2*l.triangles[u+2]+1]];function g(e,t,n){return(e[0]-n[0])*(t[1]-n[1])-(t[0]-n[0])*(e[1]-n[1])}var d=g(n,f,c),v=g(n,c,h),m=g(n,h,f);if(!(d<0||v<0||m<0)||!(d>0||v>0||m>0)){this.state.hover=a.id;var _=new Event("hover");return _.location=a,_.position=this.projPosToClientPos([(l.min[0]+l.max[0])/2,(l.min[1]+l.max[1])/2]),void this.dispatchEvent(_)}}}}catch(p){s.e(p)}finally{s.f()}}}}catch(x){r.e(x)}finally{r.f()}this.handleMouseOut()}},{key:"handleMouseOut",value:function(){this.state.hover=null;var e=new Event("hover");e.location=null,e.position=null,this.dispatchEvent(e)}},{key:"handleTouchStart",value:function(e){1===e.touches.length?this.handleMouseMove({clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}):this.handleMouseOut(e)}},{key:"renderMapInCanvas",value:function(){this.last&&this.last.center==this.state.center&&this.last.scale==this.state.scale&&this.last.hover==this.state.hover&&this.last.size==this.state.size||(this.renderer.renderMapInContext(this.locations,this.location_data,this.state),this.last=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.state)),window.requestAnimationFrame(this.renderMapInCanvas.bind(this))}},{key:"updated",value:function(){var e=this,t=this.shadowRoot.getElementById("map");if(this.last_canvas!=t){this.last_canvas=t,this.renderer.deinitResources(this.locations,this.location_data);var n=t.getContext("webgl")||t.getContext("experimental-webgl"),r=function(){t.width=t.clientWidth,t.height=t.clientHeight,n.viewport(0,0,t.width,t.height),e.state.size=[t.width,t.height]};window.addEventListener("resize",r),r(),this.renderer.initForContext(t,n,this.locations,this.location_data),this.renderMapInCanvas()}this.last=null}},{key:"generateTriangles",value:function(e){var t,n=[],r=0,a=0,o=0,i=R(e.coords);try{for(i.s();!(t=i.n()).done;){var s,l=t.value,u=R(l);try{for(u.s();!(s=u.n()).done;)o+=s.value.length}catch(e){u.e(e)}finally{u.f()}var f=h().flatten(l);this.renderer.applyProjection(f.vertices);var c=h()(f.vertices,f.holes,f.dimensions);r+=f.vertices.length,a+=c.length,n.push({vertices:new Float32Array(f.vertices),triangles:new Uint16Array(c),min:l.flat().map(this.renderer.projection).reduce((function(e,t){return[Math.min(e[0],t[0]),Math.min(e[1],t[1])]})),max:l.flat().map(this.renderer.projection).reduce((function(e,t){return[Math.max(e[0],t[0]),Math.max(e[1],t[1])]}))})}}catch(e){i.e(e)}finally{i.f()}var d=new Float32Array(r),v=new Uint16Array(a);r=0,a=0;for(var m=0,_=n;m<_.length;m++){var g=_[m];d.set(g.vertices,r);for(var p=0;p<g.triangles.length;p++)v[a+p]=r/2+g.triangles[p];r+=g.vertices.length,a+=g.triangles.length}var x=new Float32Array(24*o),P=new Float32Array(24*o);o=0;var y,b=R(e.coords);try{for(b.s();!(y=b.n()).done;){var M,A=R(y.value);try{for(A.s();!(M=A.n()).done;){for(var T=M.value.map(this.renderer.projection),E=0;E<T.length;E++){var I=T[E],w=T[(T.length+E-1)%T.length],S=T[(E+1)%T.length],F=[I[0]-w[0],I[1]-w[1]],B=[S[0]-I[0],S[1]-I[1]],k=24*o+24*E;x.set([I[0],I[1],I[0],I[1],S[0],S[1],I[0],I[1],S[0],S[1],S[0],S[1],I[0],I[1],I[0],I[1],I[0],I[1],I[0],I[1],I[0],I[1],I[0],I[1]],k),P.set([B[1],-B[0],-B[1],B[0],B[1],-B[0],-B[1],B[0],-B[1],B[0],B[1],-B[0],-F[1],F[0],F[1],-F[0],-B[1],B[0],-F[1],F[0],F[1],-F[0],B[1],-B[0]],k)}o+=T.length}}catch(e){A.e(e)}finally{A.f()}}}catch(e){b.e(e)}finally{b.f()}return{polygons:n,vertices:d,triangles:v,outline_triangles:x,outline_normals:P,min:n.map((function(e){return e.min})).reduce((function(e,t){return[Math.min(e[0],t[0]),Math.min(e[1],t[1])]})),max:n.map((function(e){return e.max})).reduce((function(e,t){return[Math.max(e[0],t[0]),Math.max(e[1],t[1])]}))}}},{key:"buildRenderData",value:function(){var e=this;this.locations.forEach((function(t){t.color=t.color.map((function(e){return e/255})),t&&(e.location_data[t.id]||(e.location_data[t.id]=e.generateTriangles(t)))})),this.state.min=this.locations.map((function(t){return e.location_data[t.id].min})).reduce((function(e,t){return[Math.min(e[0],t[0]),Math.min(e[1],t[1])]})),this.state.max=this.locations.map((function(t){return e.location_data[t.id].max})).reduce((function(e,t){return[Math.max(e[0],t[0]),Math.max(e[1],t[1])]}))}},{key:"render",value:function(){return this.buildRenderData(),(0,f.dy)(P||(P=(0,r.Z)(['\n            <canvas\n                id="map"\n                @mousemove="','"\n                @wheel="','"\n                @mouseout="','"\n                @touchstart="','"\n                @touchmove="','"\n            >\n            </canvas>\n        '])),this.handleMouseMove,this.handleMouseMove,this.handleMouseOut,this.handleTouchStart,this.handleTouchStart)}}],[{key:"properties",get:function(){return{locations:{attribute:!0}}}},{key:"styles",get:function(){return(0,f.iv)(y||(y=(0,r.Z)(["\n            :host {\n                width: 100%;\n                height: 100%;\n                position: relative;\n                display: block;\n            }\n            #map {\n                width: 100%;\n                height: 100%;\n                max-width: 100%;\n                max-height: 100%;\n                display: block;\n                position: absolute;\n            }\n        "])))}}]),n}(f.oi);customElements.define("map-backend",E);var I=function(e){(0,s.Z)(n,e);var t=T(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n,[{key:"newRenderer",value:function(){return new b}}]),n}(E);customElements.define("map-backend-3d",I)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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OURySSxLQUFLSSxNQUFNWSxJQUFNaEIsS0FBS2tDLFVBQVV1RSxLQUFJLFNBQUE2SixHQUFDLE9BQUksRUFBS25PLGNBQWNtTyxFQUFFak4sSUFBSXJDLE9BQzdENE8sUUFBTyxTQUFDbkksRUFBR1ksR0FBSixNQUFVLENBQUNuQixLQUFLbEcsSUFBSXlHLEVBQUUsR0FBSVksRUFBRSxJQUFLbkIsS0FBS2xHLElBQUl5RyxFQUFFLEdBQUlZLEVBQUUsVSxvQkFHbEUsV0FFSSxPQURBckksS0FBS3VRLG1CQUNFQyxFQUFBQSxFQUFBQSxJQUFQLDBSQUdzQnhRLEtBQUttTyxnQkFDVG5PLEtBQUttTyxnQkFDRm5PLEtBQUtpTyxlQUNIak8sS0FBS3lRLGlCQUNOelEsS0FBS3lRLHFCLHVCQWhSL0IsV0FDSSxNQUFPLENBQ0h2TyxVQUFXLENBQUV3TyxXQUFXLE0sa0JBSWhDLFdBQ0ksT0FBT0MsRUFBQUEsRUFBQUEsSUFBUCxzYixFQVRGdEUsQ0FBd0J1RSxFQUFBQSxJQXlSOUJDLGVBQWVDLE9BQU8sY0FBZXpFLEcsSUFFL0IwRSxFQUFBQSxTQUFBQSxJLDRIQUNGLFdBQ0ksT0FBTyxJQUFJbEssTSxFQUZia0ssQ0FBMEIxRSxHQU1oQ3dFLGVBQWVDLE9BQU8saUJBQWtCQyIsInNvdXJjZXMiOlsid2VicGFjazovL2dlby1kcmF3Ly4vc3JjL21hcC93ZWJnbC1yZW5kZXJlci5qcyIsIndlYnBhY2s6Ly9nZW8tZHJhdy8uL3NyYy9tYXAvc2hhZGVycy9maWxsLXZlcnRleC1zaGFkZXIuZ2xzbCIsIndlYnBhY2s6Ly9nZW8tZHJhdy8uL3NyYy9tYXAvc2hhZGVycy9maWxsLWZyYWdtZW50LXNoYWRlci5nbHNsIiwid2VicGFjazovL2dlby1kcmF3Ly4vc3JjL21hcC9zaGFkZXJzL3N0cm9rZS12ZXJ0ZXgtc2hhZGVyLmdsc2wiLCJ3ZWJwYWNrOi8vZ2VvLWRyYXcvLi9zcmMvbWFwL3NoYWRlcnMvc3Ryb2tlLWZyYWdtZW50LXNoYWRlci5nbHNsIiwid2VicGFjazovL2dlby1kcmF3Ly4vc3JjL21hcC93ZWJnbC1yZW5kZXJlci0zZC5qcyIsIndlYnBhY2s6Ly9nZW8tZHJhdy8uL3NyYy9tYXAvc2hhZGVycy9lYXJ0aC12ZXJ0ZXgtc2hhZGVyLmdsc2wiLCJ3ZWJwYWNrOi8vZ2VvLWRyYXcvLi9zcmMvbWFwL3NoYWRlcnMvZWFydGgtZnJhZ21lbnQtc2hhZGVyLmdsc2wiLCJ3ZWJwYWNrOi8vZ2VvLWRyYXcvLi9zcmMvbWFwL21hcC1iYWNrZW5kLXdlYmdsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IEZpbGxGcmFnbWVudFNoYWRlciBmcm9tICcuL3NoYWRlcnMvZmlsbC1mcmFnbWVudC1zaGFkZXIuZ2xzbCc7XG5pbXBvcnQgRmlsbFZlcnRleFNoYWRlciBmcm9tICcuL3NoYWRlcnMvZmlsbC12ZXJ0ZXgtc2hhZGVyLmdsc2wnO1xuaW1wb3J0IFN0cm9rZUZyYWdtZW50U2hhZGVyIGZyb20gJy4vc2hhZGVycy9zdHJva2UtZnJhZ21lbnQtc2hhZGVyLmdsc2wnO1xuaW1wb3J0IFN0cm9rZVZlcnRleFNoYWRlciBmcm9tICcuL3NoYWRlcnMvc3Ryb2tlLXZlcnRleC1zaGFkZXIuZ2xzbCc7XG5cbmltcG9ydCBNYXBSZW5kZXJlciBmcm9tICcuL21hcC1yZW5kZXJlcic7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdlYkdMUmVuZGVyZXIge1xuICAgIHByb2plY3Rpb24oYXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIE1hcFJlbmRlcmVyLnByb2plY3QoYXJyYXkpO1xuICAgIH1cblxuICAgIGFwcGx5UHJvamVjdGlvbihhcnJheSkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgICAgICBbYXJyYXlbaV0sIGFycmF5W2kgKyAxXV0gPSB0aGlzLnByb2plY3Rpb24oW2FycmF5W2ldLCBhcnJheVtpICsgMV1dKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsaWVudFBvc1RvTWFwUG9zKGNsaWVudF9wb3MsIG1hcF9wb3MsIHN0YXRlKSB7XG4gICAgICAgIGNvbnN0IFtfLCBzY2FsZV0gPSB0aGlzLmdlbmVyYXRlVHJhbnNsYXRlQW5kU2NhbGUoc3RhdGUpO1xuICAgICAgICBjb25zdCBjbGllbnRfcG9zX25vcm0gPSBbXG4gICAgICAgICAgICAyICogKGNsaWVudF9wb3NbMF0gLSBtYXBfcG9zLngpIC8gbWFwX3Bvcy53aWR0aCAtIDEuMCxcbiAgICAgICAgICAgIDEuMCAtIDIgKiAoY2xpZW50X3Bvc1sxXSAtIG1hcF9wb3MueSkgLyBtYXBfcG9zLmhlaWdodCxcbiAgICAgICAgXTtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIGNsaWVudF9wb3Nfbm9ybVswXSAvIHNjYWxlWzBdICsgc3RhdGUuY2VudGVyWzBdLFxuICAgICAgICAgICAgY2xpZW50X3Bvc19ub3JtWzFdIC8gc2NhbGVbMV0gKyBzdGF0ZS5jZW50ZXJbMV0sXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgY2xpZW50UG9zVG9Qcm9qUG9zKGNsaWVudF9wb3MsIG1hcF9wb3MsIHN0YXRlKSB7XG4gICAgICAgIGNvbnN0IFt0cmFuc2Zvcm0sIHNjYWxlXSA9IHRoaXMuZ2VuZXJhdGVUcmFuc2xhdGVBbmRTY2FsZShzdGF0ZSk7XG4gICAgICAgIGNvbnN0IGNsaWVudF9wb3Nfbm9ybSA9IFtcbiAgICAgICAgICAgIDIgKiAoY2xpZW50X3Bvc1swXSAtIG1hcF9wb3MueCkgLyBtYXBfcG9zLndpZHRoIC0gMS4wLFxuICAgICAgICAgICAgMS4wIC0gMiAqIChjbGllbnRfcG9zWzFdIC0gbWFwX3Bvcy55KSAvIG1hcF9wb3MuaGVpZ2h0LFxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgY2xpZW50X3Bvc19ub3JtWzBdIC8gc2NhbGVbMF0gLSB0cmFuc2Zvcm1bMF0sXG4gICAgICAgICAgICBjbGllbnRfcG9zX25vcm1bMV0gLyBzY2FsZVsxXSAtIHRyYW5zZm9ybVsxXSxcbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBwcm9qUG9zVG9DbGllbnRQb3MobG9jYXRpb25fcG9zLCBtYXBfcG9zLCBzdGF0ZSkge1xuICAgICAgICBjb25zdCBbdHJhbnNmb3JtLCBzY2FsZV0gPSB0aGlzLmdlbmVyYXRlVHJhbnNsYXRlQW5kU2NhbGUoc3RhdGUpO1xuICAgICAgICBjb25zdCBjbGllbnRfcG9zX25vcm0gPSBbXG4gICAgICAgICAgICAobG9jYXRpb25fcG9zWzBdICsgdHJhbnNmb3JtWzBdKSAqIHNjYWxlWzBdLFxuICAgICAgICAgICAgKGxvY2F0aW9uX3Bvc1sxXSArIHRyYW5zZm9ybVsxXSkgKiBzY2FsZVsxXSxcbiAgICAgICAgXTtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIChjbGllbnRfcG9zX25vcm1bMF0gKyAxLjApIC8gMiAqIG1hcF9wb3Mud2lkdGggKyBtYXBfcG9zLngsXG4gICAgICAgICAgICAoMS4wIC0gY2xpZW50X3Bvc19ub3JtWzFdKSAvIDIgKiBtYXBfcG9zLmhlaWdodCArIG1hcF9wb3MueSxcbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBnZW5lcmF0ZVRyYW5zbGF0ZUFuZFNjYWxlKHttaW4sIG1heCwgc2l6ZSwgY2VudGVyLCBzY2FsZTogem9vbV9zY2FsZX0pIHtcbiAgICAgICAgY29uc3Qgd2lkdGggPSBtYXhbMF0gLSBtaW5bMF07XG4gICAgICAgIGNvbnN0IGhlaWdodCA9IG1heFsxXSAtIG1pblsxXTtcbiAgICAgICAgaWYod2lkdGggLyBzaXplWzBdID4gaGVpZ2h0IC8gc2l6ZVsxXSkge1xuICAgICAgICAgICAgY29uc3QgdHJhbnNsYXRlID0gW1xuICAgICAgICAgICAgICAgIC1taW5bMF0gLSB3aWR0aCAvIDIgLSBjZW50ZXJbMF0sXG4gICAgICAgICAgICAgICAgLW1pblsxXSAtIGhlaWdodCAvIDIgLSBjZW50ZXJbMV0sXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgY29uc3Qgc2NhbGUgPSBbXG4gICAgICAgICAgICAgICAgMiAvIHdpZHRoICogem9vbV9zY2FsZSxcbiAgICAgICAgICAgICAgICAtMiAqIChzaXplWzBdIC8gc2l6ZVsxXSkgLyB3aWR0aCAqIHpvb21fc2NhbGUsXG4gICAgICAgICAgICBdO1xuICAgICAgICAgICAgY29uc3Qgc3Ryb2tlX3NjYWxlID0gW1xuICAgICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICAgICAgLXNpemVbMF0gLyBzaXplWzFdLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIHJldHVybiBbdHJhbnNsYXRlLCBzY2FsZSwgc3Ryb2tlX3NjYWxlXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zbGF0ZSA9IFtcbiAgICAgICAgICAgICAgICAtbWluWzBdIC0gd2lkdGggLyAyIC0gY2VudGVyWzBdLFxuICAgICAgICAgICAgICAgIC1taW5bMV0gLSBoZWlnaHQgLyAyIC0gY2VudGVyWzFdLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlID0gW1xuICAgICAgICAgICAgICAgIDIgKiAoc2l6ZVsxXSAvIHNpemVbMF0pIC8gaGVpZ2h0ICogem9vbV9zY2FsZSxcbiAgICAgICAgICAgICAgICAtMiAvICBoZWlnaHQgKiB6b29tX3NjYWxlLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGNvbnN0IHN0cm9rZV9zY2FsZSA9IFtcbiAgICAgICAgICAgICAgICBzaXplWzFdIC8gc2l6ZVswXSxcbiAgICAgICAgICAgICAgICAtMSxcbiAgICAgICAgICAgIF07XG4gICAgICAgICAgICByZXR1cm4gW3RyYW5zbGF0ZSwgc2NhbGUsIHN0cm9rZV9zY2FsZV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgY3JlYXRlU2hhZGVyUHJvZ3JhbShnbCwgdmVydGV4X3NoYWRlcl9zb3VyY2UsIGZyYWdtZW50X3NoYWRlcl9zb3VyY2UpIHtcbiAgICAgICAgY29uc3QgdmVydGV4X3NoYWRlciA9IGdsLmNyZWF0ZVNoYWRlcihnbC5WRVJURVhfU0hBREVSKTtcbiAgICAgICAgZ2wuc2hhZGVyU291cmNlKHZlcnRleF9zaGFkZXIsIHZlcnRleF9zaGFkZXJfc291cmNlKTtcbiAgICAgICAgZ2wuY29tcGlsZVNoYWRlcih2ZXJ0ZXhfc2hhZGVyKTtcbiAgICAgICAgY29uc3QgZnJhZ21lbnRfc2hhZGVyID0gZ2wuY3JlYXRlU2hhZGVyKGdsLkZSQUdNRU5UX1NIQURFUik7XG4gICAgICAgIGdsLnNoYWRlclNvdXJjZShmcmFnbWVudF9zaGFkZXIsIGZyYWdtZW50X3NoYWRlcl9zb3VyY2UpO1xuICAgICAgICBnbC5jb21waWxlU2hhZGVyKGZyYWdtZW50X3NoYWRlcik7XG4gICAgICAgIGNvbnN0IHNoYWRlcl9wcm9ncmFtID0gZ2wuY3JlYXRlUHJvZ3JhbSgpO1xuICAgICAgICBnbC5hdHRhY2hTaGFkZXIoc2hhZGVyX3Byb2dyYW0sIHZlcnRleF9zaGFkZXIpO1xuICAgICAgICBnbC5hdHRhY2hTaGFkZXIoc2hhZGVyX3Byb2dyYW0sIGZyYWdtZW50X3NoYWRlcik7XG4gICAgICAgIGdsLmxpbmtQcm9ncmFtKHNoYWRlcl9wcm9ncmFtKTtcbiAgICAgICAgcmV0dXJuIHNoYWRlcl9wcm9ncmFtO1xuICAgIH1cblxuICAgIGluaXRGb3JDb250ZXh0KGNhbnZhcywgZ2wsIGxvY2F0aW9ucywgbG9jYXRpb25fZGF0YSkge1xuICAgICAgICBjb25zdCBmaWxsX3NoYWRlcl9wcm9ncmFtID0gdGhpcy5jcmVhdGVTaGFkZXJQcm9ncmFtKGdsLCBGaWxsVmVydGV4U2hhZGVyLCBGaWxsRnJhZ21lbnRTaGFkZXIpO1xuICAgICAgICBjb25zdCBmaWxsX3Bvc2l0aW9uX2F0dHJpYnV0ZSA9IGdsLmdldEF0dHJpYkxvY2F0aW9uKGZpbGxfc2hhZGVyX3Byb2dyYW0sICdhVmVydGV4UG9zaXRpb24nKTtcbiAgICAgICAgY29uc3QgZmlsbF90cmFuc2xhdGVfdW5pZm9ybSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihmaWxsX3NoYWRlcl9wcm9ncmFtLCAndVRyYW5zbGF0ZScpO1xuICAgICAgICBjb25zdCBmaWxsX3NjYWxlX3VuaWZvcm0gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24oZmlsbF9zaGFkZXJfcHJvZ3JhbSwgJ3VTY2FsZScpO1xuICAgICAgICBjb25zdCBmaWxsX2NvbG9yX3VuaWZvcm0gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24oZmlsbF9zaGFkZXJfcHJvZ3JhbSwgJ3VGaWxsQ29sb3InKTtcblxuICAgICAgICBjb25zdCBzdHJva2Vfc2hhZGVyX3Byb2dyYW0gPSB0aGlzLmNyZWF0ZVNoYWRlclByb2dyYW0oZ2wsIFN0cm9rZVZlcnRleFNoYWRlciwgU3Ryb2tlRnJhZ21lbnRTaGFkZXIpO1xuICAgICAgICBjb25zdCBzdHJva2VfcG9zaXRpb25fYXR0cmlidXRlID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24oc3Ryb2tlX3NoYWRlcl9wcm9ncmFtLCAnYVZlcnRleFBvc2l0aW9uJyk7XG4gICAgICAgIGNvbnN0IHN0cm9rZV9ub3JtYWxfYXR0cmlidXRlID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24oc3Ryb2tlX3NoYWRlcl9wcm9ncmFtLCAnYVZlcnRleE5vcm1hbCcpO1xuICAgICAgICBjb25zdCBzdHJva2VfdHJhbnNsYXRlX3VuaWZvcm0gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24oc3Ryb2tlX3NoYWRlcl9wcm9ncmFtLCAndVRyYW5zbGF0ZScpO1xuICAgICAgICBjb25zdCBzdHJva2Vfc2NhbGVfdW5pZm9ybSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihzdHJva2Vfc2hhZGVyX3Byb2dyYW0sICd1U2NhbGUnKTtcbiAgICAgICAgY29uc3Qgc3Ryb2tlX3NjYWxlMl91bmlmb3JtID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKHN0cm9rZV9zaGFkZXJfcHJvZ3JhbSwgJ3VTdHJva2VTY2FsZScpO1xuICAgICAgICBjb25zdCBzdHJva2Vfd2lkdGhfdW5pZm9ybSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihzdHJva2Vfc2hhZGVyX3Byb2dyYW0sICd1V2lkdGgnKTtcbiAgICAgICAgY29uc3Qgc3Ryb2tlX2NvbG9yX3VuaWZvcm0gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24oc3Ryb2tlX3NoYWRlcl9wcm9ncmFtLCAndVN0cm9rZUNvbG9yJyk7XG5cbiAgICAgICAgZm9yKGNvbnN0IGxvY2F0aW9uIG9mIGxvY2F0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgdHJpYW5nbGVzID0gbG9jYXRpb25fZGF0YVtsb2NhdGlvbi5pZF07XG4gICAgICAgICAgICBjb25zdCBwb3NpdGlvbl9idWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBwb3NpdGlvbl9idWZmZXIpO1xuICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIHRyaWFuZ2xlcy52ZXJ0aWNlcywgZ2wuU1RBVElDX0RSQVcpO1xuICAgICAgICAgICAgY29uc3QgaW5kZXhfYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkVMRU1FTlRfQVJSQVlfQlVGRkVSLCBpbmRleF9idWZmZXIpO1xuICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdHJpYW5nbGVzLnRyaWFuZ2xlcywgZ2wuU1RBVElDX0RSQVcpO1xuICAgICAgICAgICAgY29uc3Qgb3V0bGluZV9wb3NpdGlvbl9idWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBvdXRsaW5lX3Bvc2l0aW9uX2J1ZmZlcik7XG4gICAgICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgdHJpYW5nbGVzLm91dGxpbmVfdHJpYW5nbGVzLCBnbC5TVEFUSUNfRFJBVyk7XG4gICAgICAgICAgICBjb25zdCBvdXRsaW5lX25vcm1hbF9idWZmZXIgPSBnbC5jcmVhdGVCdWZmZXIoKTtcbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBvdXRsaW5lX25vcm1hbF9idWZmZXIpO1xuICAgICAgICAgICAgZ2wuYnVmZmVyRGF0YShnbC5BUlJBWV9CVUZGRVIsIHRyaWFuZ2xlcy5vdXRsaW5lX25vcm1hbHMsIGdsLlNUQVRJQ19EUkFXKTtcbiAgICAgICAgICAgIHRyaWFuZ2xlcy5nbF9wb3NpdGlvbl9idWZmZXIgPSBwb3NpdGlvbl9idWZmZXI7XG4gICAgICAgICAgICB0cmlhbmdsZXMuZ2xfaW5kZXhfYnVmZmVyID0gaW5kZXhfYnVmZmVyO1xuICAgICAgICAgICAgdHJpYW5nbGVzLmdsX291dGxpbmVfcG9zaXRpb25fYnVmZmVyID0gb3V0bGluZV9wb3NpdGlvbl9idWZmZXI7XG4gICAgICAgICAgICB0cmlhbmdsZXMuZ2xfb3V0bGluZV9ub3JtYWxfYnVmZmVyID0gb3V0bGluZV9ub3JtYWxfYnVmZmVyO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy53ZWJnbF9kYXRhID0ge1xuICAgICAgICAgICAgY2FudmFzOiBjYW52YXMsXG4gICAgICAgICAgICBjb250ZXh0OiBnbCxcbiAgICAgICAgICAgIGZpbGxfZGF0YToge1xuICAgICAgICAgICAgICAgIHNoYWRlcl9wcm9ncmFtOiBmaWxsX3NoYWRlcl9wcm9ncmFtLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uX2F0dHJpYnV0ZTogZmlsbF9wb3NpdGlvbl9hdHRyaWJ1dGUsXG4gICAgICAgICAgICAgICAgdHJhbnNsYXRlX3VuaWZvcm06IGZpbGxfdHJhbnNsYXRlX3VuaWZvcm0sXG4gICAgICAgICAgICAgICAgc2NhbGVfdW5pZm9ybTogZmlsbF9zY2FsZV91bmlmb3JtLFxuICAgICAgICAgICAgICAgIGNvbG9yX3VuaWZvcm06IGZpbGxfY29sb3JfdW5pZm9ybSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdHJva2VfZGF0YToge1xuICAgICAgICAgICAgICAgIHNoYWRlcl9wcm9ncmFtOiBzdHJva2Vfc2hhZGVyX3Byb2dyYW0sXG4gICAgICAgICAgICAgICAgcG9zaXRpb25fYXR0cmlidXRlOiBzdHJva2VfcG9zaXRpb25fYXR0cmlidXRlLFxuICAgICAgICAgICAgICAgIG5vcm1hbF9hdHRyaWJ1dGU6IHN0cm9rZV9ub3JtYWxfYXR0cmlidXRlLFxuICAgICAgICAgICAgICAgIHRyYW5zbGF0ZV91bmlmb3JtOiBzdHJva2VfdHJhbnNsYXRlX3VuaWZvcm0sXG4gICAgICAgICAgICAgICAgc2NhbGVfdW5pZm9ybTogc3Ryb2tlX3NjYWxlX3VuaWZvcm0sXG4gICAgICAgICAgICAgICAgc2NhbGUyX3VuaWZvcm06IHN0cm9rZV9zY2FsZTJfdW5pZm9ybSxcbiAgICAgICAgICAgICAgICB3aWR0aF91bmlmb3JtOiBzdHJva2Vfd2lkdGhfdW5pZm9ybSxcbiAgICAgICAgICAgICAgICBjb2xvcl91bmlmb3JtOiBzdHJva2VfY29sb3JfdW5pZm9ybSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZGVpbml0UmVzb3VyY2VzKGxvY2F0aW9ucywgbG9jYXRpb25fZGF0YSkge1xuICAgICAgICBpZiAodGhpcy53ZWJnbF9kYXRhPy5jb250ZXh0KSB7XG4gICAgICAgICAgICBjb25zdCBnbCA9IHRoaXMud2ViZ2xfZGF0YS5jb250ZXh0O1xuICAgICAgICAgICAgZm9yIChjb25zdCBsb2NhdGlvbiBvZiBsb2NhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0cmlhbmdsZXMgPSBsb2NhdGlvbl9kYXRhW2xvY2F0aW9uLmlkXTtcbiAgICAgICAgICAgICAgICBnbC5kZWxldGVCdWZmZXIodHJpYW5nbGVzLmdsX3Bvc2l0aW9uX2J1ZmZlcik7XG4gICAgICAgICAgICAgICAgZ2wuZGVsZXRlQnVmZmVyKHRyaWFuZ2xlcy5nbF9pbmRleF9idWZmZXIpO1xuICAgICAgICAgICAgICAgIGdsLmRlbGV0ZUJ1ZmZlcih0cmlhbmdsZXMuZ2xfb3V0bGluZV9wb3NpdGlvbl9idWZmZXIpO1xuICAgICAgICAgICAgICAgIGdsLmRlbGV0ZUJ1ZmZlcih0cmlhbmdsZXMuZ2xfb3V0bGluZV9ub3JtYWxfYnVmZmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdsLmdldEF0dGFjaGVkU2hhZGVycyh0aGlzLndlYmdsX2RhdGEuZmlsbF9kYXRhLnNoYWRlcl9wcm9ncmFtKS5mb3JFYWNoKHMgPT4ge1xuICAgICAgICAgICAgICAgIGdsLmRlbGV0ZVNoYWRlcihzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZ2wuZGVsZXRlUHJvZ3JhbSh0aGlzLndlYmdsX2RhdGEuZmlsbF9kYXRhLnNoYWRlcl9wcm9ncmFtKTtcbiAgICAgICAgICAgIGdsLmdldEF0dGFjaGVkU2hhZGVycyh0aGlzLndlYmdsX2RhdGEuc3Ryb2tlX2RhdGEuc2hhZGVyX3Byb2dyYW0pLmZvckVhY2gocyA9PiB7XG4gICAgICAgICAgICAgICAgZ2wuZGVsZXRlU2hhZGVyKHMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBnbC5kZWxldGVQcm9ncmFtKHRoaXMud2ViZ2xfZGF0YS5zdHJva2VfZGF0YS5zaGFkZXJfcHJvZ3JhbSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXJNYXBJbkNvbnRleHQobG9jYXRpb25zLCBsb2NhdGlvbl9kYXRhLCBzdGF0ZSkge1xuICAgICAgICBjb25zdCBnbCA9IHRoaXMud2ViZ2xfZGF0YS5jb250ZXh0O1xuICAgICAgICBjb25zdCBmaWxsX2RhdGEgPSB0aGlzLndlYmdsX2RhdGEuZmlsbF9kYXRhO1xuICAgICAgICBjb25zdCBzdHJva2VfZGF0YSA9IHRoaXMud2ViZ2xfZGF0YS5zdHJva2VfZGF0YTtcblxuICAgICAgICBjb25zdCBbdHJhbnNsYXRlLCBzY2FsZSwgc3Ryb2tlX3NjYWxlXSA9IHRoaXMuZ2VuZXJhdGVUcmFuc2xhdGVBbmRTY2FsZShzdGF0ZSk7XG5cbiAgICAgICAgZ2wuY2xlYXJDb2xvcigwLjAsIDAuMCwgMC4wLCAwLjApO1xuICAgICAgICBnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUKTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxvY2F0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgbG9jID0gbG9jYXRpb25zW2ldO1xuICAgICAgICAgICAgY29uc3QgdHJpYW5nbGVzID0gbG9jYXRpb25fZGF0YVtsb2MuaWRdO1xuICAgICAgICAgICAgLy8gRHJhdyBzdHJva2VcbiAgICAgICAgICAgIGdsLnVzZVByb2dyYW0oc3Ryb2tlX2RhdGEuc2hhZGVyX3Byb2dyYW0pO1xuICAgICAgICAgICAgZ2wudW5pZm9ybTJmdihzdHJva2VfZGF0YS50cmFuc2xhdGVfdW5pZm9ybSwgdHJhbnNsYXRlKTtcbiAgICAgICAgICAgIGdsLnVuaWZvcm0yZnYoc3Ryb2tlX2RhdGEuc2NhbGVfdW5pZm9ybSwgc2NhbGUpO1xuICAgICAgICAgICAgZ2wudW5pZm9ybTJmdihzdHJva2VfZGF0YS5zY2FsZTJfdW5pZm9ybSwgc3Ryb2tlX3NjYWxlKTtcbiAgICAgICAgICAgIGdsLnVuaWZvcm0xZihzdHJva2VfZGF0YS53aWR0aF91bmlmb3JtLCAwLjAwNSk7XG4gICAgICAgICAgICBnbC51bmlmb3JtM2Z2KHN0cm9rZV9kYXRhLmNvbG9yX3VuaWZvcm0sIFswLjI3MSwgMC4zMDIsIDAuMzhdKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5BUlJBWV9CVUZGRVIsIHRyaWFuZ2xlcy5nbF9vdXRsaW5lX25vcm1hbF9idWZmZXIpO1xuICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihzdHJva2VfZGF0YS5ub3JtYWxfYXR0cmlidXRlLCAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuICAgICAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoc3Ryb2tlX2RhdGEubm9ybWFsX2F0dHJpYnV0ZSk7XG5cbiAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0cmlhbmdsZXMuZ2xfb3V0bGluZV9wb3NpdGlvbl9idWZmZXIpO1xuICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihzdHJva2VfZGF0YS5wb3NpdGlvbl9hdHRyaWJ1dGUsIDIsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XG4gICAgICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShzdHJva2VfZGF0YS5wb3NpdGlvbl9hdHRyaWJ1dGUpO1xuXG4gICAgICAgICAgICBnbC5kcmF3QXJyYXlzKGdsLlRSSUFOR0xFUywgMCwgdHJpYW5nbGVzLm91dGxpbmVfdHJpYW5nbGVzLmxlbmd0aCAvIDIpO1xuXG4gICAgICAgICAgICAvLyBEcmF3IGZpbGxcbiAgICAgICAgICAgIGdsLnVzZVByb2dyYW0oZmlsbF9kYXRhLnNoYWRlcl9wcm9ncmFtKTtcbiAgICAgICAgICAgIGdsLnVuaWZvcm0yZnYoZmlsbF9kYXRhLnRyYW5zbGF0ZV91bmlmb3JtLCB0cmFuc2xhdGUpO1xuICAgICAgICAgICAgZ2wudW5pZm9ybTJmdihmaWxsX2RhdGEuc2NhbGVfdW5pZm9ybSwgc2NhbGUpO1xuICAgICAgICAgICAgaWYgKGxvYy5pZCA9PT0gc3RhdGUuaG92ZXIpIHtcbiAgICAgICAgICAgICAgICBnbC51bmlmb3JtM2Z2KGZpbGxfZGF0YS5jb2xvcl91bmlmb3JtLCBsb2MuY29sb3IubWFwKGVsID0+IGVsICogMC44KSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0zZnYoZmlsbF9kYXRhLmNvbG9yX3VuaWZvcm0sIGxvYy5jb2xvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdHJpYW5nbGVzLmdsX3Bvc2l0aW9uX2J1ZmZlcik7XG4gICAgICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGZpbGxfZGF0YS5wb3NpdGlvbl9hdHRyaWJ1dGUsIDIsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XG4gICAgICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShmaWxsX2RhdGEucG9zaXRpb25fYXR0cmlidXRlKTtcblxuICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdHJpYW5nbGVzLmdsX2luZGV4X2J1ZmZlcik7XG4gICAgICAgICAgICBnbC5kcmF3RWxlbWVudHMoZ2wuVFJJQU5HTEVTLCB0cmlhbmdsZXMudHJpYW5nbGVzLmxlbmd0aCwgZ2wuVU5TSUdORURfU0hPUlQsIDApO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4iLCJleHBvcnQgZGVmYXVsdCBcIlxcbmF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5cXG51bmlmb3JtIHZlYzIgdVRyYW5zbGF0ZTtcXG51bmlmb3JtIHZlYzIgdVNjYWxlO1xcblxcbnZvaWQgbWFpbigpIHtcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KChhVmVydGV4UG9zaXRpb24gKyB1VHJhbnNsYXRlKSAqIHVTY2FsZSwgMC4wLCAxLjApO1xcbn1cXG5cIjsiLCJleHBvcnQgZGVmYXVsdCBcIlxcbiNpZmRlZiBHTF9FU1xcbiAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuI2VuZGlmXFxuICAgIFxcbnVuaWZvcm0gdmVjMyB1RmlsbENvbG9yO1xcblxcbnZvaWQgbWFpbigpIHtcXG4gICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCh1RmlsbENvbG9yLCAxLjApO1xcbn1cXG5cIjsiLCJleHBvcnQgZGVmYXVsdCBcIlxcbmF0dHJpYnV0ZSB2ZWMyIGFWZXJ0ZXhQb3NpdGlvbjtcXG5hdHRyaWJ1dGUgdmVjMiBhVmVydGV4Tm9ybWFsO1xcblxcbnVuaWZvcm0gdmVjMiB1VHJhbnNsYXRlO1xcbnVuaWZvcm0gdmVjMiB1U2NhbGU7XFxudW5pZm9ybSB2ZWMyIHVTdHJva2VTY2FsZTtcXG51bmlmb3JtIGZsb2F0IHVXaWR0aDtcXG5cXG52b2lkIG1haW4oKSB7XFxuICAgIGdsX1Bvc2l0aW9uID0gdmVjNChcXG4gICAgICAgIChhVmVydGV4UG9zaXRpb24gKyB1VHJhbnNsYXRlKSAqIHVTY2FsZSArIG5vcm1hbGl6ZShhVmVydGV4Tm9ybWFsKSAqIHVXaWR0aCAqIHVTdHJva2VTY2FsZSxcXG4gICAgICAgIDAuMCwgMS4wKTtcXG59XFxuXCI7IiwiZXhwb3J0IGRlZmF1bHQgXCJcXG4jaWZkZWYgR0xfRVNcXG4gICAgcHJlY2lzaW9uIGhpZ2hwIGZsb2F0O1xcbiNlbmRpZlxcblxcbnVuaWZvcm0gdmVjMyB1U3Ryb2tlQ29sb3I7XFxuXFxudm9pZCBtYWluKCkge1xcbiAgICBnbF9GcmFnQ29sb3IgPSB2ZWM0KHVTdHJva2VDb2xvciwgMS4wKTtcXG59XFxuXCI7IiwiXG5pbXBvcnQgRWFydGhGcmFnbWVudFNoYWRlciBmcm9tICcuL3NoYWRlcnMvZWFydGgtZnJhZ21lbnQtc2hhZGVyLmdsc2wnO1xuaW1wb3J0IEVhcnRoVmVydGV4U2hhZGVyIGZyb20gJy4vc2hhZGVycy9lYXJ0aC12ZXJ0ZXgtc2hhZGVyLmdsc2wnO1xuXG5pbXBvcnQgV2ViR0xSZW5kZXJlciBmcm9tICcuL3dlYmdsLXJlbmRlcmVyJztcblxuY29uc3QgVEVYVFVSRV9IRUlHSFQgPSAyMDQ4O1xuY29uc3QgVEVYVFVSRV9XSURUSCA9IDQwOTY7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFdlYkdMUmVuZGVyZXIzZCBleHRlbmRzIFdlYkdMUmVuZGVyZXIge1xuICAgIHByb2plY3Rpb24oYXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIFsuLi5hcnJheV07XG4gICAgfVxuXG4gICAgYXBwbHlQcm9qZWN0aW9uKF9hcnJheSkge1xuICAgICAgICAvLyBUaGlzIGlzIGEgbm9vcFxuICAgIH1cblxuICAgIGNsaWVudFBvc1RvU3BoZXJlUG9zKGNsaWVudF9wb3MsIG1hcF9wb3MsIHN0YXRlKSB7XG4gICAgICAgIGNvbnN0IHNjYWxlID0gdGhpcy5nZW5lcmF0ZVNjYWxlKHN0YXRlKTtcbiAgICAgICAgY29uc3QgcG9zID0gW1xuICAgICAgICAgICAgKDIgKiAoY2xpZW50X3Bvc1swXSAtIG1hcF9wb3MueCkgLyBtYXBfcG9zLndpZHRoIC0gMS4wKSAvIHNjYWxlWzBdLFxuICAgICAgICAgICAgKDEuMCAtIDIgKiAoY2xpZW50X3Bvc1sxXSAtIG1hcF9wb3MueSkgLyBtYXBfcG9zLmhlaWdodCkgLyBzY2FsZVsxXSxcbiAgICAgICAgICAgIDBcbiAgICAgICAgXTtcbiAgICAgICAgcG9zWzJdID0gMSAtIHBvc1swXSAqIHBvc1swXSAtIHBvc1sxXSAqIHBvc1sxXTtcbiAgICAgICAgaWYgKHBvc1syXSA8IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc3QgPSBNYXRoLnNxcnQocG9zWzBdKnBvc1swXSArIHBvc1sxXSpwb3NbMV0pO1xuICAgICAgICAgICAgcG9zWzBdIC89IGRpc3Q7XG4gICAgICAgICAgICBwb3NbMV0gLz0gZGlzdDtcbiAgICAgICAgICAgIHBvc1syXSA9IDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwb3NbMl0gPSBNYXRoLnNxcnQocG9zWzJdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcG9zO1xuICAgIH1cblxuICAgIGNsaWVudFBvc1RvU29tZVBvcyhjbGllbnRfcG9zLCBtYXBfcG9zLCBzdGF0ZSkge1xuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLmNsaWVudFBvc1RvU3BoZXJlUG9zKGNsaWVudF9wb3MsIG1hcF9wb3MsIHN0YXRlKVxuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMubWF0M1ZlY011bCh0aGlzLmdlbmVyYXRlVHJhbnNmb3JtKHN0YXRlKSwgcG9zKVxuICAgICAgICBjb25zdCBjb29yZCA9IFtcbiAgICAgICAgICAgIE1hdGguYXRhbjIocG9zaXRpb25bMF0sIHBvc2l0aW9uWzJdKSxcbiAgICAgICAgICAgIE1hdGguYXRhbjIocG9zaXRpb25bMV0sIE1hdGguc3FydChwb3NpdGlvblswXSAqIHBvc2l0aW9uWzBdICsgcG9zaXRpb25bMl0gKiBwb3NpdGlvblsyXSkpLFxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gY29vcmQ7XG4gICAgfVxuXG4gICAgbm9ybWFsaXplQXJvdW5kKHgsIGEpIHtcbiAgICAgICAgaWYgKHggPCBhIC0gTWF0aC5QSSkge1xuICAgICAgICAgICAgcmV0dXJuIHggKyAyICogTWF0aC5QSSAqIE1hdGguZmxvb3IoKGEgKyBNYXRoLlBJIC0geCkgLyAoMiAqIE1hdGguUEkpKTtcbiAgICAgICAgfSBlbHNlIGlmICh4ID4gYSArIE1hdGguUEkpIHtcbiAgICAgICAgICAgIHJldHVybiB4IC0gMiAqIE1hdGguUEkgKiBNYXRoLmZsb29yKCh4ICsgTWF0aC5QSSAtIGEpIC8gKDIgKiBNYXRoLlBJKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsaWVudFBvc1RvTWFwUG9zKGNsaWVudF9wb3MsIG1hcF9wb3MsIHN0YXRlKSB7XG4gICAgICAgIGNvbnN0IHsgY2VudGVyIH0gPSBzdGF0ZTtcbiAgICAgICAgY29uc3QgcG9zID0gdGhpcy5jbGllbnRQb3NUb1NwaGVyZVBvcyhjbGllbnRfcG9zLCBtYXBfcG9zLCBzdGF0ZSlcbiAgICAgICAgY29uc3QgY29vcmQgPSBjZW50ZXJbMV0gKyBNYXRoLmF0YW4yKHBvc1sxXSwgTWF0aC5zcXJ0KHBvc1swXSAqIHBvc1swXSArIHBvc1syXSAqIHBvc1syXSkpO1xuICAgICAgICBjb25zdCBwcm9qID0gdGhpcy5jbGllbnRQb3NUb1NvbWVQb3MoY2xpZW50X3BvcywgbWFwX3Bvcywgc3RhdGUpO1xuICAgICAgICByZXR1cm4gW3RoaXMubm9ybWFsaXplQXJvdW5kKHByb2pbMF0sIGNlbnRlclswXSksIGNvb3JkXTtcbiAgICB9XG5cbiAgICBjbGllbnRQb3NUb1Byb2pQb3MoY2xpZW50X3BvcywgbWFwX3Bvcywgc3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm9ybWFsaXplUG9zaXRpb24odGhpcy5jbGllbnRQb3NUb1NvbWVQb3MoY2xpZW50X3BvcywgbWFwX3Bvcywgc3RhdGUpKTtcbiAgICB9XG5cbiAgICBwcm9qUG9zVG9DbGllbnRQb3MocHJval9wb3MsIG1hcF9wb3MsIHN0YXRlKSB7XG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gW1xuICAgICAgICAgICAgTWF0aC5jb3MocHJval9wb3NbMV0pICogTWF0aC5zaW4ocHJval9wb3NbMF0pLFxuICAgICAgICAgICAgTWF0aC5zaW4ocHJval9wb3NbMV0pLFxuICAgICAgICAgICAgTWF0aC5jb3MocHJval9wb3NbMV0pICogTWF0aC5jb3MocHJval9wb3NbMF0pLFxuICAgICAgICBdO1xuICAgICAgICBjb25zdCBwb3MgPSB0aGlzLm1hdDNWZWNNdWwodGhpcy5nZW5lcmF0ZUludmVyc2VUcmFuc2Zvcm0oc3RhdGUpLCBwb3NpdGlvbilcbiAgICAgICAgaWYgKHBvc1syXSA8IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc3QgPSBNYXRoLnNxcnQocG9zWzBdKnBvc1swXSArIHBvc1sxXSpwb3NbMV0pO1xuICAgICAgICAgICAgcG9zWzBdIC89IGRpc3Q7XG4gICAgICAgICAgICBwb3NbMV0gLz0gZGlzdDtcbiAgICAgICAgICAgIHBvc1syXSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2NhbGUgPSB0aGlzLmdlbmVyYXRlU2NhbGUoc3RhdGUpO1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgKHBvc1swXSAqIHNjYWxlWzBdICsgMSkgLyAyICogbWFwX3Bvcy53aWR0aCArIG1hcF9wb3MueCxcbiAgICAgICAgICAgICgxIC0gcG9zWzFdICogc2NhbGVbMV0pIC8gMiAqIG1hcF9wb3MuaGVpZ2h0ICsgbWFwX3Bvcy55XG4gICAgICAgIF07XG4gICAgfVxuICAgIFxuICAgIGdlbmVyYXRlU2NhbGUoe3NpemUsIHNjYWxlOiB6b29tX3NjYWxlfSkge1xuICAgICAgICBsZXQgc2NhbGU7XG4gICAgICAgIGlmKHNpemVbMF0gPCBzaXplWzFdKSB7XG4gICAgICAgICAgICBzY2FsZSA9IFt6b29tX3NjYWxlLCAoc2l6ZVswXSAvIHNpemVbMV0pICogem9vbV9zY2FsZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzY2FsZSA9IFsoc2l6ZVsxXSAvIHNpemVbMF0pICogem9vbV9zY2FsZSwgem9vbV9zY2FsZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNjYWxlO1xuICAgIH1cblxuICAgIG1hdDNNdWwoYSwgYikge1xuICAgICAgICBjb25zdCByZXMgPSBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF07XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IDM7IGorKykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGsgPSAwOyBrIDwgMzsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc1szKmkgKyBqXSArPSBhWzMqaSArIGtdICogYlszKmsgKyBqXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBtYXQzVmVjTXVsKGEsIHYpIHtcbiAgICAgICAgY29uc3QgcmVzID0gWzAsIDAsIDBdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCAzOyBqKyspIHtcbiAgICAgICAgICAgICAgICByZXNbaV0gKz0gYVszKmogKyBpXSAqIHZbal07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBtYXQzUm90YXRpb24oYXhpcywgYW5nbGUpIHtcbiAgICAgICAgY29uc3QgcmVzID0gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdO1xuICAgICAgICByZXNbMypheGlzICsgYXhpc10gPSAxO1xuICAgICAgICByZXNbMyooKGF4aXMgKyAxKSAlIDMpICsgKGF4aXMgKyAxKSAlIDNdID0gTWF0aC5jb3MoYW5nbGUpO1xuICAgICAgICByZXNbMyooKGF4aXMgKyAyKSAlIDMpICsgKGF4aXMgKyAxKSAlIDNdID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgICAgICByZXNbMyooKGF4aXMgKyAxKSAlIDMpICsgKGF4aXMgKyAyKSAlIDNdID0gLU1hdGguc2luKGFuZ2xlKTtcbiAgICAgICAgcmVzWzMqKChheGlzICsgMikgJSAzKSArIChheGlzICsgMikgJSAzXSA9IE1hdGguY29zKGFuZ2xlKTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBnZW5lcmF0ZVRyYW5zZm9ybShzdGF0ZSkge1xuICAgICAgICBjb25zdCB7IGNlbnRlciB9ID0gc3RhdGU7XG4gICAgICAgIHJldHVybiB0aGlzLm1hdDNNdWwodGhpcy5tYXQzUm90YXRpb24oMCwgY2VudGVyWzFdKSwgdGhpcy5tYXQzUm90YXRpb24oMSwgLWNlbnRlclswXSkpXG4gICAgfVxuXG4gICAgZ2VuZXJhdGVJbnZlcnNlVHJhbnNmb3JtKHN0YXRlKSB7XG4gICAgICAgIGNvbnN0IHsgY2VudGVyIH0gPSBzdGF0ZTtcbiAgICAgICAgcmV0dXJuIHRoaXMubWF0M011bCh0aGlzLm1hdDNSb3RhdGlvbigxLCBjZW50ZXJbMF0pLCB0aGlzLm1hdDNSb3RhdGlvbigwLCAtY2VudGVyWzFdKSlcbiAgICB9XG5cbiAgICBub3JtYWxpemVQb3NpdGlvbihbYmV0YSwgZ2FtbWFdKSB7XG4gICAgICAgIGdhbW1hID0gKGdhbW1hICsgTWF0aC5QSSkgJSAoMiAqIE1hdGguUEkpO1xuICAgICAgICBnYW1tYSA9ICgyICogTWF0aC5QSSArIGdhbW1hKSAlICgyICogTWF0aC5QSSkgLSBNYXRoLlBJO1xuICAgICAgICBpZiAoZ2FtbWEgPCAtTWF0aC5QSSAvIDIpIHtcbiAgICAgICAgICAgIGJldGEgKz0gTWF0aC5QSTtcbiAgICAgICAgICAgIGdhbW1hID0gTWF0aC5hYnMoLU1hdGguUEkgLyAyIC0gZ2FtbWEpIC0gTWF0aC5QSSAvIDI7XG4gICAgICAgIH0gZWxzZSBpZiAoZ2FtbWEgPiBNYXRoLlBJIC8gMikge1xuICAgICAgICAgICAgYmV0YSArPSBNYXRoLlBJO1xuICAgICAgICAgICAgZ2FtbWEgPSBNYXRoLlBJIC8gMiAtIE1hdGguYWJzKGdhbW1hIC0gTWF0aC5QSSAvIDIpO1xuICAgICAgICB9XG4gICAgICAgIGJldGEgPSAoYmV0YSArIE1hdGguUEkpICUgKDIgKiBNYXRoLlBJKTtcbiAgICAgICAgYmV0YSA9ICgyICogTWF0aC5QSSArIGJldGEpICUgKDIgKiBNYXRoLlBJKTtcbiAgICAgICAgcmV0dXJuIFtiZXRhIC0gTWF0aC5QSSwgZ2FtbWFdO1xuICAgIH1cblxuICAgIGdlbmVyYXRlVGV4TWluTWF4KHN0YXRlKSB7XG4gICAgICAgIGNvbnN0IHsgY2VudGVyIH0gPSBzdGF0ZTtcbiAgICAgICAgY29uc3Qgc2NyZWVuX3NjYWxlID0gdGhpcy5nZW5lcmF0ZVNjYWxlKHN0YXRlKTtcbiAgICAgICAgY29uc3QgW2JldGEsIGdhbW1hXSA9IHRoaXMubm9ybWFsaXplUG9zaXRpb24oY2VudGVyKTtcbiAgICAgICAgbGV0IHJlcztcbiAgICAgICAgaWYgKDEgLyAoc2NyZWVuX3NjYWxlWzBdICogc2NyZWVuX3NjYWxlWzBdKSArIDEgLyAoc2NyZWVuX3NjYWxlWzFdICogc2NyZWVuX3NjYWxlWzFdKSA+IDEpIHtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhnYW1tYSkgPCAwLjEpIHtcbiAgICAgICAgICAgICAgICByZXMgPSBbXG4gICAgICAgICAgICAgICAgICAgIFswLjUgKyBiZXRhIC8gTWF0aC5QSSAvIDIgLSAwLjI2LCAwXSxcbiAgICAgICAgICAgICAgICAgICAgWzAuNSArIGJldGEgLyBNYXRoLlBJIC8gMiArIDAuMjYsIDFdXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZ2FtbWEgPCAwKSB7XG4gICAgICAgICAgICAgICAgcmVzID0gW1swLCAwXSwgWzEsIDEgKyBnYW1tYSAvIE1hdGguUEldXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzID0gW1swLCBnYW1tYSAvIE1hdGguUEldLCBbMSwgMV1dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKDAuNSAtIE1hdGguYWJzKGdhbW1hKSAvIE1hdGguUEkgPCBNYXRoLm1heCgwLjA1LCAwLjUgLyBzY3JlZW5fc2NhbGVbMV0pKSB7XG4gICAgICAgICAgICBpZiAoZ2FtbWEgPCAwKSB7XG4gICAgICAgICAgICAgICAgcmVzID0gW1swLCAwXSwgWzEsIDEgKyBnYW1tYSAvIE1hdGguUEldXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzID0gW1swLCBnYW1tYSAvIE1hdGguUEldLCBbMSwgMV1dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgc2l6ZV94ID0gTWF0aC5taW4oMC4yNSwgMC4yNSAqICgxICsgKE1hdGguYWJzKGdhbW1hKSAvIE1hdGguUEkgPiAwLjQgPyAzIDogMSkgKiBNYXRoLmFicyhnYW1tYSkpIC8gc2NyZWVuX3NjYWxlWzBdKTtcbiAgICAgICAgICAgIGNvbnN0IHNpemVfeSA9IE1hdGgubWluKDAuMjUsIDAuMjUgKiAoMSArIE1hdGguYWJzKGdhbW1hKSkgLyBzY3JlZW5fc2NhbGVbMV0pO1xuICAgICAgICAgICAgcmVzID0gW1xuICAgICAgICAgICAgICAgIFswLjUgKyBiZXRhIC8gTWF0aC5QSSAvIDIgLSBzaXplX3gsIDAuNSArIGdhbW1hIC8gTWF0aC5QSSAtIDIgKiBzaXplX3ldLFxuICAgICAgICAgICAgICAgIFswLjUgKyBiZXRhIC8gTWF0aC5QSSAvIDIgKyBzaXplX3gsIDAuNSArIGdhbW1hIC8gTWF0aC5QSSArIDIgKiBzaXplX3ldXG4gICAgICAgICAgICBdO1xuICAgICAgICB9XG4gICAgICAgIHJlc1swXVswXSA9ICgxICsgKHJlc1swXVswXSAlIDEpKSAlIDE7XG4gICAgICAgIHJlc1sxXVswXSA9ICgxICsgKHJlc1sxXVswXSAlIDEpKSAlIDE7XG4gICAgICAgIGlmIChyZXNbMV1bMF0gPD0gcmVzWzBdWzBdKSB7XG4gICAgICAgICAgICByZXNbMV1bMF0gKz0gMTtcbiAgICAgICAgfVxuICAgICAgICByZXNbMF1bMV0gPSBNYXRoLm1pbigxLCBNYXRoLm1heCgwLCByZXNbMF1bMV0pKTtcbiAgICAgICAgcmVzWzFdWzFdID0gTWF0aC5taW4oMSwgTWF0aC5tYXgoMCwgcmVzWzFdWzFdKSk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgaW5pdEZvckNvbnRleHQoY2FudmFzLCBnbCwgbG9jYXRpb25zLCBsb2NhdGlvbl9kYXRhKSB7XG4gICAgICAgIHN1cGVyLmluaXRGb3JDb250ZXh0KGNhbnZhcywgZ2wsIGxvY2F0aW9ucywgbG9jYXRpb25fZGF0YSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCB0ZXh0dXJlID0gZ2wuY3JlYXRlVGV4dHVyZSgpO1xuICAgICAgICBnbC5iaW5kVGV4dHVyZShnbC5URVhUVVJFXzJELCB0ZXh0dXJlKTtcbiAgICAgICAgZ2wudGV4SW1hZ2UyRChnbC5URVhUVVJFXzJELCAwLCBnbC5SR0JBLCBURVhUVVJFX1dJRFRILCBURVhUVVJFX0hFSUdIVCwgMCwgZ2wuUkdCQSwgZ2wuVU5TSUdORURfQllURSwgbnVsbCk7XG4gICAgICAgIGdsLnRleFBhcmFtZXRlcmkoZ2wuVEVYVFVSRV8yRCwgZ2wuVEVYVFVSRV9NSU5fRklMVEVSLCBnbC5MSU5FQVIpO1xuICAgICAgICBnbC50ZXhQYXJhbWV0ZXJpKGdsLlRFWFRVUkVfMkQsIGdsLlRFWFRVUkVfV1JBUF9TLCBnbC5DTEFNUF9UT19FREdFKTtcbiAgICAgICAgZ2wudGV4UGFyYW1ldGVyaShnbC5URVhUVVJFXzJELCBnbC5URVhUVVJFX1dSQVBfVCwgZ2wuQ0xBTVBfVE9fRURHRSk7XG5cbiAgICAgICAgY29uc3QgZWFydGhfc2hhZGVyX3Byb2dyYW0gPSB0aGlzLmNyZWF0ZVNoYWRlclByb2dyYW0oZ2wsIEVhcnRoVmVydGV4U2hhZGVyLCBFYXJ0aEZyYWdtZW50U2hhZGVyKTtcbiAgICAgICAgY29uc3QgZWFydGhfcG9zaXRpb25fYXR0cmlidXRlID0gZ2wuZ2V0QXR0cmliTG9jYXRpb24oZWFydGhfc2hhZGVyX3Byb2dyYW0sICdhVmVydGV4UG9zaXRpb24nKTtcbiAgICAgICAgY29uc3QgZWFydGhfc2NhbGVfdW5pZm9ybSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihlYXJ0aF9zaGFkZXJfcHJvZ3JhbSwgJ3VTY2FsZScpO1xuICAgICAgICBjb25zdCBlYXJ0aF9zY2FsZTJfdW5pZm9ybSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihlYXJ0aF9zaGFkZXJfcHJvZ3JhbSwgJ3VTY2FsZVonKTtcbiAgICAgICAgY29uc3QgZWFydGhfc2FtcGxlcl91bmlmb3JtID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKGVhcnRoX3NoYWRlcl9wcm9ncmFtLCAndVNhbXBsZXInKTtcbiAgICAgICAgY29uc3QgZWFydGhfdGV4bWluX3VuaWZvcm0gPSBnbC5nZXRVbmlmb3JtTG9jYXRpb24oZWFydGhfc2hhZGVyX3Byb2dyYW0sICd1VGV4TWluJyk7XG4gICAgICAgIGNvbnN0IGVhcnRoX3RleG1heF91bmlmb3JtID0gZ2wuZ2V0VW5pZm9ybUxvY2F0aW9uKGVhcnRoX3NoYWRlcl9wcm9ncmFtLCAndVRleE1heCcpO1xuICAgICAgICBjb25zdCBlYXJ0aF90cmFuc2Zvcm1fdW5pZm9ybSA9IGdsLmdldFVuaWZvcm1Mb2NhdGlvbihlYXJ0aF9zaGFkZXJfcHJvZ3JhbSwgJ3VUcmFuc2Zvcm0nKTtcblxuICAgICAgICBjb25zdCBlYXJ0aF92ZXJ0aWNlcyA9IG5ldyBGbG9hdDMyQXJyYXkoOCk7XG4gICAgICAgIHtcbiAgICAgICAgICAgIGVhcnRoX3ZlcnRpY2VzWzBdID0gLTI7XG4gICAgICAgICAgICBlYXJ0aF92ZXJ0aWNlc1sxXSA9IDI7XG4gICAgICAgICAgICBlYXJ0aF92ZXJ0aWNlc1syXSA9IDI7XG4gICAgICAgICAgICBlYXJ0aF92ZXJ0aWNlc1szXSA9IDI7XG4gICAgICAgICAgICBlYXJ0aF92ZXJ0aWNlc1s0XSA9IDI7XG4gICAgICAgICAgICBlYXJ0aF92ZXJ0aWNlc1s1XSA9IC0yO1xuICAgICAgICAgICAgZWFydGhfdmVydGljZXNbNl0gPSAtMjtcbiAgICAgICAgICAgIGVhcnRoX3ZlcnRpY2VzWzddID0gLTI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZWFydGhfdHJpYW5nbGVzID0gbmV3IFVpbnQxNkFycmF5KDYpO1xuICAgICAgICB7XG4gICAgICAgICAgICBlYXJ0aF90cmlhbmdsZXNbMF0gPSAwO1xuICAgICAgICAgICAgZWFydGhfdHJpYW5nbGVzWzFdID0gMTtcbiAgICAgICAgICAgIGVhcnRoX3RyaWFuZ2xlc1syXSA9IDI7XG4gICAgICAgICAgICBlYXJ0aF90cmlhbmdsZXNbM10gPSAyO1xuICAgICAgICAgICAgZWFydGhfdHJpYW5nbGVzWzRdID0gMztcbiAgICAgICAgICAgIGVhcnRoX3RyaWFuZ2xlc1s1XSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZWFydGhfcG9zaXRpb25fYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCBlYXJ0aF9wb3NpdGlvbl9idWZmZXIpO1xuICAgICAgICBnbC5idWZmZXJEYXRhKGdsLkFSUkFZX0JVRkZFUiwgZWFydGhfdmVydGljZXMsIGdsLlNUQVRJQ19EUkFXKTtcbiAgICAgICAgY29uc3QgZWFydGhfaW5kZXhfYnVmZmVyID0gZ2wuY3JlYXRlQnVmZmVyKCk7XG4gICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGVhcnRoX2luZGV4X2J1ZmZlcik7XG4gICAgICAgIGdsLmJ1ZmZlckRhdGEoZ2wuRUxFTUVOVF9BUlJBWV9CVUZGRVIsIGVhcnRoX3RyaWFuZ2xlcywgZ2wuU1RBVElDX0RSQVcpO1xuXG4gICAgICAgIHRoaXMud2ViZ2xfZGF0YS50ZXh0dXJlID0gdGV4dHVyZTtcbiAgICAgICAgdGhpcy53ZWJnbF9kYXRhLmVhcnRoX2RhdGEgPSB7XG4gICAgICAgICAgICBzaGFkZXJfcHJvZ3JhbTogZWFydGhfc2hhZGVyX3Byb2dyYW0sXG4gICAgICAgICAgICBwb3NpdGlvbl9hdHRyaWJ1dGU6IGVhcnRoX3Bvc2l0aW9uX2F0dHJpYnV0ZSxcbiAgICAgICAgICAgIHNjYWxlX3VuaWZvcm06IGVhcnRoX3NjYWxlX3VuaWZvcm0sXG4gICAgICAgICAgICBzY2FsZTJfdW5pZm9ybTogZWFydGhfc2NhbGUyX3VuaWZvcm0sXG4gICAgICAgICAgICBzYW1wbGVyX3VuaWZvcm06IGVhcnRoX3NhbXBsZXJfdW5pZm9ybSxcbiAgICAgICAgICAgIHRleG1pbl91bmlmb3JtOiBlYXJ0aF90ZXhtaW5fdW5pZm9ybSxcbiAgICAgICAgICAgIHRleG1heF91bmlmb3JtOiBlYXJ0aF90ZXhtYXhfdW5pZm9ybSxcbiAgICAgICAgICAgIHRyYW5zZm9ybV91bmlmb3JtOiBlYXJ0aF90cmFuc2Zvcm1fdW5pZm9ybSxcbiAgICAgICAgICAgIHZlcnRpY2VzOiBlYXJ0aF92ZXJ0aWNlcyxcbiAgICAgICAgICAgIHRyaWFuZ2xlczogZWFydGhfdHJpYW5nbGVzLFxuICAgICAgICAgICAgZ2xfcG9zaXRpb25fYnVmZmVyOiBlYXJ0aF9wb3NpdGlvbl9idWZmZXIsXG4gICAgICAgICAgICBnbF9pbmRleF9idWZmZXI6IGVhcnRoX2luZGV4X2J1ZmZlcixcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBkZWluaXRSZXNvdXJjZXMobG9jYXRpb25zLCBsb2NhdGlvbl9kYXRhKSB7XG4gICAgICAgIGlmICh0aGlzLndlYmdsX2RhdGE/LmNvbnRleHQpIHtcbiAgICAgICAgICAgIGNvbnN0IGdsID0gdGhpcy53ZWJnbF9kYXRhLmNvbnRleHQ7XG4gICAgICAgICAgICBnbC5kZWxldGVUZXh0dXJlKHRoaXMud2ViZ2xfZGF0YS50ZXh0dXJlKTtcbiAgICAgICAgICAgIGdsLmRlbGV0ZUJ1ZmZlcih0aGlzLndlYmdsX2RhdGEuZWFydGhfZGF0YS5nbF9wb3NpdGlvbl9idWZmZXIpO1xuICAgICAgICAgICAgZ2wuZGVsZXRlQnVmZmVyKHRoaXMud2ViZ2xfZGF0YS5lYXJ0aF9kYXRhLmdsX2luZGV4X2J1ZmZlcik7XG4gICAgICAgICAgICBnbC5nZXRBdHRhY2hlZFNoYWRlcnModGhpcy53ZWJnbF9kYXRhLmVhcnRoX2RhdGEuc2hhZGVyX3Byb2dyYW0pLmZvckVhY2gocyA9PiB7XG4gICAgICAgICAgICAgICAgZ2wuZGVsZXRlU2hhZGVyKHMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBnbC5kZWxldGVQcm9ncmFtKHRoaXMud2ViZ2xfZGF0YS5lYXJ0aF9kYXRhLnNoYWRlcl9wcm9ncmFtKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlci5kZWluaXRSZXNvdXJjZXMobG9jYXRpb25zLCBsb2NhdGlvbl9kYXRhKTtcbiAgICB9XG5cbiAgICByZW5kZXJUb1RleHR1cmUobG9jYXRpb25zLCBsb2NhdGlvbl9kYXRhLCBzdGF0ZSwgbWluLCBtYXgpIHtcbiAgICAgICAgY29uc3QgZ2wgPSB0aGlzLndlYmdsX2RhdGEuY29udGV4dDtcbiAgICAgICAgY29uc3QgZmlsbF9kYXRhID0gdGhpcy53ZWJnbF9kYXRhLmZpbGxfZGF0YTtcbiAgICAgICAgY29uc3Qgc3Ryb2tlX2RhdGEgPSB0aGlzLndlYmdsX2RhdGEuc3Ryb2tlX2RhdGE7XG5cbiAgICAgICAgY29uc3QgZmIgPSBnbC5jcmVhdGVGcmFtZWJ1ZmZlcigpO1xuICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIGZiKTtcbiAgICAgICAgY29uc3QgYXR0YWNobWVudCA9IGdsLkNPTE9SX0FUVEFDSE1FTlQwO1xuICAgICAgICBnbC5mcmFtZWJ1ZmZlclRleHR1cmUyRChnbC5GUkFNRUJVRkZFUiwgYXR0YWNobWVudCwgZ2wuVEVYVFVSRV8yRCwgdGhpcy53ZWJnbF9kYXRhLnRleHR1cmUsIDApO1xuICAgICAgICBnbC52aWV3cG9ydCgwLCAwLCBURVhUVVJFX1dJRFRILCBURVhUVVJFX0hFSUdIVCk7XG5cbiAgICAgICAgY29uc3QgdHJhbnNsYXRlID0gW1xuICAgICAgICAgICAgMiAqIE1hdGguUEkgKiAoMC41IC0gKG1pblswXSArIG1heFswXSkgLyAyKSxcbiAgICAgICAgICAgIE1hdGguUEkgKiAoMC41IC0gKG1pblsxXSArIG1heFsxXSkgLyAyKSxcbiAgICAgICAgXTtcbiAgICAgICAgY29uc3Qgc2NhbGUgPSBbMSAvIChtYXhbMF0gLSBtaW5bMF0pIC8gTWF0aC5QSSwgMiAvIChtYXhbMV0gLSBtaW5bMV0pIC8gTWF0aC5QSV07XG4gICAgICAgIGNvbnN0IHN0cm9rZV9zY2FsZSA9IFtcbiAgICAgICAgICAgIDAuNSAvIChtYXhbMF0gLSBtaW5bMF0pIC8gc3RhdGUuc2NhbGUsXG4gICAgICAgICAgICAwLjUgLyAobWF4WzFdIC0gbWluWzFdKSAvIHN0YXRlLnNjYWxlXG4gICAgICAgIF07XG5cbiAgICAgICAgZ2wuY2xlYXJDb2xvcigwLjAsIDAuMCwgMC4wLCAwLjApO1xuICAgICAgICBnbC5jbGVhcihnbC5DT0xPUl9CVUZGRVJfQklUKTtcblxuICAgICAgICBmb3IgKGxldCB4ID0gMDsgeCA8PSAxOyB4KyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYXRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbG9jID0gbG9jYXRpb25zW2ldO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRyaWFuZ2xlcyA9IGxvY2F0aW9uX2RhdGFbbG9jLmlkXTtcbiAgICAgICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgICAgICh0cmlhbmdsZXMubWluWzBdICsgdHJhbnNsYXRlWzBdKSAqIHNjYWxlWzBdIDw9IDFcbiAgICAgICAgICAgICAgICAgICAgJiYgKHRyaWFuZ2xlcy5tYXhbMF0gKyB0cmFuc2xhdGVbMF0pICogc2NhbGVbMF0gPj0gLTFcbiAgICAgICAgICAgICAgICAgICAgJiYgKHRyaWFuZ2xlcy5taW5bMV0gKyB0cmFuc2xhdGVbMV0pICogc2NhbGVbMV0gPD0gMVxuICAgICAgICAgICAgICAgICAgICAmJiAodHJpYW5nbGVzLm1heFsxXSArIHRyYW5zbGF0ZVsxXSkgKiBzY2FsZVsxXSA+PSAtMVxuICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAvLyBEcmF3IHN0cm9rZVxuICAgICAgICAgICAgICAgICAgICBnbC51c2VQcm9ncmFtKHN0cm9rZV9kYXRhLnNoYWRlcl9wcm9ncmFtKTtcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTJmdihzdHJva2VfZGF0YS50cmFuc2xhdGVfdW5pZm9ybSwgdHJhbnNsYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTJmdihzdHJva2VfZGF0YS5zY2FsZV91bmlmb3JtLCBzY2FsZSk7XG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0yZnYoc3Ryb2tlX2RhdGEuc2NhbGUyX3VuaWZvcm0sIHN0cm9rZV9zY2FsZSk7XG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0xZihzdHJva2VfZGF0YS53aWR0aF91bmlmb3JtLCAwLjAwNSk7XG4gICAgICAgICAgICAgICAgICAgIGdsLnVuaWZvcm0zZnYoc3Ryb2tlX2RhdGEuY29sb3JfdW5pZm9ybSwgWzAuMjcxLCAwLjMwMiwgMC4zOF0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGdsLmJpbmRCdWZmZXIoZ2wuQVJSQVlfQlVGRkVSLCB0cmlhbmdsZXMuZ2xfb3V0bGluZV9ub3JtYWxfYnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihzdHJva2VfZGF0YS5ub3JtYWxfYXR0cmlidXRlLCAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuICAgICAgICAgICAgICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShzdHJva2VfZGF0YS5ub3JtYWxfYXR0cmlidXRlKTtcblxuICAgICAgICAgICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdHJpYW5nbGVzLmdsX291dGxpbmVfcG9zaXRpb25fYnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgZ2wudmVydGV4QXR0cmliUG9pbnRlcihzdHJva2VfZGF0YS5wb3NpdGlvbl9hdHRyaWJ1dGUsIDIsIGdsLkZMT0FULCBmYWxzZSwgMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgIGdsLmVuYWJsZVZlcnRleEF0dHJpYkFycmF5KHN0cm9rZV9kYXRhLnBvc2l0aW9uX2F0dHJpYnV0ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZ2wuZHJhd0FycmF5cyhnbC5UUklBTkdMRVMsIDAsIHRyaWFuZ2xlcy5vdXRsaW5lX3RyaWFuZ2xlcy5sZW5ndGggLyAyKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBEcmF3IGZpbGxcbiAgICAgICAgICAgICAgICAgICAgZ2wudXNlUHJvZ3JhbShmaWxsX2RhdGEuc2hhZGVyX3Byb2dyYW0pO1xuICAgICAgICAgICAgICAgICAgICBnbC51bmlmb3JtMmZ2KGZpbGxfZGF0YS50cmFuc2xhdGVfdW5pZm9ybSwgdHJhbnNsYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTJmdihmaWxsX2RhdGEuc2NhbGVfdW5pZm9ybSwgc2NhbGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobG9jLmlkID09PSBzdGF0ZS5ob3Zlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTNmdihmaWxsX2RhdGEuY29sb3JfdW5pZm9ybSwgbG9jLmNvbG9yLm1hcChlbCA9PiBlbCAqIDAuOCkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ2wudW5pZm9ybTNmdihmaWxsX2RhdGEuY29sb3JfdW5pZm9ybSwgbG9jLmNvbG9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgdHJpYW5nbGVzLmdsX3Bvc2l0aW9uX2J1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgIGdsLnZlcnRleEF0dHJpYlBvaW50ZXIoZmlsbF9kYXRhLnBvc2l0aW9uX2F0dHJpYnV0ZSwgMiwgZ2wuRkxPQVQsIGZhbHNlLCAwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgZ2wuZW5hYmxlVmVydGV4QXR0cmliQXJyYXkoZmlsbF9kYXRhLnBvc2l0aW9uX2F0dHJpYnV0ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgdHJpYW5nbGVzLmdsX2luZGV4X2J1ZmZlcik7XG4gICAgICAgICAgICAgICAgICAgIGdsLmRyYXdFbGVtZW50cyhnbC5UUklBTkdMRVMsIHRyaWFuZ2xlcy50cmlhbmdsZXMubGVuZ3RoLCBnbC5VTlNJR05FRF9TSE9SVCwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJhbnNsYXRlWzBdICs9IDIgKiBNYXRoLlBJO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2wudmlld3BvcnQoMCwgMCwgdGhpcy53ZWJnbF9kYXRhLmNhbnZhcy5jbGllbnRXaWR0aCwgdGhpcy53ZWJnbF9kYXRhLmNhbnZhcy5jbGllbnRIZWlnaHQpO1xuICAgICAgICBnbC5iaW5kRnJhbWVidWZmZXIoZ2wuRlJBTUVCVUZGRVIsIG51bGwpO1xuICAgIH1cblxuICAgIHJlbmRlck1hcEluQ29udGV4dChsb2NhdGlvbnMsIGxvY2F0aW9uX2RhdGEsIHN0YXRlKSB7XG4gICAgICAgIGNvbnN0IGdsID0gdGhpcy53ZWJnbF9kYXRhLmNvbnRleHQ7XG4gICAgICAgIGNvbnN0IGVhcnRoX2RhdGEgPSB0aGlzLndlYmdsX2RhdGEuZWFydGhfZGF0YTtcbiAgICAgICAgY29uc3QgW21pbiwgbWF4XSA9IHRoaXMuZ2VuZXJhdGVUZXhNaW5NYXgoc3RhdGUpO1xuXG4gICAgICAgIHRoaXMucmVuZGVyVG9UZXh0dXJlKGxvY2F0aW9ucywgbG9jYXRpb25fZGF0YSwgc3RhdGUsIG1pbiwgbWF4KTtcblxuICAgICAgICBnbC5jbGVhckNvbG9yKDAuMCwgMC4wLCAwLjAsIDAuMCk7XG4gICAgICAgIGdsLmNsZWFyRGVwdGgoMSk7XG4gICAgICAgIGdsLmNsZWFyKGdsLkNPTE9SX0JVRkZFUl9CSVQpO1xuXG4gICAgICAgIC8vIERyYXcgZ2xvYmVcbiAgICAgICAgZ2wudXNlUHJvZ3JhbShlYXJ0aF9kYXRhLnNoYWRlcl9wcm9ncmFtKTtcbiAgICAgICAgZ2wudW5pZm9ybTJmdihlYXJ0aF9kYXRhLnNjYWxlX3VuaWZvcm0sIHRoaXMuZ2VuZXJhdGVTY2FsZShzdGF0ZSkpO1xuICAgICAgICBnbC51bmlmb3JtMmZ2KGVhcnRoX2RhdGEuc2NhbGVfdW5pZm9ybSwgdGhpcy5nZW5lcmF0ZVNjYWxlKHN0YXRlKSk7XG4gICAgICAgIGdsLnVuaWZvcm0xZnYoZWFydGhfZGF0YS5zY2FsZTJfdW5pZm9ybSwgW3N0YXRlLnNjYWxlXSk7XG4gICAgICAgIGdsLnVuaWZvcm0xaShlYXJ0aF9kYXRhLnNhbXBsZXJfdW5pZm9ybSwgMCk7XG4gICAgICAgIGdsLnVuaWZvcm0yZnYoZWFydGhfZGF0YS50ZXhtaW5fdW5pZm9ybSwgbWluKTtcbiAgICAgICAgZ2wudW5pZm9ybTJmdihlYXJ0aF9kYXRhLnRleG1heF91bmlmb3JtLCBtYXgpO1xuICAgICAgICBnbC51bmlmb3JtTWF0cml4M2Z2KGVhcnRoX2RhdGEudHJhbnNmb3JtX3VuaWZvcm0sIGZhbHNlLCB0aGlzLmdlbmVyYXRlVHJhbnNmb3JtKHN0YXRlKSk7XG4gICAgICAgIFxuICAgICAgICBnbC5iaW5kQnVmZmVyKGdsLkFSUkFZX0JVRkZFUiwgZWFydGhfZGF0YS5nbF9wb3NpdGlvbl9idWZmZXIpO1xuICAgICAgICBnbC52ZXJ0ZXhBdHRyaWJQb2ludGVyKGVhcnRoX2RhdGEucG9zaXRpb25fYXR0cmlidXRlLCAyLCBnbC5GTE9BVCwgZmFsc2UsIDAsIDApO1xuICAgICAgICBnbC5lbmFibGVWZXJ0ZXhBdHRyaWJBcnJheShlYXJ0aF9kYXRhLnBvc2l0aW9uX2F0dHJpYnV0ZSk7XG5cbiAgICAgICAgZ2wuYmluZEJ1ZmZlcihnbC5FTEVNRU5UX0FSUkFZX0JVRkZFUiwgZWFydGhfZGF0YS5nbF9pbmRleF9idWZmZXIpO1xuICAgICAgICBnbC5kcmF3RWxlbWVudHMoZ2wuVFJJQU5HTEVTLCBlYXJ0aF9kYXRhLnRyaWFuZ2xlcy5sZW5ndGgsIGdsLlVOU0lHTkVEX1NIT1JULCAwKTtcbiAgICB9XG59XG5cbiIsImV4cG9ydCBkZWZhdWx0IFwiXFxuYXR0cmlidXRlIHZlYzIgYVZlcnRleFBvc2l0aW9uO1xcblxcbnVuaWZvcm0gdmVjMiB1U2NhbGU7XFxuXFxudmFyeWluZyB2ZWMyIHZQaXhlbFBvcztcXG5cXG52b2lkIG1haW4oKSB7XFxuICAgIHZQaXhlbFBvcyA9IGFWZXJ0ZXhQb3NpdGlvbjtcXG4gICAgZ2xfUG9zaXRpb24gPSB2ZWM0KHVTY2FsZSAqIGFWZXJ0ZXhQb3NpdGlvbiwgMC4wLCAxLjApO1xcbn1cXG5cXG5cIjsiLCJleHBvcnQgZGVmYXVsdCBcIlxcbiNpZmRlZiBHTF9FU1xcbiAgICBwcmVjaXNpb24gaGlnaHAgZmxvYXQ7XFxuI2VuZGlmXFxuXFxuI2RlZmluZSBQSSAzLjE0MTU5MjY1MzhcXG5cXG51bmlmb3JtIHNhbXBsZXIyRCB1U2FtcGxlcjtcXG51bmlmb3JtIHZlYzIgdVRleE1pbjtcXG51bmlmb3JtIHZlYzIgdVRleE1heDtcXG51bmlmb3JtIG1hdDMgdVRyYW5zZm9ybTtcXG51bmlmb3JtIGZsb2F0IHVTY2FsZVo7XFxuXFxudmFyeWluZyB2ZWMyIHZQaXhlbFBvcztcXG5cXG5mbG9hdCBmbW9kKGZsb2F0IGEsIGZsb2F0IGIpIHtcXG4gICAgcmV0dXJuIGEgLSAoYiAqIGZsb29yKGEgLyBiKSk7XFxufVxcblxcbnZlYzIgbm9ybWFsaXplUG9zaXRpb24odmVjMiBwb3MpIHtcXG4gICAgcG9zLnkgPSBmbW9kKHBvcy55ICsgUEksIDIuMCAqIFBJKTtcXG4gICAgcG9zLnkgPSBmbW9kKDIuMCAqIFBJICsgcG9zLnksIDIuMCAqIFBJKSAtIFBJO1xcbiAgICBpZiAocG9zLnkgPCAtUEkgLyAyLjApIHtcXG4gICAgICAgIHBvcy54ICs9IFBJO1xcbiAgICAgICAgcG9zLnkgPSBhYnMoLVBJIC8gMi4wIC0gcG9zLnkpIC0gUEkgLyAyLjA7XFxuICAgIH0gZWxzZSBpZiAocG9zLnkgPiBQSSAvIDIuMCkge1xcbiAgICAgICAgcG9zLnggKz0gUEk7XFxuICAgICAgICBwb3MueSA9IFBJIC8gMi4wIC0gYWJzKHBvcy55IC0gUEkgLyAyLjApO1xcbiAgICB9XFxuICAgIHBvcy54ID0gZm1vZChwb3MueCArIFBJLCAyLjAgKiBQSSk7XFxuICAgIHBvcy54ID0gZm1vZCgyLjAgKiBQSSArIHBvcy54LCAyLjAgKiBQSSk7XFxuICAgIHJldHVybiB2ZWMyKHBvcy54IC0gUEksIHBvcy55KTtcXG59XFxuXFxudmVjMyBzcGhlcmVQb3NpdGlvbigpIHtcXG4gICAgdmVjMyBwb3MgPSB2ZWMzKHZQaXhlbFBvcywgMC4wKTtcXG4gICAgcG9zLnogPSAxLjAgLSBwb3MueCpwb3MueCAtIHBvcy55KnBvcy55O1xcbiAgICBpZiAocG9zLnogPCAwLjApIHtcXG4gICAgICAgIGZsb2F0IGRpc3QgPSBzcXJ0KHBvcy54KnBvcy54ICsgcG9zLnkqcG9zLnkpO1xcbiAgICAgICAgcG9zLnggLz0gZGlzdDtcXG4gICAgICAgIHBvcy55IC89IGRpc3Q7XFxuICAgICAgICBwb3MueiA9IDAuMDtcXG4gICAgfSBlbHNlIHtcXG4gICAgICAgIHBvcy56ID0gc3FydChwb3Mueik7XFxuICAgIH1cXG4gICAgcmV0dXJuIHBvcztcXG59XFxuXFxudmVjMiB0ZXhQb3NpdGlvbih2ZWMzIHBvcykge1xcbiAgICBwb3MgPSB1VHJhbnNmb3JtICogcG9zO1xcbiAgICB2ZWMyIGNvb3JkID0gdmVjMihcXG4gICAgICAgIGF0YW4ocG9zLngsIHBvcy56KSxcXG4gICAgICAgIGF0YW4ocG9zLnksIHNxcnQocG9zLngqcG9zLnggKyBwb3Mueipwb3MueikpXFxuICAgICk7XFxuICAgIHZlYzIgbG9ubGF0ID0gbm9ybWFsaXplUG9zaXRpb24oY29vcmQpO1xcbiAgICByZXR1cm4gdmVjMigobG9ubGF0LnggKyBQSSkgLyAoMi4wICogUEkpLCAobG9ubGF0LnkgKyBQSSAvIDIuMCkgLyBQSSk7XFxufVxcblxcbmZsb2F0IGNvbXB1dGVMaWdodCh2ZWMzIHBvcywgYm9vbCB3YXRlcikge1xcbiAgICB2ZWMzIGxpZ2h0ID0gbm9ybWFsaXplKHZlYzMoLTEuMCwgMS4wLCAzLjApKTtcXG4gICAgZmxvYXQgYyA9IG1heCgwLjAsIGRvdChsaWdodCwgcG9zKSk7XFxuICAgIGZsb2F0IGEgPSBtYXgoMC4wLCBkb3QodmVjMygwLjAsIDAuMCwgMS4wKSwgcmVmbGVjdCgtbGlnaHQsIHBvcykpKTtcXG4gICAgYSAqPSBhO1xcbiAgICBpZiAod2F0ZXIpIHtcXG4gICAgICAgIHJldHVybiBjICogMC43ICsgYSAqIDAuMSArIDAuMjtcXG4gICAgfSBlbHNlIHtcXG4gICAgICAgIHJldHVybiBjICogMC41ICsgYSAqIDAuMyArIDAuMjtcXG4gICAgfVxcbn1cXG5cXG52ZWMzIHdhdGVyQ29sb3IodmVjMyBwb3MpIHtcXG4gICAgcmV0dXJuIHZlYzMoMC4wLCAwLjIsIDAuNCk7XFxufVxcblxcbnZvaWQgbWFpbigpIHtcXG4gICAgYm9vbCB3YXRlciA9IGZhbHNlO1xcbiAgICB2ZWMzIHBvcyA9IHNwaGVyZVBvc2l0aW9uKCk7XFxuICAgIGZsb2F0IGRpc3QgPSB2UGl4ZWxQb3MueCAqIHZQaXhlbFBvcy54ICsgdlBpeGVsUG9zLnkgKiB2UGl4ZWxQb3MueTtcXG4gICAgZmxvYXQgZWRnZSA9IChkaXN0IC0gMS4wKSAqIChkaXN0IC0gMS4wKTtcXG4gICAgdmVjMiB0ZXhDb29yZCA9IHRleFBvc2l0aW9uKHBvcyk7XFxuICAgIGlmICh1VGV4TWluLnggPD0gMS4wICsgdGV4Q29vcmQueCAmJiB1VGV4TWF4LnggPj0gMS4wICsgdGV4Q29vcmQueCkge1xcbiAgICAgICAgdmVjMiB0ZXhQb3MgPSB2ZWMyKFxcbiAgICAgICAgICAgICh0ZXhDb29yZC54ICsgMS4wIC0gdVRleE1pbi54KSAvICh1VGV4TWF4LnggLSB1VGV4TWluLngpLFxcbiAgICAgICAgICAgICh0ZXhDb29yZC55IC0gdVRleE1pbi55KSAvICh1VGV4TWF4LnkgLSB1VGV4TWluLnkpXFxuICAgICAgICApO1xcbiAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB0ZXhQb3MpO1xcbiAgICB9IGVsc2Uge1xcbiAgICAgICAgdmVjMiB0ZXhQb3MgPSB2ZWMyKFxcbiAgICAgICAgICAgICh0ZXhDb29yZC54IC0gdVRleE1pbi54KSAvICh1VGV4TWF4LnggLSB1VGV4TWluLngpLFxcbiAgICAgICAgICAgICh0ZXhDb29yZC55IC0gdVRleE1pbi55KSAvICh1VGV4TWF4LnkgLSB1VGV4TWluLnkpXFxuICAgICAgICApO1xcbiAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdGV4dHVyZTJEKHVTYW1wbGVyLCB0ZXhQb3MpO1xcbiAgICB9XFxuICAgIGlmIChsZW5ndGgoZ2xfRnJhZ0NvbG9yKSA9PSAwLjApIHtcXG4gICAgICAgIGdsX0ZyYWdDb2xvciA9IHZlYzQod2F0ZXJDb2xvcihwb3MpLCAxLjApO1xcbiAgICAgICAgd2F0ZXIgPSB0cnVlO1xcbiAgICB9XFxuICAgIGlmIChkaXN0ID49IDEuMCkge1xcbiAgICAgICAgZ2xfRnJhZ0NvbG9yID0gdmVjNCgwLjAsIDAuMCwgMC4wLCAwLjApO1xcbiAgICB9XFxuICAgIGZsb2F0IGYgPSAwLjc1ICogZXhwKC0xLjBlNCAqIGVkZ2UpO1xcbiAgICBnbF9GcmFnQ29sb3IgPSAoMS4wIC0gZikgKiBnbF9GcmFnQ29sb3IgKyBmICogdmVjNCgwLjUsIDAuNzUsIDEuMCwgMS4wKTtcXG4gICAgaWYgKGRpc3QgPCAxLjApIHtcXG4gICAgICAgIGZsb2F0IGYgPSAwLjIgKiBleHAoLTEuMCAvICgyLjAgLSBwb3MueikgKiB1U2NhbGVaKSArIDAuMiAqICgxLjAgLSBwb3Mueik7XFxuICAgICAgICBnbF9GcmFnQ29sb3IgPSAoMS4wIC0gZikgKiBnbF9GcmFnQ29sb3IgKyBmICogdmVjNCgwLjAsIDAuNzUsIDEuMCwgMS4wKTtcXG4gICAgfVxcbiAgICBnbF9GcmFnQ29sb3IueHl6ID0gY29tcHV0ZUxpZ2h0KHBvcywgd2F0ZXIpICogZ2xfRnJhZ0NvbG9yLnh5ejtcXG59XFxuXFxuXCI7IiwiXG5pbXBvcnQgeyBMaXRFbGVtZW50LCBodG1sLCBjc3MgfSBmcm9tICdsaXQnO1xuaW1wb3J0IGVhcmN1dCBmcm9tICdlYXJjdXQnO1xuXG5pbXBvcnQgV2ViR0xSZW5kZXJlciBmcm9tICcuL3dlYmdsLXJlbmRlcmVyJztcbmltcG9ydCBXZWJHTFJlbmRlcmVyM2QgZnJvbSAnLi93ZWJnbC1yZW5kZXJlci0zZCc7XG5cbmNsYXNzIE1hcEJhY2tlbmRXZWJHbCBleHRlbmRzIExpdEVsZW1lbnQge1xuXG4gICAgc3RhdGljIGdldCBwcm9wZXJ0aWVzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbG9jYXRpb25zOiB7IGF0dHJpYnV0ZTogdHJ1ZSB9LFxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIGdldCBzdHlsZXMoKSB7XG4gICAgICAgIHJldHVybiBjc3NgXG4gICAgICAgICAgICA6aG9zdCB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICNtYXAge1xuICAgICAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgICAgICAgICBtYXgtd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICAgICAgbWF4LWhlaWdodDogMTAwJTtcbiAgICAgICAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIGA7XG4gICAgfVxuXG4gICAgbmV3UmVuZGVyZXIoKSB7XG4gICAgICAgIHJldHVybiBuZXcgV2ViR0xSZW5kZXJlcigpO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmxvY2F0aW9uX2RhdGEgPSB7fTtcbiAgICAgICAgdGhpcy5yZW5kZXJlciA9IHRoaXMubmV3UmVuZGVyZXIoKTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgICAgICAgIGNlbnRlcjogWzAsIDBdLFxuICAgICAgICAgICAgc2NhbGU6IDEsXG4gICAgICAgICAgICBtaW46IFswLCAwXSxcbiAgICAgICAgICAgIG1heDogWzAsIDBdLFxuICAgICAgICAgICAgc2l6ZTogWzAsIDBdLFxuICAgICAgICAgICAgaG92ZXI6IG51bGwsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZ2V0IGNlbnRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuY2VudGVyO1xuICAgIH1cblxuICAgIGdldCBzY2FsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuc2NhbGU7XG4gICAgfVxuXG4gICAgc2V0Q2VudGVyQW5kU2NhbGUoY2VudGVyLCBzY2FsZSkge1xuICAgICAgICB0aGlzLnN0YXRlLmNlbnRlciA9IGNlbnRlcjtcbiAgICAgICAgdGhpcy5zdGF0ZS5zY2FsZSA9IHNjYWxlO1xuICAgIH1cbiAgICBcbiAgICBjbGllbnRQb3NUb01hcFBvcyhjbGllbnRfcG9zKSB7XG4gICAgICAgIGNvbnN0IG1hcCA9IHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgnbWFwJyk7XG4gICAgICAgIGNvbnN0IG1hcF9wb3MgPSBtYXAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmNsaWVudFBvc1RvTWFwUG9zKGNsaWVudF9wb3MsIG1hcF9wb3MsIHRoaXMuc3RhdGUpO1xuICAgIH1cblxuICAgIGNsaWVudFBvc1RvUHJvalBvcyhjbGllbnRfcG9zKSB7XG4gICAgICAgIGNvbnN0IG1hcCA9IHRoaXMuc2hhZG93Um9vdC5nZXRFbGVtZW50QnlJZCgnbWFwJyk7XG4gICAgICAgIGNvbnN0IG1hcF9wb3MgPSBtYXAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbmRlcmVyLmNsaWVudFBvc1RvUHJvalBvcyhjbGllbnRfcG9zLCBtYXBfcG9zLCB0aGlzLnN0YXRlKTtcbiAgICB9XG4gICAgXG4gICAgcHJvalBvc1RvQ2xpZW50UG9zKGxvY2F0aW9uX3Bvcykge1xuICAgICAgICBjb25zdCBtYXAgPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoJ21hcCcpO1xuICAgICAgICBjb25zdCBtYXBfcG9zID0gbWFwLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJlci5wcm9qUG9zVG9DbGllbnRQb3MobG9jYXRpb25fcG9zLCBtYXBfcG9zLCB0aGlzLnN0YXRlKTtcbiAgICB9XG5cbiAgICBoYW5kbGVNb3VzZU1vdmUoZXZlbnQpIHtcbiAgICAgICAgY29uc3QgcG9zID0gdGhpcy5jbGllbnRQb3NUb1Byb2pQb3MoW2V2ZW50LmNsaWVudFgsIGV2ZW50LmNsaWVudFldKTtcbiAgICAgICAgZm9yKGNvbnN0IGxvYyBvZiB0aGlzLmxvY2F0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgdHJpYW5nbGVzID0gdGhpcy5sb2NhdGlvbl9kYXRhW2xvYy5pZF07XG4gICAgICAgICAgICBpZih0cmlhbmdsZXMubWluWzBdIDw9IHBvc1swXSAmJiB0cmlhbmdsZXMubWluWzFdIDw9IHBvc1sxXSAmJlxuICAgICAgICAgICAgICAgIHRyaWFuZ2xlcy5tYXhbMF0gPj0gcG9zWzBdICYmIHRyaWFuZ2xlcy5tYXhbMV0gPj0gcG9zWzFdKSB7XG4gICAgICAgICAgICAgICAgZm9yKGNvbnN0IHBvbHlnb24gb2YgdHJpYW5nbGVzLnBvbHlnb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKHBvbHlnb24ubWluWzBdIDw9IHBvc1swXSAmJiBwb2x5Z29uLm1pblsxXSA8PSBwb3NbMV0gJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvbHlnb24ubWF4WzBdID49IHBvc1swXSAmJiBwb2x5Z29uLm1heFsxXSA+PSBwb3NbMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwb2x5Z29uLnRyaWFuZ2xlcy5sZW5ndGg7IGkgKz0gMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHYxID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2x5Z29uLnZlcnRpY2VzWzIgKiBwb2x5Z29uLnRyaWFuZ2xlc1tpXV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvbHlnb24udmVydGljZXNbMiAqIHBvbHlnb24udHJpYW5nbGVzW2ldICsgMV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHYyID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2x5Z29uLnZlcnRpY2VzWzIgKiBwb2x5Z29uLnRyaWFuZ2xlc1tpICsgMV1dLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2x5Z29uLnZlcnRpY2VzWzIgKiBwb2x5Z29uLnRyaWFuZ2xlc1tpICsgMV0gKyAxXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdjMgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvbHlnb24udmVydGljZXNbMiAqIHBvbHlnb24udHJpYW5nbGVzW2kgKyAyXV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvbHlnb24udmVydGljZXNbMiAqIHBvbHlnb24udHJpYW5nbGVzW2kgKyAyXSArIDFdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBzaWduKHAxLCBwMiwgcDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChwMVswXSAtIHAzWzBdKSAqIChwMlsxXSAtIHAzWzFdKSAtIChwMlswXSAtIHAzWzBdKSAqIChwMVsxXSAtIHAzWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZDEgPSBzaWduKHBvcywgdjEsIHYyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkMiA9IHNpZ24ocG9zLCB2MiwgdjMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGQzID0gc2lnbihwb3MsIHYzLCB2MSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGFzX25lZyA9IChkMSA8IDApIHx8IChkMiA8IDApIHx8IChkMyA8IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhc19wb3MgPSAoZDEgPiAwKSB8fCAoZDIgPiAwKSB8fCAoZDMgPiAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighKGhhc19uZWcgJiYgaGFzX3BvcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5ob3ZlciA9IGxvYy5pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbXlfZXZlbnQgPSBuZXcgRXZlbnQoJ2hvdmVyJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG15X2V2ZW50LmxvY2F0aW9uID0gbG9jO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBteV9ldmVudC5wb3NpdGlvbiA9IHRoaXMucHJvalBvc1RvQ2xpZW50UG9zKFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwb2x5Z29uLm1pblswXSArIHBvbHlnb24ubWF4WzBdKSAvIDIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAocG9seWdvbi5taW5bMV0gKyBwb2x5Z29uLm1heFsxXSkgLyAyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQobXlfZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGFuZGxlTW91c2VPdXQoKTtcbiAgICB9XG5cbiAgICBoYW5kbGVNb3VzZU91dCgpIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5ob3ZlciA9IG51bGw7XG4gICAgICAgIGNvbnN0IG15X2V2ZW50ID0gbmV3IEV2ZW50KCdob3ZlcicpO1xuICAgICAgICBteV9ldmVudC5sb2NhdGlvbiA9IG51bGw7XG4gICAgICAgIG15X2V2ZW50LnBvc2l0aW9uID0gbnVsbDtcbiAgICAgICAgdGhpcy5kaXNwYXRjaEV2ZW50KG15X2V2ZW50KTtcbiAgICB9XG4gICAgXG4gICAgaGFuZGxlVG91Y2hTdGFydChldmVudCkge1xuICAgICAgICBpZihldmVudC50b3VjaGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVNb3VzZU1vdmUoe1xuICAgICAgICAgICAgICAgIGNsaWVudFg6IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WCxcbiAgICAgICAgICAgICAgICBjbGllbnRZOiBldmVudC50b3VjaGVzWzBdLmNsaWVudFksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlTW91c2VPdXQoZXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIFxuICAgIHJlbmRlck1hcEluQ2FudmFzKCkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgICAhdGhpcy5sYXN0IHx8IHRoaXMubGFzdC5jZW50ZXIgIT0gdGhpcy5zdGF0ZS5jZW50ZXJcbiAgICAgICAgICAgIHx8IHRoaXMubGFzdC5zY2FsZSAhPSB0aGlzLnN0YXRlLnNjYWxlXG4gICAgICAgICAgICB8fCB0aGlzLmxhc3QuaG92ZXIgIT0gdGhpcy5zdGF0ZS5ob3ZlclxuICAgICAgICAgICAgfHwgdGhpcy5sYXN0LnNpemUgIT0gdGhpcy5zdGF0ZS5zaXplXG4gICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5yZW5kZXJlci5yZW5kZXJNYXBJbkNvbnRleHQodGhpcy5sb2NhdGlvbnMsIHRoaXMubG9jYXRpb25fZGF0YSwgdGhpcy5zdGF0ZSlcbiAgICAgICAgICAgIHRoaXMubGFzdCA9IHsgLi4udGhpcy5zdGF0ZSB9O1xuICAgICAgICB9XG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5yZW5kZXJNYXBJbkNhbnZhcy5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICB1cGRhdGVkKCkge1xuICAgICAgICBjb25zdCBjYW52YXMgPSB0aGlzLnNoYWRvd1Jvb3QuZ2V0RWxlbWVudEJ5SWQoJ21hcCcpO1xuICAgICAgICBpZiAodGhpcy5sYXN0X2NhbnZhcyAhPSBjYW52YXMpIHtcbiAgICAgICAgICAgIHRoaXMubGFzdF9jYW52YXMgPSBjYW52YXM7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmRlaW5pdFJlc291cmNlcyh0aGlzLmxvY2F0aW9ucywgdGhpcy5sb2NhdGlvbl9kYXRhKTtcbiAgICAgICAgICAgIGNvbnN0IGdsID0gY2FudmFzLmdldENvbnRleHQoJ3dlYmdsJykgfHwgY2FudmFzLmdldENvbnRleHQoJ2V4cGVyaW1lbnRhbC13ZWJnbCcpO1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlUmVzaXplID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNhbnZhcy53aWR0aCA9IGNhbnZhcy5jbGllbnRXaWR0aDtcbiAgICAgICAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gY2FudmFzLmNsaWVudEhlaWdodDtcbiAgICAgICAgICAgICAgICBnbC52aWV3cG9ydCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuc2l6ZSA9IFtjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHRdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGhhbmRsZVJlc2l6ZSk7XG4gICAgICAgICAgICBoYW5kbGVSZXNpemUoKTtcbiAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuaW5pdEZvckNvbnRleHQoY2FudmFzLCBnbCwgdGhpcy5sb2NhdGlvbnMsIHRoaXMubG9jYXRpb25fZGF0YSk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlck1hcEluQ2FudmFzKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sYXN0ID0gbnVsbDtcbiAgICB9XG5cbiAgICBnZW5lcmF0ZVRyaWFuZ2xlcyhsb2NhdGlvbikge1xuICAgICAgICBjb25zdCBwb2x5Z29ucyA9IFtdO1xuICAgICAgICBsZXQgdmVydGV4X2NvdW50ID0gMDtcbiAgICAgICAgbGV0IHRyaWFuZ2xlX2NvdW50ID0gMDtcbiAgICAgICAgbGV0IG91dGxpbmVfY291bnQgPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IHBvbHkgb2YgbG9jYXRpb24uY29vcmRzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgcG9seSkge1xuICAgICAgICAgICAgICAgIG91dGxpbmVfY291bnQgKz0gcGFydC5sZW5ndGg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBkYXRhID0gZWFyY3V0LmZsYXR0ZW4ocG9seSk7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmFwcGx5UHJvamVjdGlvbihkYXRhLnZlcnRpY2VzKTtcbiAgICAgICAgICAgIGNvbnN0IHRyaWFuZ2xlcyA9IGVhcmN1dChkYXRhLnZlcnRpY2VzLCBkYXRhLmhvbGVzLCBkYXRhLmRpbWVuc2lvbnMpO1xuICAgICAgICAgICAgdmVydGV4X2NvdW50ICs9IGRhdGEudmVydGljZXMubGVuZ3RoO1xuICAgICAgICAgICAgdHJpYW5nbGVfY291bnQgKz0gdHJpYW5nbGVzLmxlbmd0aDtcbiAgICAgICAgICAgIHBvbHlnb25zLnB1c2goe1xuICAgICAgICAgICAgICAgIHZlcnRpY2VzOiBuZXcgRmxvYXQzMkFycmF5KGRhdGEudmVydGljZXMpLFxuICAgICAgICAgICAgICAgIHRyaWFuZ2xlczogbmV3IFVpbnQxNkFycmF5KHRyaWFuZ2xlcyksXG4gICAgICAgICAgICAgICAgbWluOiBwb2x5LmZsYXQoKS5tYXAodGhpcy5yZW5kZXJlci5wcm9qZWN0aW9uKVxuICAgICAgICAgICAgICAgICAgICAucmVkdWNlKChhLCBiKSA9PiBbTWF0aC5taW4oYVswXSwgYlswXSksIE1hdGgubWluKGFbMV0sIGJbMV0pXSksXG4gICAgICAgICAgICAgICAgbWF4OiBwb2x5LmZsYXQoKS5tYXAodGhpcy5yZW5kZXJlci5wcm9qZWN0aW9uKVxuICAgICAgICAgICAgICAgICAgICAucmVkdWNlKChhLCBiKSA9PiBbTWF0aC5tYXgoYVswXSwgYlswXSksIE1hdGgubWF4KGFbMV0sIGJbMV0pXSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2ZXJ0aWNlcyA9IG5ldyBGbG9hdDMyQXJyYXkodmVydGV4X2NvdW50KTtcbiAgICAgICAgY29uc3QgdHJpYW5nbGVzID0gbmV3IFVpbnQxNkFycmF5KHRyaWFuZ2xlX2NvdW50KTtcbiAgICAgICAgdmVydGV4X2NvdW50ID0gMDtcbiAgICAgICAgdHJpYW5nbGVfY291bnQgPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IHBvbHkgb2YgcG9seWdvbnMpIHtcbiAgICAgICAgICAgIHZlcnRpY2VzLnNldChwb2x5LnZlcnRpY2VzLCB2ZXJ0ZXhfY291bnQpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwb2x5LnRyaWFuZ2xlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHRyaWFuZ2xlc1t0cmlhbmdsZV9jb3VudCArIGldID0gdmVydGV4X2NvdW50IC8gMiArIHBvbHkudHJpYW5nbGVzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmVydGV4X2NvdW50ICs9IHBvbHkudmVydGljZXMubGVuZ3RoO1xuICAgICAgICAgICAgdHJpYW5nbGVfY291bnQgKz0gcG9seS50cmlhbmdsZXMubGVuZ3RoO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG91dGxpbmVfdHJpYW5nbGVzID0gbmV3IEZsb2F0MzJBcnJheShvdXRsaW5lX2NvdW50ICogMjQpO1xuICAgICAgICBjb25zdCBvdXRsaW5lX25vcm1hbHMgPSBuZXcgRmxvYXQzMkFycmF5KG91dGxpbmVfY291bnQgKiAyNCk7XG4gICAgICAgIG91dGxpbmVfY291bnQgPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IHBvbHkgb2YgbG9jYXRpb24uY29vcmRzKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJhd19wYXJ0IG9mIHBvbHkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXJ0ID0gcmF3X3BhcnQubWFwKHRoaXMucmVuZGVyZXIucHJvamVjdGlvbilcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhcnQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VyciA9IHBhcnRbaV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxhc3QgPSBwYXJ0WyhwYXJ0Lmxlbmd0aCArIGkgLSAxKSAlIHBhcnQubGVuZ3RoXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dCA9IHBhcnRbKGkgKyAxKSAlIHBhcnQubGVuZ3RoXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZnJvbV9sYXN0ID0gW2N1cnJbMF0gLSBsYXN0WzBdLCBjdXJyWzFdIC0gbGFzdFsxXV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvX25leHQgPSBbbmV4dFswXSAtIGN1cnJbMF0sIG5leHRbMV0gLSBjdXJyWzFdXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0ID0gb3V0bGluZV9jb3VudCAqIDI0ICsgaSAqIDI0O1xuICAgICAgICAgICAgICAgICAgICBvdXRsaW5lX3RyaWFuZ2xlcy5zZXQoW1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyclswXSwgY3VyclsxXSwgICBjdXJyWzBdLCBjdXJyWzFdLCAgIG5leHRbMF0sIG5leHRbMV0sIC8vIExpbmVcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJbMF0sIGN1cnJbMV0sICAgbmV4dFswXSwgbmV4dFsxXSwgICBuZXh0WzBdLCBuZXh0WzFdLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyWzBdLCBjdXJyWzFdLCAgIGN1cnJbMF0sIGN1cnJbMV0sICAgY3VyclswXSwgY3VyclsxXSwgLy8gQ29ybmVyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyWzBdLCBjdXJyWzFdLCAgIGN1cnJbMF0sIGN1cnJbMV0sICAgY3VyclswXSwgY3VyclsxXSxcbiAgICAgICAgICAgICAgICAgICAgXSwgb2Zmc2V0KTtcbiAgICAgICAgICAgICAgICAgICAgb3V0bGluZV9ub3JtYWxzLnNldChbXG4gICAgICAgICAgICAgICAgICAgICAgICB0b19uZXh0WzFdLCAtdG9fbmV4dFswXSwgICAtdG9fbmV4dFsxXSwgdG9fbmV4dFswXSwgICB0b19uZXh0WzFdLCAtdG9fbmV4dFswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC10b19uZXh0WzFdLCB0b19uZXh0WzBdLCAgIC10b19uZXh0WzFdLCB0b19uZXh0WzBdLCAgIHRvX25leHRbMV0sIC10b19uZXh0WzBdLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAtZnJvbV9sYXN0WzFdLCBmcm9tX2xhc3RbMF0sIGZyb21fbGFzdFsxXSwgLWZyb21fbGFzdFswXSwgLXRvX25leHRbMV0sIHRvX25leHRbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAtZnJvbV9sYXN0WzFdLCBmcm9tX2xhc3RbMF0sIGZyb21fbGFzdFsxXSwgLWZyb21fbGFzdFswXSwgdG9fbmV4dFsxXSwgLXRvX25leHRbMF0sXG4gICAgICAgICAgICAgICAgICAgIF0sIG9mZnNldClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3V0bGluZV9jb3VudCArPSBwYXJ0Lmxlbmd0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcG9seWdvbnMsIHZlcnRpY2VzLCB0cmlhbmdsZXMsIG91dGxpbmVfdHJpYW5nbGVzLCBvdXRsaW5lX25vcm1hbHMsXG4gICAgICAgICAgICBtaW46IHBvbHlnb25zLm1hcChwID0+IHAubWluKS5yZWR1Y2UoKGEsIGIpID0+IFtNYXRoLm1pbihhWzBdLCBiWzBdKSwgTWF0aC5taW4oYVsxXSwgYlsxXSldKSxcbiAgICAgICAgICAgIG1heDogcG9seWdvbnMubWFwKHAgPT4gcC5tYXgpLnJlZHVjZSgoYSwgYikgPT4gW01hdGgubWF4KGFbMF0sIGJbMF0pLCBNYXRoLm1heChhWzFdLCBiWzFdKV0pLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGJ1aWxkUmVuZGVyRGF0YSgpIHtcbiAgICAgICAgdGhpcy5sb2NhdGlvbnMuZm9yRWFjaChsb2MgPT4ge1xuICAgICAgICAgICAgbG9jLmNvbG9yID0gbG9jLmNvbG9yLm1hcChlbCA9PiBlbCAvIDI1NSk7XG4gICAgICAgICAgICBpZiAobG9jKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmxvY2F0aW9uX2RhdGFbbG9jLmlkXSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvY2F0aW9uX2RhdGFbbG9jLmlkXSA9IHRoaXMuZ2VuZXJhdGVUcmlhbmdsZXMobG9jKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnN0YXRlLm1pbiA9IHRoaXMubG9jYXRpb25zLm1hcChsID0+IHRoaXMubG9jYXRpb25fZGF0YVtsLmlkXS5taW4pXG4gICAgICAgICAgICAucmVkdWNlKChhLCBiKSA9PiBbTWF0aC5taW4oYVswXSwgYlswXSksIE1hdGgubWluKGFbMV0sIGJbMV0pXSk7XG4gICAgICAgIHRoaXMuc3RhdGUubWF4ID0gdGhpcy5sb2NhdGlvbnMubWFwKGwgPT4gdGhpcy5sb2NhdGlvbl9kYXRhW2wuaWRdLm1heClcbiAgICAgICAgICAgIC5yZWR1Y2UoKGEsIGIpID0+IFtNYXRoLm1heChhWzBdLCBiWzBdKSwgTWF0aC5tYXgoYVsxXSwgYlsxXSldKTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHRoaXMuYnVpbGRSZW5kZXJEYXRhKCk7XG4gICAgICAgIHJldHVybiBodG1sYFxuICAgICAgICAgICAgPGNhbnZhc1xuICAgICAgICAgICAgICAgIGlkPVwibWFwXCJcbiAgICAgICAgICAgICAgICBAbW91c2Vtb3ZlPVwiJHt0aGlzLmhhbmRsZU1vdXNlTW92ZX1cIlxuICAgICAgICAgICAgICAgIEB3aGVlbD1cIiR7dGhpcy5oYW5kbGVNb3VzZU1vdmV9XCJcbiAgICAgICAgICAgICAgICBAbW91c2VvdXQ9XCIke3RoaXMuaGFuZGxlTW91c2VPdXR9XCJcbiAgICAgICAgICAgICAgICBAdG91Y2hzdGFydD1cIiR7dGhpcy5oYW5kbGVUb3VjaFN0YXJ0fVwiXG4gICAgICAgICAgICAgICAgQHRvdWNobW92ZT1cIiR7dGhpcy5oYW5kbGVUb3VjaFN0YXJ0fVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICA8L2NhbnZhcz5cbiAgICAgICAgYDtcbiAgICB9XG59XG5cbmN1c3RvbUVsZW1lbnRzLmRlZmluZSgnbWFwLWJhY2tlbmQnLCBNYXBCYWNrZW5kV2ViR2wpO1xuXG5jbGFzcyBNYXBCYWNrZW5kV2ViR2wzZCBleHRlbmRzIE1hcEJhY2tlbmRXZWJHbCB7XG4gICAgbmV3UmVuZGVyZXIoKSB7XG4gICAgICAgIHJldHVybiBuZXcgV2ViR0xSZW5kZXJlcjNkKCk7XG4gICAgfVxufVxuXG5jdXN0b21FbGVtZW50cy5kZWZpbmUoJ21hcC1iYWNrZW5kLTNkJywgTWFwQmFja2VuZFdlYkdsM2QpO1xuXG4iXSwibmFtZXMiOlsiV2ViR0xSZW5kZXJlciIsImFycmF5IiwiTWFwUmVuZGVyZXIiLCJpIiwibGVuZ3RoIiwidGhpcyIsInByb2plY3Rpb24iLCJjbGllbnRfcG9zIiwibWFwX3BvcyIsInN0YXRlIiwiZ2VuZXJhdGVUcmFuc2xhdGVBbmRTY2FsZSIsInNjYWxlIiwiY2xpZW50X3Bvc19ub3JtIiwieCIsIndpZHRoIiwieSIsImhlaWdodCIsImNlbnRlciIsInRyYW5zZm9ybSIsImxvY2F0aW9uX3BvcyIsIm1pbiIsIm1heCIsInNpemUiLCJ6b29tX3NjYWxlIiwiZ2wiLCJ2ZXJ0ZXhfc2hhZGVyX3NvdXJjZSIsImZyYWdtZW50X3NoYWRlcl9zb3VyY2UiLCJ2ZXJ0ZXhfc2hhZGVyIiwiY3JlYXRlU2hhZGVyIiwiVkVSVEVYX1NIQURFUiIsInNoYWRlclNvdXJjZSIsImNvbXBpbGVTaGFkZXIiLCJmcmFnbWVudF9zaGFkZXIiLCJGUkFHTUVOVF9TSEFERVIiLCJzaGFkZXJfcHJvZ3JhbSIsImNyZWF0ZVByb2dyYW0iLCJhdHRhY2hTaGFkZXIiLCJsaW5rUHJvZ3JhbSIsImNhbnZhcyIsImxvY2F0aW9ucyIsImxvY2F0aW9uX2RhdGEiLCJmaWxsX3NoYWRlcl9wcm9ncmFtIiwiY3JlYXRlU2hhZGVyUHJvZ3JhbSIsImZpbGxfcG9zaXRpb25fYXR0cmlidXRlIiwiZ2V0QXR0cmliTG9jYXRpb24iLCJmaWxsX3RyYW5zbGF0ZV91bmlmb3JtIiwiZ2V0VW5pZm9ybUxvY2F0aW9uIiwiZmlsbF9zY2FsZV91bmlmb3JtIiwiZmlsbF9jb2xvcl91bmlmb3JtIiwic3Ryb2tlX3NoYWRlcl9wcm9ncmFtIiwic3Ryb2tlX3Bvc2l0aW9uX2F0dHJpYnV0ZSIsInN0cm9rZV9ub3JtYWxfYXR0cmlidXRlIiwic3Ryb2tlX3RyYW5zbGF0ZV91bmlmb3JtIiwic3Ryb2tlX3NjYWxlX3VuaWZvcm0iLCJzdHJva2Vfc2NhbGUyX3VuaWZvcm0iLCJzdHJva2Vfd2lkdGhfdW5pZm9ybSIsInN0cm9rZV9jb2xvcl91bmlmb3JtIiwidHJpYW5nbGVzIiwiaWQiLCJwb3NpdGlvbl9idWZmZXIiLCJjcmVhdGVCdWZmZXIiLCJiaW5kQnVmZmVyIiwiQVJSQVlfQlVGRkVSIiwiYnVmZmVyRGF0YSIsInZlcnRpY2VzIiwiU1RBVElDX0RSQVciLCJpbmRleF9idWZmZXIiLCJFTEVNRU5UX0FSUkFZX0JVRkZFUiIsIm91dGxpbmVfcG9zaXRpb25fYnVmZmVyIiwib3V0bGluZV90cmlhbmdsZXMiLCJvdXRsaW5lX25vcm1hbF9idWZmZXIiLCJvdXRsaW5lX25vcm1hbHMiLCJnbF9wb3NpdGlvbl9idWZmZXIiLCJnbF9pbmRleF9idWZmZXIiLCJnbF9vdXRsaW5lX3Bvc2l0aW9uX2J1ZmZlciIsImdsX291dGxpbmVfbm9ybWFsX2J1ZmZlciIsIndlYmdsX2RhdGEiLCJjb250ZXh0IiwiZmlsbF9kYXRhIiwicG9zaXRpb25fYXR0cmlidXRlIiwidHJhbnNsYXRlX3VuaWZvcm0iLCJzY2FsZV91bmlmb3JtIiwiY29sb3JfdW5pZm9ybSIsInN0cm9rZV9kYXRhIiwibm9ybWFsX2F0dHJpYnV0ZSIsInNjYWxlMl91bmlmb3JtIiwid2lkdGhfdW5pZm9ybSIsImRlbGV0ZUJ1ZmZlciIsImdldEF0dGFjaGVkU2hhZGVycyIsImZvckVhY2giLCJzIiwiZGVsZXRlU2hhZGVyIiwiZGVsZXRlUHJvZ3JhbSIsInRyYW5zbGF0ZSIsInN0cm9rZV9zY2FsZSIsImNsZWFyQ29sb3IiLCJjbGVhciIsIkNPTE9SX0JVRkZFUl9CSVQiLCJsb2MiLCJ1c2VQcm9ncmFtIiwidW5pZm9ybTJmdiIsInVuaWZvcm0xZiIsInVuaWZvcm0zZnYiLCJ2ZXJ0ZXhBdHRyaWJQb2ludGVyIiwiRkxPQVQiLCJlbmFibGVWZXJ0ZXhBdHRyaWJBcnJheSIsImRyYXdBcnJheXMiLCJUUklBTkdMRVMiLCJob3ZlciIsImNvbG9yIiwibWFwIiwiZWwiLCJkcmF3RWxlbWVudHMiLCJVTlNJR05FRF9TSE9SVCIsIldlYkdMUmVuZGVyZXIzZCIsIl9hcnJheSIsImdlbmVyYXRlU2NhbGUiLCJwb3MiLCJkaXN0IiwiTWF0aCIsInNxcnQiLCJjbGllbnRQb3NUb1NwaGVyZVBvcyIsInBvc2l0aW9uIiwibWF0M1ZlY011bCIsImdlbmVyYXRlVHJhbnNmb3JtIiwiYXRhbjIiLCJhIiwiUEkiLCJmbG9vciIsImNvb3JkIiwicHJvaiIsImNsaWVudFBvc1RvU29tZVBvcyIsIm5vcm1hbGl6ZUFyb3VuZCIsIm5vcm1hbGl6ZVBvc2l0aW9uIiwicHJval9wb3MiLCJjb3MiLCJzaW4iLCJnZW5lcmF0ZUludmVyc2VUcmFuc2Zvcm0iLCJiIiwicmVzIiwiaiIsImsiLCJ2IiwiYXhpcyIsImFuZ2xlIiwibWF0M011bCIsIm1hdDNSb3RhdGlvbiIsImJldGEiLCJnYW1tYSIsImFicyIsInNjcmVlbl9zY2FsZSIsInNpemVfeCIsInNpemVfeSIsInRleHR1cmUiLCJjcmVhdGVUZXh0dXJlIiwiYmluZFRleHR1cmUiLCJURVhUVVJFXzJEIiwidGV4SW1hZ2UyRCIsIlJHQkEiLCJVTlNJR05FRF9CWVRFIiwidGV4UGFyYW1ldGVyaSIsIlRFWFRVUkVfTUlOX0ZJTFRFUiIsIkxJTkVBUiIsIlRFWFRVUkVfV1JBUF9TIiwiQ0xBTVBfVE9fRURHRSIsIlRFWFRVUkVfV1JBUF9UIiwiZWFydGhfc2hhZGVyX3Byb2dyYW0iLCJlYXJ0aF9wb3NpdGlvbl9hdHRyaWJ1dGUiLCJlYXJ0aF9zY2FsZV91bmlmb3JtIiwiZWFydGhfc2NhbGUyX3VuaWZvcm0iLCJlYXJ0aF9zYW1wbGVyX3VuaWZvcm0iLCJlYXJ0aF90ZXhtaW5fdW5pZm9ybSIsImVhcnRoX3RleG1heF91bmlmb3JtIiwiZWFydGhfdHJhbnNmb3JtX3VuaWZvcm0iLCJlYXJ0aF92ZXJ0aWNlcyIsIkZsb2F0MzJBcnJheSIsImVhcnRoX3RyaWFuZ2xlcyIsIlVpbnQxNkFycmF5IiwiZWFydGhfcG9zaXRpb25fYnVmZmVyIiwiZWFydGhfaW5kZXhfYnVmZmVyIiwiZWFydGhfZGF0YSIsInNhbXBsZXJfdW5pZm9ybSIsInRleG1pbl91bmlmb3JtIiwidGV4bWF4X3VuaWZvcm0iLCJ0cmFuc2Zvcm1fdW5pZm9ybSIsImRlbGV0ZVRleHR1cmUiLCJmYiIsImNyZWF0ZUZyYW1lYnVmZmVyIiwiYmluZEZyYW1lYnVmZmVyIiwiRlJBTUVCVUZGRVIiLCJhdHRhY2htZW50IiwiQ09MT1JfQVRUQUNITUVOVDAiLCJmcmFtZWJ1ZmZlclRleHR1cmUyRCIsInZpZXdwb3J0IiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJnZW5lcmF0ZVRleE1pbk1heCIsInJlbmRlclRvVGV4dHVyZSIsImNsZWFyRGVwdGgiLCJ1bmlmb3JtMWZ2IiwidW5pZm9ybTFpIiwidW5pZm9ybU1hdHJpeDNmdiIsIk1hcEJhY2tlbmRXZWJHbCIsInJlbmRlcmVyIiwibmV3UmVuZGVyZXIiLCJzaGFkb3dSb290IiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJjbGllbnRQb3NUb01hcFBvcyIsImNsaWVudFBvc1RvUHJvalBvcyIsInByb2pQb3NUb0NsaWVudFBvcyIsImV2ZW50IiwiY2xpZW50WCIsImNsaWVudFkiLCJwb2x5Z29ucyIsInBvbHlnb24iLCJ2MSIsInYyIiwidjMiLCJzaWduIiwicDEiLCJwMiIsInAzIiwiZDEiLCJkMiIsImQzIiwibXlfZXZlbnQiLCJFdmVudCIsImxvY2F0aW9uIiwiZGlzcGF0Y2hFdmVudCIsImhhbmRsZU1vdXNlT3V0IiwidG91Y2hlcyIsImhhbmRsZU1vdXNlTW92ZSIsImxhc3QiLCJyZW5kZXJNYXBJbkNvbnRleHQiLCJ3aW5kb3ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJyZW5kZXJNYXBJbkNhbnZhcyIsImJpbmQiLCJsYXN0X2NhbnZhcyIsImRlaW5pdFJlc291cmNlcyIsImdldENvbnRleHQiLCJoYW5kbGVSZXNpemUiLCJhZGRFdmVudExpc3RlbmVyIiwiaW5pdEZvckNvbnRleHQiLCJ2ZXJ0ZXhfY291bnQiLCJ0cmlhbmdsZV9jb3VudCIsIm91dGxpbmVfY291bnQiLCJjb29yZHMiLCJwb2x5IiwiZGF0YSIsImVhcmN1dCIsImFwcGx5UHJvamVjdGlvbiIsImhvbGVzIiwiZGltZW5zaW9ucyIsInB1c2giLCJmbGF0IiwicmVkdWNlIiwic2V0IiwicGFydCIsImN1cnIiLCJuZXh0IiwiZnJvbV9sYXN0IiwidG9fbmV4dCIsIm9mZnNldCIsInAiLCJnZW5lcmF0ZVRyaWFuZ2xlcyIsImwiLCJidWlsZFJlbmRlckRhdGEiLCJodG1sIiwiaGFuZGxlVG91Y2hTdGFydCIsImF0dHJpYnV0ZSIsImNzcyIsIkxpdEVsZW1lbnQiLCJjdXN0b21FbGVtZW50cyIsImRlZmluZSIsIk1hcEJhY2tlbmRXZWJHbDNkIl0sInNvdXJjZVJvb3QiOiIifQ==