(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{49:function(t,n,e){"use strict";e.r(n);var o,a,i,r,c=e(10),u=e.n(c),s=e(12),l=e.n(s),h=e(13),d=e.n(h),f=e(18),m=e.n(f),v=e(19),p=e.n(v),y=e(17),w=e.n(y),g=e(11),b=e(34),M=e(36),k=e(21);function j(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,o=w()(t);if(n){var a=w()(this).constructor;e=Reflect.construct(o,arguments,a)}else e=o.apply(this,arguments);return p()(this,e)}}var O=function(t){m()(e,t);var n=j(e);function e(){var t;return l()(this,e),(t=n.call(this)).zoom_scale=1,t.zoom_center=[0,0],t}return d()(e,[{key:"center",get:function(){return this.zoom_center}},{key:"scale",get:function(){return this.zoom_scale}},{key:"setCenterAndScale",value:function(t,n){this.zoom_center=t,this.zoom_scale=n,this.shadowRoot.getElementById("map").style.transform="scale(".concat(this.zoom_scale,") translate(").concat(-this.zoom_center[0],"%,").concat(-this.zoom_center[1],"%)")}},{key:"clientPosToMapPos",value:function(t){var n=this.shadowRoot.getElementById("map").getBoundingClientRect();return[(t[0]-n.x-n.width/2)/n.width*100,(t[1]-n.y-n.height/2)/n.height*100]}},{key:"handleMouseMove",value:function(t){var n,e,o=t.target,a=o;if("path"===(null===(n=a)||void 0===n?void 0:n.tagName)&&(a=a.parentNode),null!==(e=a)&&void 0!==e&&e.location_data){var i,r=null===(i=a)||void 0===i?void 0:i.location_data,c=o.getBoundingClientRect(),u=[c.x+c.width/2,c.y+c.height/2],s=new Event("hover");s.location=r,s.position=u,this.dispatchEvent(s)}else{var l=new Event("hover");l.location=null,l.position=null,this.dispatchEvent(l)}}},{key:"handleMouseOut",value:function(){var t=new Event("hover");t.location=null,t.position=null,this.dispatchEvent(t)}},{key:"handleTouchStart",value:function(t){1===t.touches.length?this.handleMouseMove(t):this.handleMouseOut(t)}},{key:"updated",value:function(){var t=this;window.requestAnimationFrame((function n(){var e=t.shadowRoot.getElementById("map");e?window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){e.style.transform="scale(".concat(t.zoom_scale,") translate(").concat(-t.zoom_center[0],"%,").concat(-t.zoom_center[1],"%)"),e.style.opacity=1}))})):window.requestAnimationFrame(n)}))}},{key:"render",value:function(){var t=k.a.project(this.locations.filter((function(t){return t})).map((function(t){return t.min})).reduce((function(t,n){return[Math.min(t[0],n[0]),Math.min(t[1],n[1])]}))),n=k.a.project(this.locations.filter((function(t){return t})).map((function(t){return t.max})).reduce((function(t,n){return[Math.max(t[0],n[0]),Math.max(t[1],n[1])]}))),e=[n[1],t[1]];t[1]=e[0],n[1]=e[1];var r=Math.max(n[0]-t[0],n[1]-t[1]),c=5*Math.max(window.innerWidth,window.innerHeight);return this.locations.forEach((function(n){n&&(n.svg=n.coords.map((function(n){return Object(g.d)(o||(o=u()(['<path d="','"/>'])),n.map((function(n,e){return(0==e?n:n.reverse()).map(k.a.project).map((function(n){return[Math.round(Object(M.b)(n[0],t[0],t[0]+r,0,c)),Math.round(Object(M.b)(n[1],t[1],t[1]+r,0,c))]})).filter((function(t,n,e){var o,a;return t[0]!==(null===(o=e[n+1])||void 0===o?void 0:o[0])||t[1]!==(null===(a=e[n+1])||void 0===a?void 0:a[1])})).map((function(t,n){return 0==n?"M"+t[0]+","+t[1]:"L"+t[0]+","+t[1]})).join(" ")+" z"})).join(" "))})))})),Object(g.c)(a||(a=u()(['\n            <svg\n                id="map"\n                viewBox="','"\n                @mousemove="','"\n                @wheel="','"\n                @mouseout="','"\n                @touchstart="','"\n                @touchmove="','"\n            >\n                ',"\n            </svg>\n        "])),Math.round(Object(M.b)(t[0],t[0],t[0]+r,0,c))+" "+Math.round(Object(M.b)(t[1],t[1],t[1]+r,0,c))+" "+Math.round(Object(M.b)(n[0],t[0],t[0]+r,0,c))+" "+Math.round(Object(M.b)(n[1],t[1],t[1]+r,0,c)),this.handleMouseMove,this.handleMouseMove,this.handleMouseOut,this.handleTouchStart,this.handleTouchStart,this.locations.map((function(t){return Object(g.d)(i||(i=u()(['\n                    <g\n                        class="geometry"\n                        style="','"\n                        .location_data="','"\n                    >\n                        ',"\n                    </g>\n                "])),Object(b.a)({fill:"rgb(".concat(t.color[0],",").concat(t.color[1],",").concat(t.color[2],")")}),t,null==t?void 0:t.svg)})))}}],[{key:"properties",get:function(){return{locations:{type:Array}}}},{key:"styles",get:function(){return Object(g.b)(r||(r=u()(["\n            :host {\n                width: 100%;\n                height: 100%;\n                position: relative;\n                display: block;\n            }\n            #map {\n                width: 100%;\n                height: 100%;\n                max-width: 100%;\n                max-height: 100%;\n                transform: scale(5);\n                opacity: 0.001;\n                will-change: transform, opacity;\n                stroke: var(--background-darkish);\n                stroke-width: 0.125%;\n                stroke-linejoin: round;\n                paint-order: stroke fill;\n                display: block;\n                position: absolute;\n            }\n            svg#map g:hover {\n                fill-opacity: 0.75;\n            }\n        "])))}}]),e}(g.a);customElements.define("map-backend",O)}}]);