(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(n,t,e){"use strict";var r=e(10),o=e.n(r),a=e(29),i=e.n(a),c=e(25),u=e.n(c),s=e(26),l=e.n(s),f=e(27),p=e.n(f),d=e(12),h=e.n(d),m=e(13),v=e.n(m),b=e(18),g=e.n(b),y=e(19),w=e.n(y),x=e(17),k=e.n(x),O=e(11),j=e(36),M=e(21);e(28);function P(){var n=o()(["\n            * {\n                box-sizing: border-box;\n            }\n            :host {\n                width: 100%;\n                height: 100%;\n                display: block;\n            }\n            div#map-renderer-root {\n                width: 100%;\n                height: 100%;\n                overflow: visible;\n                position: relative;\n                color: white;\n                padding: 1rem;\n                --background: var(--background-dark);\n                background: var(--background);\n                display: flex;\n                align-items: center;\n                justify-content: center;\n            }\n            svg.wrapping-svg {\n                stroke: var(--background);\n                stroke-width: 0.25%;\n                stroke-linejoin: round;\n                stroke-linecap: round;\n                filter: url(#dropshadow);\n                width: 100%;\n                height: 100%;\n                max-width: 100%;\n                max-height: 100%;\n                display: block;\n            }\n            svg.wrapping-svg g:hover {\n                fill-opacity: 0.75;\n            }\n            div#map-wrapper {\n                position: relative;\n                width: 100%;\n                height: 100%;\n                max-width: 100%;\n                max-height: 100%;\n                display: block;\n            }\n            div#info-box-wrapper {\n                --anchor-point: 50%;\n                --anchor-at-bottom: 0;\n                position: absolute;\n                top: 0;\n                left: 0;\n                z-index: 100;\n                transform: translate(\n                    calc(var(--anchor-point) * -1),\n                    calc(var(--anchor-at-bottom) * (-100% - 8.5px) + (1 - var(--anchor-at-bottom)) * 8.5px));\n                display: none;\n                pointer-events: none;\n            }\n            div#info-box-wrapper.visible {\n                display: block;\n            }\n            div#info-box {\n                padding: 0.5rem;\n                font-size: 0.9rem;\n                font-family: Roboto, sans-serif;\n                color: black;\n                display: block;\n                width: max-content;\n                height: max-content;\n                max-width: 15rem;\n                min-width: 150px;\n                width: 100%;\n            }\n            div#info-box-name {\n                overflow: hidden;\n                text-overflow: ellipsis;\n                white-space: nowrap;\n            }\n            div#info-box-background {\n                display: block;\n                position: absolute;\n                background: var(--background-light);\n                width: 100%;\n                height: 100%;\n                border-radius: 4px;\n                opacity: 0.85;\n                z-index: -1;\n            }\n            div#info-box-background::before {\n                content: '';\n                box-shadow: var(--shadow-small);\n                position: absolute;\n                width: 100%;\n                height: 100%;\n                top: 0;\n                left: 0;\n                border-radius: 4px;\n            }\n            div#info-box-background::after {\n                content: '';\n                position: absolute;\n                width: 12px;\n                height: 12px;\n                top: calc(var(--anchor-at-bottom) * 100%);\n                left: var(--anchor-point);\n                transform: translate(-50%, -50%) rotate(45deg);\n                background: var(--background-light);\n            }\n            div.info-field {\n                display: grid;\n                grid-template-columns: auto auto;\n            }\n            span.info-field-name {\n                padding-right: 1rem;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                white-space: nowrap;\n            }\n            span.info-field-value {\n                display: flex;\n                align-items: center;\n                justify-content: right;\n                overflow: hidden;\n                text-overflow: ellipsis;\n                white-space: nowrap;\n            }\n            hr {\n                border: 1px solid var(--secondary);\n            }\n            div.title {\n                flex: 0 0 auto;\n                font-size: 1.2rem;\n                padding: 1rem 0 0 1rem;\n                font-family: Roboto, sans-serif;\n                position: absolute;\n                z-index: 10;\n                left: 0;\n                top: 0;\n                pointer-events: none;\n            }\n            div#map-legend {\n                z-index: 9;\n                position: absolute;\n                padding: 0 1rem 1rem 0;\n                bottom: 0;\n                right: 0;\n                font-size: 0.85rem;\n                font-family: Roboto, sans-serif;\n                display: grid;\n                grid-template-columns: auto auto;\n                grid-gap: 0.5rem;\n                align-items: center;\n                pointer-events: none;\n            }\n            span.color-gradiant {\n                display: flex;\n                flex-flow: column;\n                align-items: center;\n            }\n            span.color-gradiant span.scale {\n                display: block;\n                height: 5rem;\n                width: 0.65rem;\n                box-shadow: var(--shadow-small);\n                margin-top: 0.25rem;\n                margin-bottom: 0.25rem;\n            }\n            span.color-block {\n                display: block;\n                height: 0.5rem;\n                width: 0.5rem;\n                box-shadow: var(--shadow-small);\n            }\n            div.no-data {\n                font-family: Roboto, sans-serif;\n                font-weight: 600;\n                font-size: 2rem; \n                white-space: nowrap;\n                text-transform: uppercase;\n            }\n        "]);return P=function(){return n},n}function R(){var n=o()(["<ui-spinner></ui-spinner>"]);return R=function(){return n},n}function C(){var n=o()(['\n            <div id="map-renderer-root">\n                ',"\n            </div>\n        "]);return C=function(){return n},n}function I(){var n=o()(['<div class="no-data">No data</div>']);return I=function(){return n},n}function _(){var n=o()(['\n                                    <span class="legend-label">','</span>\n                                    <span class="color-gradiant">\n                                        <span>','</span>\n                                        <span class="scale" style="','"></span>\n                                        <span>',"</span>\n                                    </span>\n                                "]);return _=function(){return n},n}function D(){var n=o()(['\n                                <span class="legend-label">','</span>\n                                <span class="color-block" style="','"></span>\n                            ']);return D=function(){return n},n}function E(){var n=o()(['\n                                <g class="geometry" style="','" .location_data="','"\n                                    @mousemove="','"\n                                    @mouseout="','"\n                                    @mousedown="','"\n                                >\n                                    ',"\n                                </g>\n                            "]);return E=function(){return n},n}function B(){var n=o()(['\n                                        <span class="info-field-name">','</span>\n                                        <span class="info-field-value"></span>\n                                    ']);return B=function(){return n},n}function z(){var n=o()(['\n                    <div id="map-wrapper">\n                        <div id="info-box-wrapper">\n                            <div id="info-box-background"></div>\n                            <div id="info-box">\n                                <div id="info-box-name"></div>\n                                <hr />\n                                <div class="info-field">\n                                    ','\n                                </div>\n                            </div>\n                        </div>\n                        <svg\n                            class="wrapping-svg"\n                            xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"\n                            viewBox="','"\n                        >\n                            <filter id="dropshadow" height="130%">\n                              <feGaussianBlur in="SourceAlpha" stdDeviation="3"/>\n                              <feOffset dx="2" dy="2" result="offsetblur"/>\n                              <feComponentTransfer>\n                                <feFuncA type="linear" slope="0.25"/>\n                              </feComponentTransfer>\n                              <feMerge> \n                                <feMergeNode/>\n                                <feMergeNode in="SourceGraphic"/>\n                              </feMerge>\n                            </filter>\n                            ','\n                        </svg>\n                    </div>\n                    <div class="title">','</div>\n                    <div id="map-legend">',"</div>\n                "]);return z=function(){return n},n}function N(){var n=o()(['<path d="','"/>']);return N=function(){return n},n}function S(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function A(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?S(Object(e),!0).forEach((function(t){i()(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):S(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function T(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var e,r=k()(n);if(t){var o=k()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return w()(this,e)}}var U={},L=function(n){g()(r,n);var t,e=T(r);function r(){return h()(this,r),e.apply(this,arguments)}return v()(r,[{key:"mouseMoveCallback",value:function(n){var t,e,r=n.target;"path"===(null===(t=r)||void 0===t?void 0:t.tagName)&&(r=r.parentNode);var o=this.shadowRoot.getElementById("info-box-wrapper");if(null===(e=r)||void 0===e?void 0:e.location_data){var a,i=null===(a=r)||void 0===a?void 0:a.location_data;if(!o.current_location!==i){var c=this.shadowRoot.getElementById("info-box-name"),u=this.shadowRoot.getElementById("map-wrapper");c.innerText=i.name.split(",")[0],Array.from(o.getElementsByClassName("info-field-value")).forEach((function(n,t){n.innerText=Math.round(100*i.data[t])/100}));var s=r.getBoundingClientRect(),l=u.getBoundingClientRect(),f=s.x-l.x+s.width/2,p=s.y-l.y+s.height/2;o.style.left=f+"px",o.style.top=p+"px",o.classList.add("visible"),o.style.setProperty("--anchor-point",f/u.clientWidth*90+5+"%"),o.style.setProperty("--anchor-at-bottom",p>1.2*(o.clientHeight+12)?1:0),o.current_location=i}}}},{key:"mouseOutCallback",value:function(){var n=this.shadowRoot.getElementById("info-box-wrapper");n.classList.remove("visible"),n.current_location=null}},{key:"drawMap",value:(t=p()(u.a.mark((function n(){var t,e,o,a,i,c,s,f,d,h,m,v,b,g,y,w,x,k=this;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t=this.data,n.prev=1,!((null==t||null===(e=t.locations)||void 0===e?void 0:e.length)>0)){n.next=22;break}return c=Promise.all(t.locations.map(function(){var n=p()(u.a.mark((function n(t){var e,o;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=25;break}if(U[t]){n.next=22;break}return n.prev=2,n.next=5,fetch("".concat("./static/data/","/").concat(t,".bin"));case 5:if(!(e=n.sent).ok){n.next=16;break}return n.t0=r,n.next=10,e.arrayBuffer();case 10:n.t1=n.sent,(o=n.t0.parseBinaryData.call(n.t0,n.t1)).coords=o.coords.map((function(n){return n.map((function(n){return n.map((function(n){var t=l()(n,2),e=t[0],o=t[1];return r.project([e/1e7,o/1e7]).map((function(n){return 1e3*n}))}))}))})),U[t]={name:o.name,min:o.coords.reduce((function(n,t){return n.concat(t)}),[]).reduce((function(n,t){return n.concat(t)}),[]).reduce((function(n,t){return[Math.min(n[0],t[0]),Math.min(n[1],t[1])]})),max:o.coords.reduce((function(n,t){return n.concat(t)}),[]).reduce((function(n,t){return n.concat(t)}),[]).reduce((function(n,t){return[Math.max(n[0],t[0]),Math.max(n[1],t[1])]})),coords:o.coords},n.next=17;break;case 16:U[t]=null;case 17:n.next=22;break;case 19:return n.prev=19,n.t2=n.catch(2),n.abrupt("return",null);case 22:return n.abrupt("return",U[t]);case 25:return n.abrupt("return",null);case 26:case"end":return n.stop()}}),n,null,[[2,19]])})));return function(t){return n.apply(this,arguments)}}())),t.title&&(document.title=t.title),s=t.data.map((function(n){return t.color_using?t.color_using.map((function(t){return n[t]})):n})),f=r.parseColor(t.defcolor||"#ffffff"),(null==s||null===(o=s[0])||void 0===o?void 0:o.length)>0?(h=s.reduce((function(n,t){return n.map((function(n,e){return Math.max(n,t[e])}))})),m=s.reduce((function(n,t){return n.map((function(n,e){return Math.min(n,t[e])}))})),d=s.map((function(n){if(1==n.length){var e=r.parseColor(t.colors[0]),o=r.colorPropScale(r.map(n[0],m[0],h[0],0,1));return r.blendColors([e,f],[o,1-o])}var a=n.reduce((function(n,t){return n+t})),i=t.colors.map((function(n){return r.parseColor(n)})),c=n.map((function(n){return 0!==a?n/a:1}));return r.blendColors(i,c)}))):d=t.locations.map((function(){return f})),n.next=10,c;case 10:if(v=n.sent.map((function(n,e){return n?A(A({},n),{},{data:t.data[e],columns:t.columns}):null})),0!=(null===(a=v.filter)||void 0===a?void 0:a.call(v,(function(n){return n})).length)){n.next=13;break}throw"No data";case 13:return b=v.filter((function(n){return n})).map((function(n){return n.min})).reduce((function(n,t){return[Math.min(n[0],t[0]),Math.min(n[1],t[1])]})),g=v.filter((function(n){return n})).map((function(n){return n.max})).reduce((function(n,t){return[Math.max(n[0],t[0]),Math.max(n[1],t[1])]})),y=Math.max(g[0]-b[0],g[1]-b[1]),v.forEach((function(n){n&&(n.svg=n.coords.map((function(n){return Object(O.d)(N(),n.map((function(n,t){return(0==t?n:n.reverse()).map((function(n,t){return 0==t?"M "+r.map(n[0],b[0],b[0]+y,0,1e3)+","+r.map(n[1],b[1],b[1]+y,0,1e3):"L "+r.map(n[0],b[0],b[0]+y,0,1e3)+","+r.map(n[1],b[1],b[1]+y,0,1e3)})).join(" ")+" z"})).join(" "))})))})),w=s.reduce((function(n,t){return n.map((function(n,e){return Math.min(n,t[e])}))})),x=s.reduce((function(n,t){return n.map((function(n,e){return Math.max(n,t[e])}))})),n.abrupt("return",Object(O.c)(z(),t.columns.map((function(n){return Object(O.c)(B(),n)})),r.map(b[0],b[0],b[0]+y,0,1e3)+" "+r.map(b[1],b[1],b[1]+y,0,1e3)+" "+r.map(g[0],b[0],b[0]+y,0,1e3)+" "+r.map(g[1],b[1],b[1]+y,0,1e3),v.map((function(n,t){return Object(O.d)(E(),Object(j.a)({fill:"rgb(".concat(d[t][0],",").concat(d[t][1],",").concat(d[t][2],")")}),n,k.mouseMoveCallback,k.mouseOutCallback,k.mouseMoveCallback,null==n?void 0:n.svg)})),t.title,(null==s||null===(i=s[0])||void 0===i?void 0:i.length)>1?t.colors.map((function(n,e){return Object(O.c)(D(),t.color_using?t.columns[t.color_using[e]]:t.color_using[e],Object(j.a)({background:n}))})):t.colors.length>=1?Object(O.c)(_(),t.color_using?t.columns[t.color_using[0]]:t.color_using[0],Math.round(100*x[0])/100,Object(j.a)({background:"linear-gradient(".concat(t.colors[0],",").concat(t.defcolor,")")}),Math.round(100*w[0])/100):null));case 22:throw"No data";case 23:n.next=28;break;case 25:return n.prev=25,n.t0=n.catch(1),n.abrupt("return",Object(O.c)(I()));case 28:case"end":return n.stop()}}),n,this,[[1,25]])}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){return Object(O.c)(C(),Object(M.a)(this.drawMap(),Object(O.c)(R())))}}],[{key:"parseBinaryData",value:function(n){for(var t=new Uint8Array(n),e=0;0!=t[e];)e++;var r=new Uint8Array(n,0,e),o=new TextDecoder,a=new DataView(n,e+1);e=0;var i=[],c=a.getUint32(e,!0);e+=4;for(var u=0;u<c;u++){i.push([]);var s=a.getUint32(e,!0);e+=4;for(var l=0;l<s;l++){i[u].push([]);var f=a.getUint32(e,!0);e+=4;for(var p=0;p<f;p++){var d=a.getInt32(e,!0);e+=4;var h=a.getInt32(e,!0);e+=4,i[u][l].push([d,h])}}}return{name:o.decode(r),coords:i}}},{key:"project",value:function(n){var t=l()(n,2),e=t[0],r=t[1];return[Math.PI+e*Math.PI/180,function(){Math.abs(r)>85&&(r=85*Math.sign(r));var n=r*Math.PI/180;return Math.PI-Math.log(Math.tan(Math.PI/4+n/2))}()]}},{key:"parseColor",value:function(n){var t=n.match(/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[255,255,255]}},{key:"blendColors",value:function(n,t){var e=[0,0,0],r=t.reduce((function(n,t){return n+t}),0);return 0===r?n[0]||e:(n.forEach((function(n,r){return e.forEach((function(o,a){return e[a]+=n[a]*n[a]*t[r]}))})),e.map((function(n){return Math.sqrt(n/r)})))}},{key:"colorPropScale",value:function(n){return Math.log10(99*n+1)/2}},{key:"map",value:function(n,t,e,r,o){return t===e?o:n<t?r:n>e?o:(n-t)/(e-t)*(o-r)+r}},{key:"properties",get:function(){return{data:{type:Object}}}},{key:"styles",get:function(){return Object(O.b)(P())}}]),r}(O.a);customElements.define("map-renderer",L)},28:function(n,t,e){"use strict";var r=e(37),o=e.n(r),a=e(10),i=e.n(a),c=e(12),u=e.n(c),s=e(13),l=e.n(s),f=e(18),p=e.n(f),d=e(19),h=e.n(d),m=e(17),v=e.n(m),b=e(11);function g(){var n=i()(["\n                span.ui-spinner span:nth-child(",") {\n                    animation: 1s calc(0.02s * ",") ease-in-out infinite ui-spinner-keyframes;\n                    width: calc(25% - 1% * ",");\n                    height: calc(25% - 1% * ",");\n                    top: calc(50% - (25% - 1% * ",") / 2);\n                    left: 0%;\n                    transform-origin: "," 50%;\n                }\n            "]);return g=function(){return n},n}function y(){var n=i()(["\n            span.ui-spinner {\n                width: 5rem;\n                height: 5rem;\n                max-width: 100%;\n                max-height: 100%;\n                position: relative;\n                display: block;\n            }\n            span.ui-spinner span {\n                display: block;\n                position: absolute;\n                background: var(--primary);\n                border-radius: 50%;\n            }\n            @keyframes ui-spinner-keyframes {\n                0% {\n                    transform: rotate(0deg);\n                }\n                100% {\n                    transform: rotate(360deg);\n                }\n            }\n            ","\n        "]);return y=function(){return n},n}function w(){var n=i()(["<span></span>"]);return w=function(){return n},n}function x(){var n=i()(['\n            <span class="ui-spinner">\n                ',"\n            </span>\n        "]);return x=function(){return n},n}function k(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}();return function(){var e,r=v()(n);if(t){var o=v()(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return h()(this,e)}}var O=function(n){p()(e,n);var t=k(e);function e(){return u()(this,e),t.apply(this,arguments)}return l()(e,[{key:"render",value:function(){return Object(b.c)(x(),o()(Array(10).keys()).map((function(){return Object(b.c)(w())})))}}],[{key:"styles",get:function(){return Object(b.b)(y(),Object(b.e)(o()(Array(10).keys()).map((function(n){return Object(b.b)(g(),Object(b.e)(n+1),Object(b.e)(n+1),Object(b.e)(n+1),Object(b.e)(n+1),Object(b.e)(n+1),Object(b.e)(5e3/(25-1*(n+1))+"%"))})).join("")))}}]),e}(b.a);customElements.define("ui-spinner",O)}}]);